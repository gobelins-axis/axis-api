!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bundle={})}(this,(function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}var h=function(){function e(){n(this,e)}return r(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),n[e].includes(t)||n[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}}},{key:"dispatchEvent",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n)for(var i=n.slice(0),r=0,o=i.length;r<o;r++)i[r].call(this,t)}}}]),e}();function l(e,t,n){return clearTimeout(n),n=setTimeout(e,t)}function _(e,t,n){var i=new Date;return void 0===n||i-n>=t?(e(),i):n}var y={deadzone:.1,threshold:0,inputInactiveDelay:.2,inputIntervalMax:.2,inputIntervalMin:.1};function v(e,t,n,i,r){return(e-t)*(r-i)/(n-t)+i}function p(e,t){var n,i,r,o,s=v(e.x,0,1023,-1,1),a=-1*v(e.y,0,1023,-1,1);return(r=(n={x:s,y:a}).x-(i={x:0,y:0}).x,o=n.y-i.y,Math.sqrt(r*r+o*o))<t&&(s=0,a=0),{x:s,y:a}}var k=function(e){s(i,e);var t=u(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,i),(e=t.call(this))._id=r.id,e._deadzone=y.deadzone,e._threshold=y.threshold,e._inputInactiveDelay=y.inputInactiveDelay,e._inputIntervalMin=y.inputIntervalMin,e._inputIntervalMax=y.inputIntervalMax,e._ipcRenderer=null,e._position={x:0,y:0},e._inputLeftIndex=0,e._inputRightIndex=0,e._inputUpIndex=0,e._inputDownIndex=0,e._bindAll(),e}return r(i,[{key:"id",get:function(){return this._id}},{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(e){this._ipcRenderer=e}},{key:"position",get:function(){return this._position}},{key:"deadzone",get:function(){return this._deadzone},set:function(e){this._deadzone=e}},{key:"threshold",get:function(){return this._threshold},set:function(e){this._threshold=e}},{key:"inputIntervalMin",get:function(){return this._inputIntervalMin},set:function(e){this._inputIntervalMin=e}},{key:"inputIntervalMax",get:function(){return this._inputIntervalMax},set:function(e){this._inputIntervalMax=e}},{key:"moveHandler",value:function(e){this._position.x=p(e,this._deadzone).x,this._position.y=p(e,this._deadzone).y,this.dispatchEvent("joystick:move",{id:this._id,position:this._position}),this._position.x<=-1+this._threshold&&this._moveLeftHandler(),this._position.x>=1-this._threshold&&this._moveRightHandler(),this._position.y>=1-this._threshold&&this._moveUpHandler(),this._position.y<=-1+this._threshold&&this._moveDownHandler(),this._ipcRenderer&&1===this._id&&this._ipcRenderer.send("mouse:move",this._position)}},{key:"_bindAll",value:function(){this._moveLeftHandler=this._moveLeftHandler.bind(this),this._moveLeftThrottledHandler=this._moveLeftThrottledHandler.bind(this),this._moveLeftEndHandler=this._moveLeftEndHandler.bind(this),this._moveRightHandler=this._moveRightHandler.bind(this),this._moveRightThrottledHandler=this._moveRightThrottledHandler.bind(this),this._moveRightEndHandler=this._moveRightEndHandler.bind(this),this._moveUpHandler=this._moveUpHandler.bind(this),this._moveUpThrottledHandler=this._moveUpThrottledHandler.bind(this),this._moveUpEndHandler=this._moveUpEndHandler.bind(this),this._moveDownHandler=this._moveDownHandler.bind(this),this._moveDownThrottledHandler=this._moveDownThrottledHandler.bind(this),this._moveDownEndHandler=this._moveDownEndHandler.bind(this)}},{key:"_moveLeftHandler",value:function(){var e=this._inputLeftIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveLeft=_(this._moveLeftThrottledHandler,1e3*e,this._throttleMoveLeft),this._debounceMoveLeft=l(this._moveLeftEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveLeft)}},{key:"_moveLeftThrottledHandler",value:function(){this._inputLeftIndex++,this.dispatchEvent("joystick:quickmove",{direction:"left",position:this._position})}},{key:"_moveLeftEndHandler",value:function(){this._inputLeftIndex=0}},{key:"_moveRightHandler",value:function(){var e=this._inputRightIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveRight=_(this._moveRightThrottledHandler,1e3*e,this._throttleMoveRight),this._debounceMoveRight=l(this._moveRightEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveRight)}},{key:"_moveRightThrottledHandler",value:function(){this._inputRightIndex++,this.dispatchEvent("joystick:quickmove",{direction:"right",position:this._position})}},{key:"_moveRightEndHandler",value:function(){this._inputRightIndex=0}},{key:"_moveUpHandler",value:function(){var e=this._inputUpIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveUp=_(this._moveUpThrottledHandler,1e3*e,this._throttleMoveUp),this._debounceMoveUp=l(this._moveUpEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveUp)}},{key:"_moveUpThrottledHandler",value:function(){this._inputUpIndex++,this.dispatchEvent("joystick:quickmove",{direction:"up",position:this._position})}},{key:"_moveUpEndHandler",value:function(){this._inputUpIndex=0}},{key:"_moveDownHandler",value:function(){var e=this._inputDownIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveDown=_(this._moveDownThrottledHandler,1e3*e,this._throttleMoveDown),this._debounceMoveDown=l(this._moveDownEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveDown)}},{key:"_moveDownThrottledHandler",value:function(){this._inputDownIndex++,this.dispatchEvent("joystick:quickmove",{direction:"down",position:this._position})}},{key:"_moveDownEndHandler",value:function(){this._inputDownIndex=0}}]),i}(h),f=function(e){s(i,e);var t=u(i);function i(){var e;return n(this,i),(e=t.call(this))._joystick1=e._createJoystick1(),e._joystick2=e._createJoystick2(),e._ipcRenderer=null,e._bindAll(),e._setupIpcRendererEventListeners(),e}return r(i,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(e){this._ipcRenderer=e,this._joystick1.ipcRenderer=e,this._joystick2.ipcRenderer=e,this._setupIpcRendererEventListeners()}},{key:"joystick1",get:function(){return this._joystick1}},{key:"joystick2",get:function(){return this._joystick2}},{key:"destroy",value:function(){this._removeIpcRendererEventListeners()}},{key:"_createJoystick1",value:function(){return new k({id:1})}},{key:"_createJoystick2",value:function(){return new k({id:2})}},{key:"_bindAll",value:function(){this._joystickMoveHandler=this._joystickMoveHandler.bind(this)}},{key:"_setupIpcRendererEventListeners",value:function(){this._ipcRenderer&&this._ipcRenderer.on("joystick:move",this._joystickMoveHandler)}},{key:"_removeIpcRendererEventListeners",value:function(){this._ipcRenderer&&this._ipcRenderer.removeListener("joystick:move",this._joystickMoveHandler)}},{key:"_joystickMoveHandler",value:function(e,t){1===t.id&&this._joystick1.moveHandler(t.position),2===t.id&&this._joystick2.moveHandler(t.position),this.dispatchEvent("joystick:move",t)}}]),i}(h),m=function(e){s(i,e);var t=u(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,i),(e=t.call(this))._id=r.id,e._key=r.key,e._keyboardKeys=[],e}return r(i,[{key:"id",get:function(){return this._id}},{key:"key",get:function(){return this._key}},{key:"keyboardKeys",get:function(){return this._keyboardKeys},set:function(e){this._keyboardKeys=e}},{key:"keydownHandler",value:function(e){this.dispatchEvent("keydown",{key:this._key,id:this._id,instance:this,originalEvent:e})}},{key:"keyupHandler",value:function(e){this.dispatchEvent("keyup",{key:this._key,id:this._id,instance:this,originalEvent:e})}}]),i}(h),b={buttons:[{key:"a",id:1},{key:"b",id:1},{key:"c",id:1},{key:"d",id:1},{key:"e",id:1},{key:"a",id:2},{key:"b",id:2},{key:"c",id:2},{key:"d",id:2},{key:"e",id:2}],joystick:y};var g=function(e){s(i,e);var t=u(i);function i(){var e;return n(this,i),(e=t.call(this))._buttons=e._createButtons(),e._ipcRenderer=null,e._bindAll(),e._setupEventListeners(),e}return r(i,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(e){this._ipcRenderer=e,this._setupIpcRendererEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners(),this._removeIpcRendererEventListeners()}},{key:"registerKeys",value:function(e,t,n){var i,r=this.getButton(t,n);return r&&(r.keyboardKeys=(i=e,Array.isArray(i)?i:[i])),r}},{key:"getButton",value:function(e,t){return this._buttons.filter((function(n){return n.key===e&&n.id===t}))[0]}},{key:"getButtonsById",value:function(e){return this._buttons.filter((function(t){return t.id===e}))}},{key:"getButtonsByKeyboardKey",value:function(e){return this._buttons.filter((function(t){return t.keyboardKeys.includes(e)}))}},{key:"_createButtons",value:function(){for(var e=[],t=0;t<b.buttons.length;t++){var n=new m({id:b.buttons[t].id,key:b.buttons[t].key});e.push(n)}return e}},{key:"_bindAll",value:function(){this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._machineKeydownHandler=this._machineKeydownHandler.bind(this),this._machineKeyupHandler=this._machineKeyupHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("keydown",this._keydownHandler),window.addEventListener("keyup",this._keyupHandler)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("keydown",this._keydownHandler),window.removeEventListener("keyup",this._keyupHandler)}},{key:"_setupIpcRendererEventListeners",value:function(){this._ipcRenderer&&(this._ipcRenderer.on("keydown",this._machineKeydownHandler),this._ipcRenderer.on("keyup",this._machineKeyupHandler))}},{key:"_removeIpcRendererEventListeners",value:function(){this._ipcRenderer&&(this._ipcRenderer.removeListener("keydown",this._machineKeydownHandler),this._ipcRenderer.removeListener("keyup",this._machineKeyupHandler))}},{key:"_keydownHandler",value:function(e){for(var t=this.getButtonsByKeyboardKey(e.key),n=0;n<t.length;n++){var i=t[n];i.keydownHandler(e),this.dispatchEvent("keydown",{key:i.key,id:i.id,instance:i,originalEvent:e})}}},{key:"_keyupHandler",value:function(e){for(var t=this.getButtonsByKeyboardKey(e.key),n=0;n<t.length;n++){var i=t[n];t[n].keyupHandler(e),this.dispatchEvent("keyup",{key:i.key,id:i.id,instance:i,originalEvent:e})}}},{key:"_machineKeydownHandler",value:function(e,t){var n=this.getButton(t.key,t.id);n.keydownHandler(t),this.dispatchEvent("keydown",{key:n.key,id:n.id,instance:n,originalEvent:t})}},{key:"_machineKeyupHandler",value:function(e,t){var n=this.getButton(t.key,t.id);n.keyupHandler(t),this.dispatchEvent("keyup",{key:n.key,id:n.id,instance:n,originalEvent:t}),this._ipcRenderer&&1===n.id&&"a"===n.key&&this._ipcRenderer.send("mouse:click",{})}}]),i}(h),H=function(e){s(i,e);var t=u(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,i),(e=t.call(this))._id=r.id,e._joystick=r.joystick,e._buttons=r.buttons,e._bindAll(),e._setupEventListeners(),e}return r(i,[{key:"id",get:function(){return this._id}},{key:"joystick",get:function(){return this._joystick},set:function(e){this._joystick=e}},{key:"buttons",get:function(){return this._buttons},set:function(e){this._removeEventListeners(),this._buttons=e,this._setupEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_bindAll",value:function(){this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._joystickMoveHandler=this._joystickMoveHandler.bind(this),this._joystickQuickmoveHandler=this._joystickQuickmoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._joystick.addEventListener("joystick:move",this._joystickMoveHandler),this._joystick.addEventListener("joystick:quickmove",this._joystickQuickmoveHandler);for(var e=0;e<this._buttons.length;e++)this._buttons[e].addEventListener("keydown",this._keydownHandler),this._buttons[e].addEventListener("keyup",this._keyupHandler)}},{key:"_removeEventListeners",value:function(){this._joystick.removeEventListener("joystick:move",this._joystickMoveHandler),this._joystick.removeEventListener("joystick:quickmove",this._joystickQuickmoveHandler);for(var e=0;e<this._buttons.length;e++)this._buttons[e].removeEventListener("keydown",this._keydownHandler),this._buttons[e].removeEventListener("keyup",this._keyupHandler)}},{key:"_keydownHandler",value:function(e){this.dispatchEvent("keydown",e)}},{key:"_keyupHandler",value:function(e){this.dispatchEvent("keyup",e)}},{key:"_joystickMoveHandler",value:function(e){this.dispatchEvent("joystick:move",e)}},{key:"_joystickQuickmoveHandler",value:function(e){this.dispatchEvent("joystick:quickmove",e)}}]),i}(h),R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this._joystickManager=t.joystickManager,this._buttonManager=t.buttonManager,this._players=[]}return r(e,[{key:"players",get:function(){return this._players}},{key:"destroy",value:function(){for(var e=0;e<this._players.length;e++)this._players[e].destroy()}},{key:"createPlayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new H({id:e.id,joystick:e.joystick,buttons:e.buttons});return this._players.push(t),t}},{key:"destroyPlayer",value:function(e){var t=this._players.indexOf(e);e.destroy(),this._players.splice(t,1)}},{key:"getPlayerById",value:function(e){return this._players.filter((function(t){return t.id===e}))[0]}}]),e}();var E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this._id=t.id,this._ipcRenderer=t.ipcRenderer,this._hasCheckedForIpcRenderer=!1,this._isAxisMachine=!0}return r(e,[{key:"id",get:function(){return this._id}},{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(e){this._ipcRenderer=e}},{key:"postScore",value:function(e){var t=this;return this._hasCheckedForIpcRenderer?this._postScore(e):new Promise((function(n,i){t._checkForIpcRenderer().then((function(){t._postScore(e).then(n,i),t._hasCheckedForIpcRenderer=!0}))}))}},{key:"getScores",value:function(){var e=this;return this._hasCheckedForIpcRenderer?this._getScores(score):new Promise((function(t,n){e._checkForIpcRenderer().then((function(){e._getScores().then(t,n),e._hasCheckedForIpcRenderer=!0}))}))}},{key:"_postScore",value:function(e){var t=this,n=this._isValidScore(e);return new Promise((function(i,r){if(n)if(t._ipcRenderer)t._postScoreToDatabase(e).then(i,r);else{var o=t._getLocalStorageScores(t._id)||[];o.push(e),t._setLocalStorageScores(t._id,o),i()}else r(Error("Leaderboard: Score is not valid"))}))}},{key:"_getScores",value:function(){var e=this;return new Promise((function(t,n){e._ipcRenderer?e._getScoresFromDatabase().then(t,n):t(e._getLocalStorageScores(e._id)||[])}))}},{key:"_getScoresFromDatabase",value:function(){var e=this;return new Promise((function(t){e._ipcRenderer.send("leaderboard:get",{id:e._id}),e._ipcRenderer.once("leaderboard:get:completed",(function(e,n){t(n)}))}))}},{key:"_postScoreToDatabase",value:function(e){var t=this;return new Promise((function(n){t._ipcRenderer.send("leaderboard:post",{id:t._id,score:e}),t._ipcRenderer.once("leaderboard:post:completed",(function(e,t){n(t)}))}))}},{key:"_isValidScore",value:function(e){var t=!isNaN(e.value),n=void 0!==e.username&&null!==e.username;return t||console.error("Leaderboard: make sure you have a valid value key"),n||console.error("Leaderboard: make sure you have a valid username key"),t&&n}},{key:"_getLocalStorageScores",value:function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}},{key:"_setLocalStorageScores",value:function(e,t){return localStorage.setItem(e,JSON.stringify(t))}},{key:"_checkForIpcRenderer",value:function(){var e=this;return new Promise((function(t){var n,i,r;n=function(){console.log(e._ipcRenderer),t()},i=1,r=0,requestAnimationFrame((function e(){++r>=i?n():requestAnimationFrame(e)}))}))}}]),e}(),w=function(e){s(a,e);var i=u(a);function a(){var e;return n(this,a),(e=i.call(this))._ipcRenderer=null,e._firebaseToken=null,e._leaderboard=null,e._joystickManager=e._createJoystickManager(),e._buttonManager=e._createButtonManager(),e._playerManager=e._createPlayerManager(),e._bindAll(),e._exposeMethods(),e._setupEventListeners(),e._setupIpcRendererEventListeners(),e}return r(a,[{key:"mappedKeys",get:function(){return this._mappedKeys}},{key:"ipcRenderer",get:function(){return this._ipcRenderer}},{key:"joystick1",get:function(){return this._joystickManager.joystick1}},{key:"joystick2",get:function(){return this._joystickManager.joystick2}},{key:"buttonManager",get:function(){return this._buttonManager}},{key:"players",get:function(){return this._playerManager.players}},{key:"leaderboard",get:function(){return this._leaderboard}},{key:"destroy",value:function(){this._removeIpcRendererEventListeners(),this._ipcRenderer=null}},{key:"registerKeys",value:function(e,t,n){return this._buttonManager.registerKeys(e,t,n)}},{key:"enableMouseInteraction",value:function(e){this._ipcRenderer&&this._ipcRenderer.send("mouse:enable",e)}},{key:"disableMouseInteraction",value:function(){this._ipcRenderer&&this._ipcRenderer.send("mouse:disable",null)}},{key:"createPlayer",value:function(e){return this._playerManager.createPlayer(e)}},{key:"createLeaderboard",value:function(e){return this._createLeaderboard(e)}},{key:"_exposeMethods",value:function(){window.__axis__={},window.__axis__.set_ipc_renderer=this._setIpcRenderer}},{key:"_setIpcRenderer",value:function(e){this._ipcRenderer||(this._ipcRenderer=e,this._buttonManager.ipcRenderer=this._ipcRenderer,this._joystickManager.ipcRenderer=this._ipcRenderer,this._leaderboard&&(this._leaderboard.ipcRenderer=this._ipcRenderer),this._setupIpcRendererEventListeners())}},{key:"_createJoystickManager",value:function(){return new f}},{key:"_createButtonManager",value:function(){return new g}},{key:"_createPlayerManager",value:function(){return new R({joystickManager:this._joystickManager,buttonManager:this._buttonManager})}},{key:"_createLeaderboard",value:function(e){return this._leaderboard||(this._leaderboard=new E(function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({ipcRenderer:this._ipcRenderer},e))),this._leaderboard}},{key:"_bindAll",value:function(){this._setIpcRenderer=this._setIpcRenderer.bind(this),this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._joystickMoveHandler=this._joystickMoveHandler.bind(this),this._machineExitAttemptHandler=this._machineExitAttemptHandler.bind(this),this._machineExitCanceledHandler=this._machineExitCanceledHandler.bind(this),this._machineExitCompletedHandler=this._machineExitCompletedHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._buttonManager.addEventListener("keydown",this._keydownHandler),this._buttonManager.addEventListener("keyup",this._keyupHandler),this._joystickManager.addEventListener("joystick:move",this._joystickMoveHandler)}},{key:"_setupIpcRendererEventListeners",value:function(){this._ipcRenderer&&(this._ipcRenderer.on("exit:attempted",this._machineExitAttemptHandler),this._ipcRenderer.on("exit:canceled",this._machineExitCanceledHandler),this._ipcRenderer.on("exit:completed",this._machineExitCompletedHandler))}},{key:"_removeIpcRendererEventListeners",value:function(){this._ipcRenderer&&(this._ipcRenderer.removeListener("exit:attempted",this._machineExitAttemptHandler),this._ipcRenderer.removeListener("exit:canceled",this._machineExitCanceledHandler),this._ipcRenderer.removeListener("exit:completed",this._machineExitCompletedHandler))}},{key:"_keydownHandler",value:function(e){this.dispatchEvent("keydown",e)}},{key:"_keyupHandler",value:function(e){this.dispatchEvent("keyup",e)}},{key:"_joystickMoveHandler",value:function(e){this.dispatchEvent("joystick:move",e)}},{key:"_machineExitAttemptHandler",value:function(){this.dispatchEvent("exit:attempted")}},{key:"_machineExitCanceledHandler",value:function(){this.dispatchEvent("exit:canceled")}},{key:"_machineExitCompletedHandler",value:function(){this.dispatchEvent("exit:completed")}}]),a}(h),j=new w;e.Axis=j,e.default=j,e.normalizeJoystickSignal=p,Object.defineProperty(e,"__esModule",{value:!0})}));
