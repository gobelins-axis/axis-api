!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bundle={})}(this,(function(t){"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,n){return l=c()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&u(o,n.prototype),o},l.apply(null,arguments)}function d(t){var e="function"==typeof Map?new Map:void 0;return d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)},d(t)}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){var e=c();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var f=function(){function t(){n(this,t)}return o(t,[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),n[t].includes(e)||n[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n)for(var r=n.slice(0),o=0,i=r.length;o<i;o++)r[o].call(this,e)}}}]),t}(),v={deadzone:.2,threshold:.1,inputInactiveDelay:.2,inputIntervalMax:.2,inputIntervalMin:.1},y={buttons:[{key:"a",id:1},{key:"x",id:1},{key:"i",id:1},{key:"s",id:1},{key:"w",id:1},{key:"a",id:2},{key:"x",id:2},{key:"i",id:2},{key:"s",id:2},{key:"w",id:2}],joystick:v,leds:[{name:"button-a-1",strip:1,index:0},{name:"button-x-1",strip:1,index:1},{name:"button-i-1",strip:1,index:2},{name:"button-s-1",strip:1,index:3},{name:"button-w-1",strip:1,index:4},{name:"button-a-2",strip:2,index:0},{name:"button-x-2",strip:2,index:1},{name:"button-i-2",strip:2,index:2},{name:"button-s-2",strip:2,index:3},{name:"button-w-2",strip:2,index:4},{name:"button-home-0",strip:1,index:5}]};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b={exports:{}},m={exports:{}},k=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))},_=Array.prototype.concat,w=Array.prototype.slice,x=m.exports=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];k(o)?e=_.call(e,w.call(o)):e.push(o)}return e};x.wrap=function(t){return function(){return t(x(arguments))}};var E={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},C=m.exports,M=Object.hasOwnProperty,O=Object.create(null);for(var S in E)M.call(E,S)&&(O[E[S]]=S);var j=b.exports={to:{},get:{}};function H(t,e,n){return Math.min(Math.max(e,t),n)}function I(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}j.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=j.get.hsl(t),n="hsl";break;case"hwb":e=j.get.hwb(t),n="hwb";break;default:e=j.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},j.get.rgb=function(t){if(!t)return null;var e,n,r,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var i=2*n;o[n]=parseInt(e.slice(i,i+2),16)}r&&(o[3]=parseInt(r,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)o[n]=parseInt(e[n]+e[n],16);r&&(o[3]=parseInt(r+r,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(e[n+1],0);e[4]&&(e[5]?o[3]=.01*parseFloat(e[4]):o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:M.call(E,e[1])?((o=E[e[1]])[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?o[3]=.01*parseFloat(e[4]):o[3]=parseFloat(e[4]))}for(n=0;n<3;n++)o[n]=H(o[n],0,255);return o[3]=H(o[3],0,1),o},j.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,H(parseFloat(e[2]),0,100),H(parseFloat(e[3]),0,100),H(isNaN(n)?1:n,0,1)]}return null},j.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,H(parseFloat(e[2]),0,100),H(parseFloat(e[3]),0,100),H(isNaN(n)?1:n,0,1)]}return null},j.to.hex=function(){var t=C(arguments);return"#"+I(t[0])+I(t[1])+I(t[2])+(t[3]<1?I(Math.round(255*t[3])):"")},j.to.rgb=function(){var t=C(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},j.to.rgb.percent=function(){var t=C(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},j.to.hsl=function(){var t=C(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},j.to.hwb=function(){var t=C(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},j.to.keyword=function(t){return O[t.slice(0,3)]};const A={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L={};for(const t of Object.keys(A))L[A[t]]=t;const P={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var R=P;for(const t of Object.keys(P)){if(!("channels"in P[t]))throw new Error("missing channels property: "+t);if(!("labels"in P[t]))throw new Error("missing channel labels property: "+t);if(P[t].labels.length!==P[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=P[t];delete P[t].channels,delete P[t].labels,Object.defineProperty(P[t],"channels",{value:e}),Object.defineProperty(P[t],"labels",{value:n})}P.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=i-o;let s,u;i===o?s=0:e===i?s=(n-r)/a:n===i?s=2+(r-e)/a:r===i&&(s=4+(e-n)/a),s=Math.min(60*s,360),s<0&&(s+=360);const c=(o+i)/2;return u=i===o?0:c<=.5?a/(i+o):a/(2-i-o),[s,100*u,100*c]},P.rgb.hsv=function(t){let e,n,r,o,i;const a=t[0]/255,s=t[1]/255,u=t[2]/255,c=Math.max(a,s,u),l=c-Math.min(a,s,u),d=function(t){return(c-t)/6/l+.5};return 0===l?(o=0,i=0):(i=l/c,e=d(a),n=d(s),r=d(u),a===c?o=r-n:s===c?o=1/3+e-r:u===c&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},P.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const o=P.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[o,100*i,100*r]},P.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,o=Math.min(1-e,1-n,1-r);return[100*((1-e-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},P.rgb.keyword=function(t){const e=L[t];if(e)return e;let n,r=1/0;for(const e of Object.keys(A)){const a=(i=A[e],((o=t)[0]-i[0])**2+(o[1]-i[1])**2+(o[2]-i[2])**2);a<r&&(r=a,n=e)}var o,i;return n},P.keyword.rgb=function(t){return A[t]},P.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*e+.3576*n+.1805*r),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},P.rgb.lab=function(t){const e=P.rgb.xyz(t);let n=e[0],r=e[1],o=e[2];n/=95.047,r/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*r-16,500*(n-r),200*(r-o)]},P.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let o,i,a;if(0===n)return a=255*r,[a,a,a];o=r<.5?r*(1+n):r+n-r*n;const s=2*r-o,u=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,a=6*i<1?s+6*(o-s)*i:2*i<1?o:3*i<2?s+(o-s)*(2/3-i)*6:s,u[t]=255*a;return u},P.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,o=n;const i=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,o*=i<=1?i:2-i;return[e,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},P.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const o=Math.floor(e)%6,i=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*i),u=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},P.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,o=Math.max(r,.01);let i,a;a=(2-n)*r;const s=(2-n)*o;return i=n*o,i/=s<=1?s:2-s,i=i||0,a/=2,[e,100*i,100*a]},P.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const o=n+r;let i;o>1&&(n/=o,r/=o);const a=Math.floor(6*e),s=1-r;i=6*e-a,0!=(1&a)&&(i=1-i);const u=n+i*(s-n);let c,l,d;switch(a){default:case 6:case 0:c=s,l=u,d=n;break;case 1:c=u,l=s,d=n;break;case 2:c=n,l=s,d=u;break;case 3:c=n,l=u,d=s;break;case 4:c=u,l=n,d=s;break;case 5:c=s,l=n,d=u}return[255*c,255*l,255*d]},P.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},P.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let o,i,a;return o=3.2406*e+-1.5372*n+-.4986*r,i=-.9689*e+1.8758*n+.0415*r,a=.0557*e+-.204*n+1.057*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[255*o,255*i,255*a]},P.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(e-n),200*(n-r)]},P.lab.xyz=function(t){let e,n,r;n=(t[0]+16)/116,e=t[1]/500+n,r=n-t[2]/200;const o=n**3,i=e**3,a=r**3;return n=o>.008856?o:(n-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},P.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let o;o=360*Math.atan2(r,n)/2/Math.PI,o<0&&(o+=360);return[e,Math.sqrt(n*n+r*r),o]},P.lch.lab=function(t){const e=t[0],n=t[1],r=t[2]/360*2*Math.PI;return[e,n*Math.cos(r),n*Math.sin(r)]},P.rgb.ansi16=function(t,e=null){const[n,r,o]=t;let i=null===e?P.rgb.hsv(t)[2]:e;if(i=Math.round(i/50),0===i)return 30;let a=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===i&&(a+=60),a},P.hsv.ansi16=function(t){return P.rgb.ansi16(P.hsv.rgb(t),t[2])},P.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];if(e===n&&n===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},P.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},P.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},P.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},P.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map((t=>t+t)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},P.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,o=Math.max(Math.max(e,n),r),i=Math.min(Math.min(e,n),r),a=o-i;let s,u;return s=a<1?i/(1-a):0,u=a<=0?0:o===e?(n-r)/a%6:o===n?2+(r-e)/a:4+(e-n)/a,u/=6,u%=1,[360*u,100*a,100*s]},P.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let o=0;return r<1&&(o=(n-.5*r)/(1-r)),[t[0],100*r,100*o]},P.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let o=0;return r<1&&(o=(n-r)/(1-r)),[t[0],100*r,100*o]},P.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];const o=[0,0,0],i=e%1*6,a=i%1,s=1-a;let u=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=a,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=a;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=a,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return u=(1-n)*r,[255*(n*o[0]+u),255*(n*o[1]+u),255*(n*o[2]+u)]},P.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},P.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},P.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},P.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,r=n-e;let o=0;return r<1&&(o=(n-r)/(1-r)),[t[0],100*r,100*o]},P.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},P.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},P.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},P.gray.hsl=function(t){return[0,0,t[0]]},P.gray.hsv=P.gray.hsl,P.gray.hwb=function(t){return[0,100,t[0]]},P.gray.cmyk=function(t){return[0,0,0,t[0]]},P.gray.lab=function(t){return[t[0],0,0]},P.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},P.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const B=R;function T(t){const e=function(){const t={},e=Object.keys(B);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),r=Object.keys(B[t]);for(let o=r.length,i=0;i<o;i++){const o=r[i],a=e[o];-1===a.distance&&(a.distance=e[t].distance+1,a.parent=t,n.unshift(o))}}return e}function D(t,e){return function(n){return e(t(n))}}function N(t,e){const n=[e[t].parent,t];let r=B[e[t].parent][t],o=e[t].parent;for(;e[o].parent;)n.unshift(e[o].parent),r=D(B[e[o].parent][o],r),o=e[o].parent;return r.conversion=n,r}const K=R,F=function(t){const e=T(t),n={},r=Object.keys(e);for(let t=r.length,o=0;o<t;o++){const t=r[o];null!==e[t].parent&&(n[t]=N(t,e))}return n},U={};Object.keys(K).forEach((t=>{U[t]={},Object.defineProperty(U[t],"channels",{value:K[t].channels}),Object.defineProperty(U[t],"labels",{value:K[t].labels});const e=F(t);Object.keys(e).forEach((n=>{const r=e[n];U[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const r=t(e);if("object"==typeof r)for(let t=r.length,e=0;e<t;e++)r[e]=Math.round(r[e]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(r),U[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)}))}));var q=U;const z=b.exports,V=q,G=["keyword","gray","hex"],$={};for(const t of Object.keys(V))$[[...V[t].labels].sort().join("")]=t;const J={};function Y(t,e){if(!(this instanceof Y))return new Y(t,e);if(e&&e in G&&(e=null),e&&!(e in V))throw new Error("Unknown model: "+e);let n,r;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Y)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=z.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,r=V[this.model].channels,this.color=e.value.slice(0,r),this.valpha="number"==typeof e.value[r]?e.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=V[this.model].channels;const n=Array.prototype.slice.call(t,0,r);this.color=X(n,r),this.valpha="number"==typeof t[r]?t[r]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const r=e.sort().join("");if(!(r in $))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=$[r];const{labels:o}=V[this.model],i=[];for(n=0;n<o.length;n++)i.push(t[o[n]]);this.color=X(i)}if(J[this.model])for(r=V[this.model].channels,n=0;n<r;n++){const t=J[this.model][n];t&&(this.color[n]=t(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Y.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in z.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const n=1===e.valpha?e.color:[...e.color,this.valpha];return z.to[e.model](n)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:[...e.color,this.valpha];return z.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=V[this.model],{labels:n}=V[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Y([...this.color.map(Q(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new Y([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Z("rgb",0,W(255)),green:Z("rgb",1,W(255)),blue:Z("rgb",2,W(255)),hue:Z(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:Z("hsl",1,W(100)),lightness:Z("hsl",2,W(100)),saturationv:Z("hsv",1,W(100)),value:Z("hsv",2,W(100)),chroma:Z("hcg",1,W(100)),gray:Z("hcg",2,W(100)),white:Z("hwb",1,W(100)),wblack:Z("hwb",2,W(100)),cyan:Z("cmyk",0,W(100)),magenta:Z("cmyk",1,W(100)),yellow:Z("cmyk",2,W(100)),black:Z("cmyk",3,W(100)),x:Z("xyz",0,W(95.047)),y:Z("xyz",1,W(100)),z:Z("xyz",2,W(108.833)),l:Z("lab",0,W(100)),a:Z("lab",1),b:Z("lab",2),keyword(t){return void 0!==t?new Y(t):V[this.model].keyword(this.color)},hex(t){return void 0!==t?new Y(t):z.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new Y(t);const e=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),z.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const t=r/255;e[n]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return Y.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),o=void 0===e?.5:e,i=2*o-1,a=n.alpha()-r.alpha(),s=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,u=1-s;return Y.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*o+r.alpha()*(1-o))}};for(const t of Object.keys(V)){if(G.includes(t))continue;const{channels:e}=V[t];Y.prototype[t]=function(...e){return this.model===t?new Y(this):e.length>0?new Y(e,t):new Y([...(n=V[this.model][t].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],t);var n},Y[t]=function(...n){let r=n[0];return"number"==typeof r&&(r=X(n,e)),new Y(r,t)}}function Q(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function Z(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(J[r]||(J[r]=[]))[e]=n;return t=t[0],function(r){let o;return void 0!==r?(n&&(r=n(r)),o=this[t](),o.color[e]=r,o):(o=this[t]().color[e],n&&(o=n(o)),o)}}function W(t){return function(e){return Math.max(0,Math.min(t,e))}}function X(t,e){for(let n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}var tt=Y,et=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._name=e.name,this._strip=e.strip,this._index=e.index,this._ipcRenderer=null}return o(t,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t}},{key:"name",get:function(){return this._name}},{key:"strip",get:function(){return this._strip}},{key:"index",get:function(){return this._index}},{key:"setColor",value:function(t){if(this._ipcRenderer){var e=new tt(t).object(),n="".concat(this._strip,";").concat(this._index,";").concat(e.r,",").concat(e.g,",").concat(e.b,"\n");this._ipcRenderer.send("led:set",{data:n})}}}]),t}(),nt=function(){function t(){n(this,t),this._ipcRenderer=null,this._leds=this._createLeds()}return o(t,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t;for(var e=0;e<this._leds.length;e++)this._leds[e].ipcRenderer=t}},{key:"leds",get:function(){return this._leds}},{key:"getLedByName",value:function(t){return this._leds.filter((function(e){return e.name===t}))[0]}},{key:"_createLeds",value:function(){for(var t=[],e=0;e<y.leds.length;e++){var n=new et({name:y.leds[e].name,strip:y.leds[e].strip,index:y.leds[e].index});t.push(n)}return t}}]),t}();function rt(t,e,n){return clearTimeout(n),n=setTimeout(t,e)}function ot(t,e,n){var r=new Date;return void 0===n||r-n>=e?(t(),r):n}function it(t,e,n,r,o){return(t-e)*(o-r)/(n-e)+r}function at(t,e){var n=1*it(t.x,18,840,-1,1),r=-1*it(t.y,36,867,-1,1),o=Math.atan2(r,n),i=Math.sqrt(n*n+r*r);return i>1&&(i=1),n=i*Math.cos(o),r=i*Math.sin(o),(i=Math.sqrt(n*n+r*r))<e?{x:0,y:0}:{x:n=(i=it(i,e,1,0,1))*Math.cos(o),y:r=i*Math.sin(o),magnitude:i}}function st(t,e){var n=t.x,r=-1*t.y,o=Math.atan2(r,n),i=Math.sqrt(n*n+r*r);return i>1&&(i=1),n=i*Math.cos(o),r=i*Math.sin(o),(i=Math.sqrt(n*n+r*r))<e?{x:0,y:0}:{x:n=(i=it(i,e,1,0,1))*Math.cos(o),y:r=i*Math.sin(o)}}var ut=function(t){a(r,t);var e=p(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._id=o.id,t._deadzone=v.deadzone,t._threshold=v.threshold,t._inputInactiveDelay=v.inputInactiveDelay,t._inputIntervalMin=v.inputIntervalMin,t._inputIntervalMax=v.inputIntervalMax,t._ipcRenderer=null,t._gamepadEmulatorJoystick=null,t._gamepadEmulatorJoystickIndex=null,t._position={x:0,y:0},t._inputLeftIndex=0,t._inputRightIndex=0,t._inputUpIndex=0,t._inputDownIndex=0,t._bindAll(),t}return o(r,[{key:"id",get:function(){return this._id}},{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t}},{key:"position",get:function(){return this._position}},{key:"deadzone",get:function(){return this._deadzone},set:function(t){this._deadzone=t}},{key:"threshold",get:function(){return this._threshold},set:function(t){this._threshold=t}},{key:"inputIntervalMin",get:function(){return this._inputIntervalMin},set:function(t){this._inputIntervalMin=t}},{key:"inputIntervalMax",get:function(){return this._inputIntervalMax},set:function(t){this._inputIntervalMax=t}},{key:"moveHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._position=e.isGamepad?st(t,this._deadzone):at(t,this._deadzone),this.dispatchEvent("joystick:move",{id:this._id,position:this._position}),this._position.x<=-1+this._threshold&&this._moveLeftHandler(),this._position.x>=1-this._threshold&&this._moveRightHandler(),this._position.y>=1-this._threshold&&this._moveUpHandler(),this._position.y<=-1+this._threshold&&this._moveDownHandler(),this._ipcRenderer&&1===this._id&&this._ipcRenderer.send("mouse:move",this._position)}},{key:"setGamepadEmulatorJoystick",value:function(t,e){this._gamepadEmulatorJoystick||(this._gamepadEmulatorJoystick=t,this._gamepadEmulatorJoystickIndex=e,this._gamepadEmulatorJoystick.addEventListener("gamepad:joystick:move",this._gamepadJoystickMoveHandler))}},{key:"_bindAll",value:function(){this._moveLeftHandler=this._moveLeftHandler.bind(this),this._moveLeftThrottledHandler=this._moveLeftThrottledHandler.bind(this),this._moveLeftEndHandler=this._moveLeftEndHandler.bind(this),this._moveRightHandler=this._moveRightHandler.bind(this),this._moveRightThrottledHandler=this._moveRightThrottledHandler.bind(this),this._moveRightEndHandler=this._moveRightEndHandler.bind(this),this._moveUpHandler=this._moveUpHandler.bind(this),this._moveUpThrottledHandler=this._moveUpThrottledHandler.bind(this),this._moveUpEndHandler=this._moveUpEndHandler.bind(this),this._moveDownHandler=this._moveDownHandler.bind(this),this._moveDownThrottledHandler=this._moveDownThrottledHandler.bind(this),this._moveDownEndHandler=this._moveDownEndHandler.bind(this),this._gamepadJoystickMoveHandler=this._gamepadJoystickMoveHandler.bind(this)}},{key:"_moveLeftHandler",value:function(){var t=this._inputLeftIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveLeft=ot(this._moveLeftThrottledHandler,1e3*t,this._throttleMoveLeft),this._debounceMoveLeft=rt(this._moveLeftEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveLeft)}},{key:"_moveLeftThrottledHandler",value:function(){this._inputLeftIndex++,this.dispatchEvent("joystick:quickmove",{id:this._id,direction:"left"})}},{key:"_moveLeftEndHandler",value:function(){this._inputLeftIndex=0}},{key:"_moveRightHandler",value:function(){var t=this._inputRightIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveRight=ot(this._moveRightThrottledHandler,1e3*t,this._throttleMoveRight),this._debounceMoveRight=rt(this._moveRightEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveRight)}},{key:"_moveRightThrottledHandler",value:function(){this._inputRightIndex++,this.dispatchEvent("joystick:quickmove",{id:this._id,direction:"right"})}},{key:"_moveRightEndHandler",value:function(){this._inputRightIndex=0}},{key:"_moveUpHandler",value:function(){var t=this._inputUpIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveUp=ot(this._moveUpThrottledHandler,1e3*t,this._throttleMoveUp),this._debounceMoveUp=rt(this._moveUpEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveUp)}},{key:"_moveUpThrottledHandler",value:function(){this._inputUpIndex++,this.dispatchEvent("joystick:quickmove",{id:this._id,direction:"up"})}},{key:"_moveUpEndHandler",value:function(){this._inputUpIndex=0}},{key:"_moveDownHandler",value:function(){var t=this._inputDownIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveDown=ot(this._moveDownThrottledHandler,1e3*t,this._throttleMoveDown),this._debounceMoveDown=rt(this._moveDownEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveDown)}},{key:"_moveDownThrottledHandler",value:function(){this._inputDownIndex++,this.dispatchEvent("joystick:quickmove",{id:this._id,direction:"down"})}},{key:"_moveDownEndHandler",value:function(){this._inputDownIndex=0}},{key:"_gamepadJoystickMoveHandler",value:function(t){t.index===this._gamepadEmulatorJoystickIndex&&this.moveHandler(t.position,{isGamepad:!0})}}]),r}(f),ct=function(t){a(r,t);var e=p(r);function r(){var t;return n(this,r),(t=e.call(this))._joystick1=t._createJoystick1(),t._joystick2=t._createJoystick2(),t._ipcRenderer=null,t._bindAll(),t._setupIpcRendererEventListeners(),t}return o(r,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t,this._joystick1.ipcRenderer=t,this._joystick2.ipcRenderer=t,this._setupIpcRendererEventListeners()}},{key:"joystick1",get:function(){return this._joystick1}},{key:"joystick2",get:function(){return this._joystick2}},{key:"_createJoystick1",value:function(){return new ut({id:1})}},{key:"_createJoystick2",value:function(){return new ut({id:2})}},{key:"_bindAll",value:function(){this._joystickMoveHandler=this._joystickMoveHandler.bind(this)}},{key:"_setupIpcRendererEventListeners",value:function(){this._ipcRenderer&&this._ipcRenderer.on("joystick:move",this._joystickMoveHandler)}},{key:"_joystickMoveHandler",value:function(t,e){1===e.id&&this._joystick1.moveHandler(e.position),2===e.id&&this._joystick2.moveHandler(e.position)}}]),r}(f),lt=function(t){a(r,t);var e=p(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._id=o.id,t._key=o.key,t._ledManager=o.ledManager,t._led=t._ledManager.getLedByName("button-".concat(t._key,"-").concat(t._id)),t._keyboardKeys=[],t._gamepadEmulator=null,t._gamepadEmulatorKeys=[],t._bindAll(),t}return o(r,[{key:"id",get:function(){return this._id}},{key:"key",get:function(){return this._key}},{key:"keyboardKeys",get:function(){return this._keyboardKeys},set:function(t){this._keyboardKeys=t}},{key:"led",get:function(){return this._led}},{key:"gamepadEmulator",get:function(){return this._gamepadEmulator},set:function(t){this._gamepadEmulator||(this._gamepadEmulator=t,this._gamepadEmulator.addEventListener("gamepad:keydown",this._gamepadKeydownHandler),this._gamepadEmulator.addEventListener("gamepad:keyup",this._gamepadKeyupHandler))}},{key:"gamepadEmulatorKeys",get:function(){return this._gamepadEmulatorKeys},set:function(t){this._gamepadEmulatorKeys=t}},{key:"setLedColor",value:function(t){var e;null===(e=this._led)||void 0===e||e.setColor(t)}},{key:"keydownHandler",value:function(){this.dispatchEvent("keydown",{key:this._key,id:this._id,keyboardKeys:this._keyboardKeys,gamepadEmulatorKeys:this._gamepadEmulatorKeys,instance:this})}},{key:"keyupHandler",value:function(){this.dispatchEvent("keyup",{key:this._key,id:this._id,keyboardKeys:this._keyboardKeys,instance:this})}},{key:"_bindAll",value:function(){this._gamepadKeydownHandler=this._gamepadKeydownHandler.bind(this),this._gamepadKeyupHandler=this._gamepadKeyupHandler.bind(this)}},{key:"_gamepadKeydownHandler",value:function(t){this._gamepadEmulatorKeys.includes(t)&&this.keydownHandler()}},{key:"_gamepadKeyupHandler",value:function(t){this._gamepadEmulatorKeys.includes(t)&&this.keyupHandler()}}]),r}(f);function dt(t){return Array.isArray(t)?t:[t]}var ht=function(t){a(r,t);var e=p(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._ledManager=o.ledManager,t._buttonHome=t._createButtonHome(),t._buttons=t._createButtons(),t._ipcRenderer=null,t._bindAll(),t._setupEventListeners(),t}return o(r,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t,this._setupIpcRendererEventListeners()}},{key:"buttonHome",get:function(){return this._buttonHome}},{key:"buttons",get:function(){return this._buttons}},{key:"registerKeys",value:function(t,e,n){var r=this.getButton(e,n);return r&&(r.keyboardKeys=dt(t)),r}},{key:"registerGamepadEmulatorKeys",value:function(t,e,n,r){var o=this.getButton(n,r);return o&&(o.gamepadEmulator=t,o.gamepadEmulatorKeys=dt(e)),o}},{key:"getButton",value:function(t,e){return this._buttons.filter((function(n){return n.key===t&&n.id===e}))[0]}},{key:"getButtonsById",value:function(t){return this._buttons.filter((function(e){return e.id===t}))}},{key:"getButtonsByKeyboardKey",value:function(t){return this._buttons.filter((function(e){return e.keyboardKeys.includes(t)}))}},{key:"_createButtonHome",value:function(){return new lt({id:0,key:"home",ledManager:this._ledManager})}},{key:"_createButtons",value:function(){for(var t=[],e=0;e<y.buttons.length;e++){var n=new lt({id:y.buttons[e].id,key:y.buttons[e].key,ledManager:this._ledManager});t.push(n)}return t}},{key:"_bindAll",value:function(){this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._machineKeydownHandler=this._machineKeydownHandler.bind(this),this._machineKeyupHandler=this._machineKeyupHandler.bind(this),this._machineHomeKeydownHandler=this._machineHomeKeydownHandler.bind(this),this._machineHomeKeyupHandler=this._machineHomeKeyupHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("keydown",this._keydownHandler),window.addEventListener("keyup",this._keyupHandler)}},{key:"_setupIpcRendererEventListeners",value:function(){this._ipcRenderer&&(this._ipcRenderer.on("keydown",this._machineKeydownHandler),this._ipcRenderer.on("keyup",this._machineKeyupHandler),this._ipcRenderer.on("home:keydown",this._machineHomeKeydownHandler),this._ipcRenderer.on("home:keyup",this._machineHomeKeyupHandler))}},{key:"_keydownHandler",value:function(t){for(var e=this.getButtonsByKeyboardKey(t.key),n=0;n<e.length;n++){e[n].keydownHandler(t)}}},{key:"_keyupHandler",value:function(t){for(var e=this.getButtonsByKeyboardKey(t.key),n=0;n<e.length;n++)e[n].keyupHandler(t)}},{key:"_machineKeydownHandler",value:function(t,e){this.getButton(e.key,e.id).keydownHandler(e)}},{key:"_machineKeyupHandler",value:function(t,e){var n=this.getButton(e.key,e.id);n.keyupHandler(e),this._ipcRenderer&&1===n.id&&"a"===n.key&&this._ipcRenderer.send("mouse:click",{})}},{key:"_machineHomeKeydownHandler",value:function(){this._buttonHome.keydownHandler(),this.dispatchEvent("home:keydown")}},{key:"_machineHomeKeyupHandler",value:function(){this._buttonHome.keyupHandler(),this.dispatchEvent("home:keyup")}}]),r}(f),pt=function(t){a(r,t);var e=p(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._id=o.id,t._joysticks=o.joysticks?dt(o.joysticks):[],t._buttons=o.buttons||[],t._bindAll(),t._setupEventListeners(),t}return o(r,[{key:"id",get:function(){return this._id}},{key:"joysticks",get:function(){return this._joysticks},set:function(t){this._joysticks=dt(t)}},{key:"buttons",get:function(){return this._buttons},set:function(t){this._removeEventListeners(),this._buttons=t,this._setupEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_bindAll",value:function(){this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._joystickMoveHandler=this._joystickMoveHandler.bind(this),this._joystickQuickmoveHandler=this._joystickQuickmoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){for(var t=0;t<this._joysticks.length;t++)this._joysticks[t].addEventListener("joystick:move",this._joystickMoveHandler),this._joysticks[t].addEventListener("joystick:quickmove",this._joystickQuickmoveHandler);for(var e=0;e<this._buttons.length;e++)this._buttons[e].addEventListener("keydown",this._keydownHandler),this._buttons[e].addEventListener("keyup",this._keyupHandler)}},{key:"_removeEventListeners",value:function(){for(var t=0;t<this._joysticks.length;t++)this._joysticks[t].removeEventListener("joystick:move",this._joystickMoveHandler),this._joysticks[t].removeEventListener("joystick:quickmove",this._joystickQuickmoveHandler);for(var e=0;e<this._buttons.length;e++)this._buttons[e].removeEventListener("keydown",this._keydownHandler),this._buttons[e].removeEventListener("keyup",this._keyupHandler)}},{key:"_keydownHandler",value:function(t){this.dispatchEvent("keydown",t)}},{key:"_keyupHandler",value:function(t){this.dispatchEvent("keyup",t)}},{key:"_joystickMoveHandler",value:function(t){this.dispatchEvent("joystick:move",t)}},{key:"_joystickQuickmoveHandler",value:function(t){this.dispatchEvent("joystick:quickmove",t)}}]),r}(f),ft=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._joystickManager=e.joystickManager,this._buttonManager=e.buttonManager,this._players=[]}return o(t,[{key:"players",get:function(){return this._players}},{key:"destroy",value:function(){for(var t=0;t<this._players.length;t++)this._players[t].destroy()}},{key:"createPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new pt({id:t.id,joysticks:t.joysticks,buttons:t.buttons});return this._players.push(e),e}},{key:"destroyPlayer",value:function(t){var e=this._players.indexOf(t);t.destroy(),this._players.splice(e,1)}},{key:"getPlayerById",value:function(t){return this._players.filter((function(e){return e.id===t}))[0]}}]),t}();var vt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._id=e.id,this._ipcRenderer=e.ipcRenderer,this._hasCheckedForIpcRenderer=!1,this._isAxisMachine=!0}return o(t,[{key:"id",get:function(){return this._id}},{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t}},{key:"postScore",value:function(t){var e=this;return this._hasCheckedForIpcRenderer?this._postScore(t):new Promise((function(n,r){e._checkForIpcRenderer().then((function(){e._postScore(t).then(n,r),e._hasCheckedForIpcRenderer=!0}))}))}},{key:"getScores",value:function(){var t=this;return this._hasCheckedForIpcRenderer?this._getScores():new Promise((function(e,n){t._checkForIpcRenderer().then((function(){t._getScores().then(e,n),t._hasCheckedForIpcRenderer=!0}))}))}},{key:"_postScore",value:function(t){var e=this,n=this._isValidScore(t);return t.value=Math.round(100*t.value)/100,t.createdAt=(new Date).toString(),new Promise((function(r,o){if(n)if(e._ipcRenderer)e._postScoreToDatabase(t).then(r,o);else{var i=e._getLocalStorageScores(e._id)||[];i.push(t),e._setLocalStorageScores(e._id,i),r()}else o(Error("Leaderboard: Score is not valid"))}))}},{key:"_getScores",value:function(){var t=this;return new Promise((function(e,n){if(t._ipcRenderer)t._getScoresFromDatabase().then((function(n){e(t._orderScores(n))}),n);else{var r=t._getLocalStorageScores(t._id)||[];e(t._orderScores(r))}}))}},{key:"_orderScores",value:function(t){return t.sort((function(t,e){return t.value>e.value?-1:t.value<e.value?1:0}))}},{key:"_getScoresFromDatabase",value:function(){var t=this;return new Promise((function(e){t._ipcRenderer.send("leaderboard:get",{id:t._id}),t._ipcRenderer.once("leaderboard:get:completed",(function(t,n){e(n)}))}))}},{key:"_postScoreToDatabase",value:function(t){var e=this;return new Promise((function(n,r){e._ipcRenderer.send("leaderboard:post",{id:e._id,score:t}),e._ipcRenderer.once("leaderboard:post:completed",(function(t,e){n(e)})),e._ipcRenderer.once("leaderboard:post:error",(function(t,e){r(e)}))}))}},{key:"_isValidScore",value:function(t){var e=!isNaN(t.value),n=void 0!==t.username&&null!==t.username&&""!==t.username;return e||console.error("Leaderboard: make sure you have a valid value key"),n||console.error("Leaderboard: make sure you have a valid username key"),e&&n}},{key:"_getLocalStorageScores",value:function(t){var e=localStorage.getItem(t);if(e)return JSON.parse(e)}},{key:"_setLocalStorageScores",value:function(t,e){return localStorage.setItem(t,JSON.stringify(e))}},{key:"_checkForIpcRenderer",value:function(){return new Promise((function(t){var e,n,r;e=function(){t()},n=1,r=0,requestAnimationFrame((function t(){++r>=n?e():requestAnimationFrame(t)}))}))}}]),t}(),yt={exports:{}};
/*!
   * 
   *   simple-keyboard v3.4.100
   *   https://github.com/hodgef/simple-keyboard
   *
   *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.
   *
   *   This source code is licensed under the MIT license found in the
   *   LICENSE file in the root directory of this source tree.
   *
   */
!function(t,e){t.exports=function(){var t={9662:function(t,e,n){var r=n(7854),o=n(614),i=n(6330),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a function")}},9483:function(t,e,n){var r=n(7854),o=n(4411),i=n(6330),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a constructor")}},6077:function(t,e,n){var r=n(7854),o=n(614),i=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+i(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),o=n(30),i=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},1530:function(t,e,n){var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9670:function(t,e,n){var r=n(7854),o=n(111),i=r.String,a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not an object")}},8533:function(t,e,n){var r=n(2092).forEach,o=n(9341)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},8457:function(t,e,n){var r=n(7854),o=n(9974),i=n(6916),a=n(7908),s=n(3411),u=n(7659),c=n(4411),l=n(6244),d=n(6135),h=n(8554),p=n(1246),f=r.Array;t.exports=function(t){var e=a(t),n=c(this),r=arguments.length,v=r>1?arguments[1]:void 0,y=void 0!==v;y&&(v=o(v,r>2?arguments[2]:void 0));var g,b,m,k,_,w,x=p(e),E=0;if(!x||this==f&&u(x))for(g=l(e),b=n?new this(g):f(g);g>E;E++)w=y?v(e[E],E):e[E],d(b,E,w);else for(_=(k=h(e,x)).next,b=n?new this:[];!(m=i(_,k)).done;E++)w=y?s(k,v,[m.value,E],!0):m.value,d(b,E,w);return b.length=E,b}},1318:function(t,e,n){var r=n(5656),o=n(1400),i=n(6244),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,e,n){var r=n(9974),o=n(1702),i=n(8361),a=n(7908),s=n(6244),u=n(5417),c=o([].push),l=function(t){var e=1==t,n=2==t,o=3==t,l=4==t,d=6==t,h=7==t,p=5==t||d;return function(f,v,y,g){for(var b,m,k=a(f),_=i(k),w=r(v,y),x=s(_),E=0,C=g||u,M=e?C(f,x):n||h?C(f,0):void 0;x>E;E++)if((p||E in _)&&(m=w(b=_[E],E,k),t))if(e)M[E]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:c(M,b)}else switch(t){case 4:return!1;case 7:c(M,b)}return d?-1:o||l?l:M}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},1194:function(t,e,n){var r=n(7293),o=n(5112),i=n(7392),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},3671:function(t,e,n){var r=n(7854),o=n(9662),i=n(7908),a=n(8361),s=n(6244),u=r.TypeError,c=function(t){return function(e,n,r,c){o(n);var l=i(e),d=a(l),h=s(l),p=t?h-1:0,f=t?-1:1;if(r<2)for(;;){if(p in d){c=d[p],p+=f;break}if(p+=f,t?p<0:h<=p)throw u("Reduce of empty array with no initial value")}for(;t?p>=0:h>p;p+=f)p in d&&(c=n(c,d[p],p,l));return c}};t.exports={left:c(!1),right:c(!0)}},1589:function(t,e,n){var r=n(7854),o=n(1400),i=n(6244),a=n(6135),s=r.Array,u=Math.max;t.exports=function(t,e,n){for(var r=i(t),c=o(e,r),l=o(void 0===n?r:n,r),d=s(u(l-c,0)),h=0;c<l;c++,h++)a(d,h,t[c]);return d.length=h,d}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},4362:function(t,e,n){var r=n(1589),o=Math.floor,i=function(t,e){var n=t.length,u=o(n/2);return n<8?a(t,e):s(t,i(r(t,0,u),e),i(r(t,u),e),e)},a=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},s=function(t,e,n,r){for(var o=e.length,i=n.length,a=0,s=0;a<o||s<i;)t[a+s]=a<o&&s<i?r(e[a],n[s])<=0?e[a++]:n[s++]:a<o?e[a++]:n[s++];return t};t.exports=i},7475:function(t,e,n){var r=n(7854),o=n(3157),i=n(4411),a=n(111),s=n(5112)("species"),u=r.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===u||o(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?u:e}},5417:function(t,e,n){var r=n(7475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},3411:function(t,e,n){var r=n(9670),o=n(9212);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){o(t,"throw",e)}}},7072:function(t,e,n){var r=n(5112)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},4326:function(t,e,n){var r=n(1702),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},648:function(t,e,n){var r=n(7854),o=n(1694),i=n(614),a=n(4326),s=n(5112)("toStringTag"),u=r.Object,c="Arguments"==a(function(){return arguments}());t.exports=o?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=u(t),s))?n:c?a(e):"Object"==(r=a(e))&&i(e.callee)?"Arguments":r}},9920:function(t,e,n){var r=n(2597),o=n(3887),i=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=o(e),u=a.f,c=i.f,l=0;l<s.length;l++){var d=s[l];r(t,d)||n&&r(n,d)||u(t,d,c(e,d))}}},4964:function(t,e,n){var r=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,n){var r=n(3383).IteratorPrototype,o=n(30),i=n(9114),a=n(8003),s=n(7497),u=function(){return this};t.exports=function(t,e,n,c){var l=e+" Iterator";return t.prototype=o(r,{next:i(+!c,n)}),a(t,l,!1,!0),s[l]=u,t}},8880:function(t,e,n){var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){var r=n(4948),o=n(3070),i=n(9114);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},8052:function(t,e,n){var r=n(7854),o=n(614),i=n(8880),a=n(6339),s=n(3505);t.exports=function(t,e,n,u){var c=!!u&&!!u.unsafe,l=!!u&&!!u.enumerable,d=!!u&&!!u.noTargetGet,h=u&&void 0!==u.name?u.name:e;return o(n)&&a(n,h,u),t===r?(l?t[e]=n:s(e,n),t):(c?!d&&t[e]&&(l=!0):delete t[e],l?t[e]=n:i(t,e,n),t)}},654:function(t,e,n){var r=n(2109),o=n(6916),i=n(1913),a=n(6530),s=n(614),u=n(4994),c=n(9518),l=n(7674),d=n(8003),h=n(8880),p=n(8052),f=n(5112),v=n(7497),y=n(3383),g=a.PROPER,b=a.CONFIGURABLE,m=y.IteratorPrototype,k=y.BUGGY_SAFARI_ITERATORS,_=f("iterator"),w="keys",x="values",E="entries",C=function(){return this};t.exports=function(t,e,n,a,f,y,M){u(n,e,a);var O,S,j,H=function(t){if(t===f&&R)return R;if(!k&&t in L)return L[t];switch(t){case w:case x:case E:return function(){return new n(this,t)}}return function(){return new n(this)}},I=e+" Iterator",A=!1,L=t.prototype,P=L[_]||L["@@iterator"]||f&&L[f],R=!k&&P||H(f),B="Array"==e&&L.entries||P;if(B&&(O=c(B.call(new t)))!==Object.prototype&&O.next&&(i||c(O)===m||(l?l(O,m):s(O[_])||p(O,_,C)),d(O,I,!0,!0),i&&(v[I]=C)),g&&f==x&&P&&P.name!==x&&(!i&&b?h(L,"name",x):(A=!0,R=function(){return o(P,this)})),f)if(S={values:H(x),keys:y?R:H(w),entries:H(E)},M)for(j in S)(k||A||!(j in L))&&p(L,j,S[j]);else r({target:e,proto:!0,forced:k||A},S);return i&&!M||L[_]===R||p(L,_,R,{name:f}),v[e]=R,S}},7235:function(t,e,n){var r=n(857),o=n(2597),i=n(6061),a=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var r=n(317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;t.exports=o===Object.prototype?void 0:o},8886:function(t,e,n){var r=n(8113).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},256:function(t,e,n){var r=n(8113);t.exports=/MSIE|Trident/.test(r)},5268:function(t,e,n){var r=n(4326),o=n(7854);t.exports="process"==r(o.process)},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,o,i=n(7854),a=n(8113),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},8008:function(t,e,n){var r=n(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),o=n(1236).f,i=n(8880),a=n(8052),s=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,l,d,h,p,f=t.target,v=t.global,y=t.stat;if(n=v?r:y?r[f]||s(f,{}):(r[f]||{}).prototype)for(l in e){if(h=e[l],d=t.noTargetGet?(p=o(n,l))&&p.value:n[l],!c(v?l:f+(y?".":"#")+l,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(t.sham||d&&d.sham)&&i(h,"sham",!0),a(n,l,h,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){n(4916);var r=n(1702),o=n(8052),i=n(2261),a=n(7293),s=n(5112),u=n(8880),c=s("species"),l=RegExp.prototype;t.exports=function(t,e,n,d){var h=s(t),p=!a((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),f=p&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!p||!f||n){var v=r(/./[h]),y=e(h,""[t],(function(t,e,n,o,a){var s=r(t),u=e.exec;return u===i||u===l.exec?p&&!a?{done:!0,value:v(e,n,o)}:{done:!0,value:s(n,e,o)}:{done:!1}}));o(String.prototype,t,y[0]),o(l,h,y[1])}d&&u(l[h],"sham",!0)}},2104:function(t,e,n){var r=n(4374),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(i):function(){return a.apply(i,arguments)})},9974:function(t,e,n){var r=n(1702),o=n(9662),i=n(4374),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(t,e,n){var r=n(9781),o=n(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1702:function(t,e,n){var r=n(4374),o=Function.prototype,i=o.bind,a=o.call,s=r&&i.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),o=n(614),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},1246:function(t,e,n){var r=n(648),o=n(8173),i=n(7497),a=n(5112)("iterator");t.exports=function(t){if(null!=t)return o(t,a)||o(t,"@@iterator")||i[r(t)]}},8554:function(t,e,n){var r=n(7854),o=n(6916),i=n(9662),a=n(9670),s=n(6330),u=n(1246),c=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(i(n))return a(o(n,t));throw c(s(t)+" is not iterable")}},8173:function(t,e,n){var r=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},647:function(t,e,n){var r=n(1702),o=n(7908),i=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,d,h){var p=n+t.length,f=r.length,v=l;return void 0!==d&&(d=o(d),v=c),s(h,v,(function(o,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,p);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return o;if(l>f){var h=i(l/10);return 0===h?o:h<=f?void 0===r[h-1]?a(s,1):r[h-1]+a(s,1):o}c=r[l-1]}return void 0===c?"":c}))}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7854),o=n(1702),i=n(7293),a=n(4326),s=r.Object,u=o("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},9587:function(t,e,n){var r=n(614),o=n(111),i=n(7674);t.exports=function(t,e,n){var a,s;return i&&r(a=e.constructor)&&a!==n&&o(s=a.prototype)&&s!==n.prototype&&i(t,s),t}},2788:function(t,e,n){var r=n(1702),o=n(614),i=n(5465),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},9909:function(t,e,n){var r,o,i,a=n(8536),s=n(7854),u=n(1702),c=n(111),l=n(8880),d=n(2597),h=n(5465),p=n(6200),f=n(3501),v="Object already initialized",y=s.TypeError,g=s.WeakMap;if(a||h.state){var b=h.state||(h.state=new g),m=u(b.get),k=u(b.has),_=u(b.set);r=function(t,e){if(k(b,t))throw new y(v);return e.facade=t,_(b,t,e),e},o=function(t){return m(b,t)||{}},i=function(t){return k(b,t)}}else{var w=p("state");f[w]=!0,r=function(t,e){if(d(t,w))throw new y(v);return e.facade=t,l(t,w,e),e},o=function(t){return d(t,w)?t[w]:{}},i=function(t){return d(t,w)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw y("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var r=n(5112),o=n(7497),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},614:function(t){t.exports=function(t){return"function"==typeof t}},4411:function(t,e,n){var r=n(1702),o=n(7293),i=n(614),a=n(648),s=n(5005),u=n(2788),c=function(){},l=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=r(h.exec),f=!h.exec(c),v=function(t){if(!i(t))return!1;try{return d(c,l,t),!0}catch(t){return!1}},y=function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,u(t))}catch(t){return!0}};y.sham=!0,t.exports=!d||o((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?y:v},4705:function(t,e,n){var r=n(7293),o=n(614),i=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==l||n!=c&&(o(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},5988:function(t,e,n){var r=n(111),o=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&o(t)===t}},111:function(t,e,n){var r=n(614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},7850:function(t,e,n){var r=n(111),o=n(4326),i=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},2190:function(t,e,n){var r=n(7854),o=n(5005),i=n(614),a=n(7976),s=n(3307),u=r.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&a(e.prototype,u(t))}},9212:function(t,e,n){var r=n(6916),o=n(9670),i=n(8173);t.exports=function(t,e,n){var a,s;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return o(a),n}},3383:function(t,e,n){var r,o,i,a=n(7293),s=n(614),u=n(30),c=n(9518),l=n(8052),d=n(5112),h=n(1913),p=d("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(r=o):f=!0),null==r||a((function(){var t={};return r[p].call(t)!==t}))?r={}:h&&(r=u(r)),s(r[p])||l(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},7497:function(t){t.exports={}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(7293),o=n(614),i=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,u=n(2788),c=n(9909),l=c.enforce,d=c.get,h=Object.defineProperty,p=a&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),f=String(String).split("String"),v=t.exports=function(t,e,n){if("Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!i(t,"name")||s&&t.name!==e)&&h(t,"name",{value:e,configurable:!0}),p&&n&&i(n,"arity")&&t.length!==n.arity&&h(t,"length",{value:n.arity}),n&&i(n,"constructor")&&n.constructor){if(a)try{h(t,"prototype",{writable:!1})}catch(t){}}else t.prototype=void 0;var r=l(t);return i(r,"source")||(r.source=f.join("string"==typeof e?e:"")),t};Function.prototype.toString=v((function(){return o(this)&&d(this).source||u(this)}),"toString")},735:function(t,e,n){var r=n(133);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},133:function(t,e,n){var r=n(7392),o=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(t,e,n){var r=n(7854),o=n(614),i=n(2788),a=r.WeakMap;t.exports=o(a)&&/native code/.test(i(a))},3929:function(t,e,n){var r=n(7854),o=n(7850),i=r.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t}},1574:function(t,e,n){var r=n(9781),o=n(1702),i=n(6916),a=n(7293),s=n(1956),u=n(5181),c=n(5296),l=n(7908),d=n(8361),h=Object.assign,p=Object.defineProperty,f=o([].concat);t.exports=!h||a((function(){if(r&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||s(h({},e)).join("")!=o}))?function(t,e){for(var n=l(t),o=arguments.length,a=1,h=u.f,p=c.f;o>a;)for(var v,y=d(arguments[a++]),g=h?f(s(y),h(y)):s(y),b=g.length,m=0;b>m;)v=g[m++],r&&!i(p,y,v)||(n[v]=y[v]);return n}:h},30:function(t,e,n){var r,o=n(9670),i=n(6048),a=n(748),s=n(3501),u=n(490),c=n(317),l=n(6200)("IE_PROTO"),d=function(){},h=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},f=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;f="undefined"!=typeof document?document.domain&&r?p(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):p(r);for(var n=a.length;n--;)delete f.prototype[a[n]];return f()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=o(t),n=new d,d.prototype=null,n[l]=t):n=f(),void 0===e?n:i.f(n,e)}},6048:function(t,e,n){var r=n(9781),o=n(3353),i=n(3070),a=n(9670),s=n(5656),u=n(1956);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),o=u(e),c=o.length,l=0;c>l;)i.f(t,n=o[l++],r[n]);return t}},3070:function(t,e,n){var r=n(7854),o=n(9781),i=n(4664),a=n(3353),s=n(9670),u=n(4948),c=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",f="writable";e.f=o?a?function(t,e,n){if(s(t),e=u(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&f in n&&!n.writable){var r=d(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:p in n?n.configurable:r.configurable,enumerable:h in n?n.enumerable:r.enumerable,writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=u(e),s(n),i)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),o=n(6916),i=n(5296),a=n(9114),s=n(5656),u=n(4948),c=n(2597),l=n(4664),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=s(t),e=u(e),l)try{return d(t,e)}catch(t){}if(c(t,e))return a(!o(i.f,t,e),t[e])}},1156:function(t,e,n){var r=n(4326),o=n(5656),i=n(8006).f,a=n(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==r(t)?function(t){try{return i(t)}catch(t){return a(s)}}(t):i(o(t))}},8006:function(t,e,n){var r=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(7854),o=n(2597),i=n(614),a=n(7908),s=n(6200),u=n(8544),c=s("IE_PROTO"),l=r.Object,d=l.prototype;t.exports=u?l.getPrototypeOf:function(t){var e=a(t);if(o(e,c))return e[c];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof l?d:null}},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),o=n(2597),i=n(5656),a=n(1318).indexOf,s=n(3501),u=r([].push);t.exports=function(t,e){var n,r=i(t),c=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&u(l,n);for(;e.length>c;)o(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},1956:function(t,e,n){var r=n(6324),o=n(748);t.exports=Object.keys||function(t){return r(t,o)}},5296:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},9026:function(t,e,n){var r=n(1913),o=n(7854),i=n(7293),a=n(8008);t.exports=r||!i((function(){if(!(a&&a<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete o[t]}}))},7674:function(t,e,n){var r=n(1702),o=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},288:function(t,e,n){var r=n(1694),o=n(648);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},2140:function(t,e,n){var r=n(7854),o=n(6916),i=n(614),a=n(111),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&i(n=t.toString)&&!a(r=o(n,t)))return r;if(i(n=t.valueOf)&&!a(r=o(n,t)))return r;if("string"!==e&&i(n=t.toString)&&!a(r=o(n,t)))return r;throw s("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),o=n(1702),i=n(8006),a=n(5181),s=n(9670),u=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=a.f;return n?u(e,n(t)):e}},857:function(t,e,n){var r=n(7854);t.exports=r},2626:function(t,e,n){var r=n(3070).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},7651:function(t,e,n){var r=n(7854),o=n(6916),i=n(9670),a=n(614),s=n(4326),u=n(2261),c=r.TypeError;t.exports=function(t,e){var n=t.exec;if(a(n)){var r=o(n,t,e);return null!==r&&i(r),r}if("RegExp"===s(t))return o(u,t,e);throw c("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){var r,o,i=n(6916),a=n(1702),s=n(1340),u=n(7066),c=n(2999),l=n(2309),d=n(30),h=n(9909).get,p=n(9441),f=n(7168),v=l("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,b=a("".charAt),m=a("".indexOf),k=a("".replace),_=a("".slice),w=(o=/b*/g,i(y,r=/a/,"a"),i(y,o,"a"),0!==r.lastIndex||0!==o.lastIndex),x=c.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(w||E||x||p||f)&&(g=function(t){var e,n,r,o,a,c,l,p=this,f=h(p),C=s(t),M=f.raw;if(M)return M.lastIndex=p.lastIndex,e=i(g,M,C),p.lastIndex=M.lastIndex,e;var O=f.groups,S=x&&p.sticky,j=i(u,p),H=p.source,I=0,A=C;if(S&&(j=k(j,"y",""),-1===m(j,"g")&&(j+="g"),A=_(C,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==b(C,p.lastIndex-1))&&(H="(?: "+H+")",A=" "+A,I++),n=new RegExp("^(?:"+H+")",j)),E&&(n=new RegExp("^"+H+"$(?!\\s)",j)),w&&(r=p.lastIndex),o=i(y,S?n:p,A),S?o?(o.input=_(o.input,I),o[0]=_(o[0],I),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:w&&o&&(p.lastIndex=p.global?o.index+o[0].length:r),E&&o&&o.length>1&&i(v,o[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&O)for(o.groups=c=d(null),a=0;a<O.length;a++)c[(l=O[a])[0]]=o[l[1]];return o}),t.exports=g},7066:function(t,e,n){var r=n(9670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},4706:function(t,e,n){var r=n(6916),o=n(2597),i=n(7976),a=n(7066),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||o(t,"flags")||!i(s,t)?e:r(a,t)}},2999:function(t,e,n){var r=n(7293),o=n(7854).RegExp,i=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=i||r((function(){return!o("a","y").sticky})),s=i||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:i}},9441:function(t,e,n){var r=n(7293),o=n(7854).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,e,n){var r=n(7293),o=n(7854).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,e,n){var r=n(7854).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6340:function(t,e,n){var r=n(5005),o=n(3070),i=n(5112),a=n(9781),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var r=n(3070).f,o=n(2597),i=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!o(t,i)&&r(t,i,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,e,n){var r=n(7854),o=n(3505),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},2309:function(t,e,n){var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.5",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(t,e,n){var r=n(9670),o=n(9483),i=n(5112)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},8710:function(t,e,n){var r=n(1702),o=n(9303),i=n(1340),a=n(4488),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(t){return function(e,n){var r,l,d=i(a(e)),h=o(n),p=d.length;return h<0||h>=p?t?"":void 0:(r=u(d,h))<55296||r>56319||h+1===p||(l=u(d,h+1))<56320||l>57343?t?s(d,h):r:t?c(d,h,h+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},6091:function(t,e,n){var r=n(6530).PROPER,o=n(7293),i=n(1361);t.exports=function(t){return o((function(){return!!i[t]()||"​᠎"!=="​᠎"[t]()||r&&i[t].name!==t}))}},3111:function(t,e,n){var r=n(1702),o=n(4488),i=n(1340),a=n(1361),s=r("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),d=function(t){return function(e){var n=i(o(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,l,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},6532:function(t,e,n){var r=n(6916),o=n(5005),i=n(5112),a=n(8052);t.exports=function(){var t=o("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=i("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return r(n,this)}),{arity:1})}},863:function(t,e,n){var r=n(1702);t.exports=r(1..valueOf)},1400:function(t,e,n){var r=n(9303),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5656:function(t,e,n){var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!=r||0===r?0:(r>0?n:e)(r)}},7466:function(t,e,n){var r=n(9303),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(7854),o=n(4488),i=r.Object;t.exports=function(t){return i(o(t))}},7593:function(t,e,n){var r=n(7854),o=n(6916),i=n(111),a=n(2190),s=n(8173),u=n(2140),c=n(5112),l=r.TypeError,d=c("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var n,r=s(t,d);if(r){if(void 0===e&&(e="default"),n=o(r,t,e),!i(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,n){var r=n(7593),o=n(2190);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},1694:function(t,e,n){var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},1340:function(t,e,n){var r=n(7854),o=n(648),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},6330:function(t,e,n){var r=n(7854).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},9711:function(t,e,n){var r=n(1702),o=0,i=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),o=n(7293);t.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},6061:function(t,e,n){var r=n(5112);e.f=r},5112:function(t,e,n){var r=n(7854),o=n(2309),i=n(2597),a=n(9711),s=n(133),u=n(3307),c=o("wks"),l=r.Symbol,d=l&&l.for,h=u?l:l&&l.withoutSetter||a;t.exports=function(t){if(!i(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&i(l,t)?c[t]=l[t]:c[t]=u&&d?d(e):h(e)}return c[t]}},1361:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2222:function(t,e,n){var r=n(2109),o=n(7854),i=n(7293),a=n(3157),s=n(111),u=n(7908),c=n(6244),l=n(6135),d=n(5417),h=n(1194),p=n(5112),f=n(7392),v=p("isConcatSpreadable"),y=9007199254740991,g="Maximum allowed index exceeded",b=o.TypeError,m=f>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),k=h("concat"),_=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,arity:1,forced:!m||!k},{concat:function(t){var e,n,r,o,i,a=u(this),s=d(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(_(i=-1===e?a:arguments[e])){if(h+(o=c(i))>y)throw b(g);for(n=0;n<o;n++,h++)n in i&&l(s,h,i[n])}else{if(h>=y)throw b(g);l(s,h++,i)}return s.length=h,s}})},7327:function(t,e,n){var r=n(2109),o=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:function(t,e,n){var r=n(2109),o=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(t){Array.from(t)}))},{from:o})},6699:function(t,e,n){var r=n(2109),o=n(1318).includes,i=n(7293),a=n(1223);r({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},2772:function(t,e,n){var r=n(2109),o=n(1702),i=n(1318).indexOf,a=n(9341),s=o([].indexOf),u=!!s&&1/s([1],1,-0)<0,c=a("indexOf");r({target:"Array",proto:!0,forced:u||!c},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:i(this,t,e)}})},6992:function(t,e,n){var r=n(5656),o=n(1223),i=n(7497),a=n(9909),s=n(3070).f,u=n(654),c=n(1913),l=n(9781),d="Array Iterator",h=a.set,p=a.getterFor(d);t.exports=u(Array,"Array",(function(t,e){h(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var f=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!c&&l&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(t){}},9600:function(t,e,n){var r=n(2109),o=n(1702),i=n(8361),a=n(5656),s=n(9341),u=o([].join),c=i!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(t){return u(a(this),void 0===t?",":t)}})},1249:function(t,e,n){var r=n(2109),o=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5827:function(t,e,n){var r=n(2109),o=n(3671).left,i=n(9341),a=n(7392),s=n(5268);r({target:"Array",proto:!0,forced:!i("reduce")||!s&&a>79&&a<83},{reduce:function(t){var e=arguments.length;return o(this,t,e,e>1?arguments[1]:void 0)}})},7042:function(t,e,n){var r=n(2109),o=n(7854),i=n(3157),a=n(4411),s=n(111),u=n(1400),c=n(6244),l=n(5656),d=n(6135),h=n(5112),p=n(1194),f=n(206),v=p("slice"),y=h("species"),g=o.Array,b=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var n,r,o,h=l(this),p=c(h),v=u(t,p),m=u(void 0===e?p:e,p);if(i(h)&&(n=h.constructor,(a(n)&&(n===g||i(n.prototype))||s(n)&&null===(n=n[y]))&&(n=void 0),n===g||void 0===n))return f(h,v,m);for(r=new(void 0===n?g:n)(b(m-v,0)),o=0;v<m;v++,o++)v in h&&d(r,o,h[v]);return r.length=o,r}})},2707:function(t,e,n){var r=n(2109),o=n(1702),i=n(9662),a=n(7908),s=n(6244),u=n(1340),c=n(7293),l=n(4362),d=n(9341),h=n(8886),p=n(256),f=n(7392),v=n(8008),y=[],g=o(y.sort),b=o(y.push),m=c((function(){y.sort(void 0)})),k=c((function(){y.sort(null)})),_=d("sort"),w=!c((function(){if(f)return f<70;if(!(h&&h>3)){if(p)return!0;if(v)return v<603;var t,e,n,r,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)y.push({k:e+r,v:n})}for(y.sort((function(t,e){return e.v-t.v})),r=0;r<y.length;r++)e=y[r].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:m||!k||!_||!w},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(w)return void 0===t?g(e):g(e,t);var n,r,o=[],c=s(e);for(r=0;r<c;r++)r in e&&b(o,e[r]);for(l(o,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}}(t)),n=o.length,r=0;r<n;)e[r]=o[r++];for(;r<c;)delete e[r++];return e}})},561:function(t,e,n){var r=n(2109),o=n(7854),i=n(1400),a=n(9303),s=n(6244),u=n(7908),c=n(5417),l=n(6135),d=n(1194)("splice"),h=o.TypeError,p=Math.max,f=Math.min,v=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,r,o,d,g,b,m=u(this),k=s(m),_=i(t,k),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=k-_):(n=w-2,r=f(p(a(e),0),k-_)),k+n-r>v)throw h(y);for(o=c(m,r),d=0;d<r;d++)(g=_+d)in m&&l(o,d,m[g]);if(o.length=r,n<r){for(d=_;d<k-r;d++)b=d+n,(g=d+r)in m?m[b]=m[g]:delete m[b];for(d=k;d>k-r+n;d--)delete m[d-1]}else if(n>r)for(d=k-r;d>_;d--)b=d+n-1,(g=d+r-1)in m?m[b]=m[g]:delete m[b];for(d=0;d<n;d++)m[d+_]=arguments[d+2];return m.length=k-r+n,o}})},8309:function(t,e,n){var r=n(9781),o=n(6530).EXISTS,i=n(1702),a=n(3070).f,s=Function.prototype,u=i(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(c.exec);r&&!o&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(t){return""}}})},8862:function(t,e,n){var r=n(2109),o=n(5005),i=n(2104),a=n(6916),s=n(1702),u=n(7293),c=n(3157),l=n(614),d=n(111),h=n(2190),p=n(206),f=n(133),v=o("JSON","stringify"),y=s(/./.exec),g=s("".charAt),b=s("".charCodeAt),m=s("".replace),k=s(1..toString),_=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,E=!f||u((function(){var t=o("Symbol")();return"[null]"!=v([t])||"{}"!=v({a:t})||"{}"!=v(Object(t))})),C=u((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),M=function(t,e){var n=p(arguments),r=e;if((d(e)||void 0!==t)&&!h(t))return c(e)||(e=function(t,e){if(l(r)&&(e=a(r,this,t,e)),!h(e))return e}),n[1]=e,i(v,null,n)},O=function(t,e,n){var r=g(n,e-1),o=g(n,e+1);return y(w,t)&&!y(x,o)||y(x,t)&&!y(w,r)?"\\u"+k(b(t,0),16):t};v&&r({target:"JSON",stat:!0,arity:3,forced:E||C},{stringify:function(t,e,n){var r=p(arguments),o=i(E?M:v,null,r);return C&&"string"==typeof o?m(o,_,O):o}})},9653:function(t,e,n){var r=n(9781),o=n(7854),i=n(1702),a=n(4705),s=n(8052),u=n(2597),c=n(9587),l=n(7976),d=n(2190),h=n(7593),p=n(7293),f=n(8006).f,v=n(1236).f,y=n(3070).f,g=n(863),b=n(3111).trim,m="Number",k=o.Number,_=k.prototype,w=o.TypeError,x=i("".slice),E=i("".charCodeAt),C=function(t){var e=h(t,"number");return"bigint"==typeof e?e:M(e)},M=function(t){var e,n,r,o,i,a,s,u,c=h(t,"number");if(d(c))throw w("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(e=E(c,0))||45===e){if(88===(n=E(c,2))||120===n)return NaN}else if(48===e){switch(E(c,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=(i=x(c,2)).length,s=0;s<a;s++)if((u=E(i,s))<48||u>o)return NaN;return parseInt(i,r)}return+c};if(a(m,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var O,S=function(t){var e=arguments.length<1?0:k(C(t)),n=this;return l(_,n)&&p((function(){g(n)}))?c(Object(e),n,S):e},j=r?f(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),H=0;j.length>H;H++)u(k,O=j[H])&&!u(S,O)&&y(S,O,v(k,O));S.prototype=_,_.constructor=S,s(o,m,S,{constructor:!0})}},3161:function(t,e,n){n(2109)({target:"Number",stat:!0},{isInteger:n(5988)})},9601:function(t,e,n){var r=n(2109),o=n(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},9595:function(t,e,n){var r=n(2109),o=n(9781),i=n(9026),a=n(9662),s=n(7908),u=n(3070);o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(t,e){u.f(s(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},5003:function(t,e,n){var r=n(2109),o=n(7293),i=n(5656),a=n(1236).f,s=n(9781),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},9337:function(t,e,n){var r=n(2109),o=n(9781),i=n(3887),a=n(5656),s=n(1236),u=n(6135);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=s.f,c=i(r),l={},d=0;c.length>d;)void 0!==(n=o(r,e=c[d++]))&&u(l,e,n);return l}})},6210:function(t,e,n){var r=n(2109),o=n(7293),i=n(1156).f;r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},9660:function(t,e,n){var r=n(2109),o=n(133),i=n(7293),a=n(5181),s=n(7908);r({target:"Object",stat:!0,forced:!o||i((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},7941:function(t,e,n){var r=n(2109),o=n(7908),i=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},1539:function(t,e,n){var r=n(1694),o=n(8052),i=n(288);r||o(Object.prototype,"toString",i,{unsafe:!0})},4603:function(t,e,n){var r=n(9781),o=n(7854),i=n(1702),a=n(4705),s=n(9587),u=n(8880),c=n(8006).f,l=n(7976),d=n(7850),h=n(1340),p=n(4706),f=n(2999),v=n(2626),y=n(8052),g=n(7293),b=n(2597),m=n(9909).enforce,k=n(6340),_=n(5112),w=n(9441),x=n(7168),E=_("match"),C=o.RegExp,M=C.prototype,O=o.SyntaxError,S=i(M.exec),j=i("".charAt),H=i("".replace),I=i("".indexOf),A=i("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,P=/a/g,R=/a/g,B=new C(P)!==P,T=f.MISSED_STICKY,D=f.UNSUPPORTED_Y;if(a("RegExp",r&&(!B||T||w||x||g((function(){return R[E]=!1,C(P)!=P||C(R)==R||"/a/i"!=C(P,"i")}))))){for(var N=function(t,e){var n,r,o,i,a,c,f=l(M,this),v=d(t),y=void 0===e,g=[],k=t;if(!f&&v&&y&&t.constructor===N)return t;if((v||l(M,t))&&(t=t.source,y&&(e=p(k))),t=void 0===t?"":h(t),e=void 0===e?"":h(e),k=t,w&&"dotAll"in P&&(r=!!e&&I(e,"s")>-1)&&(e=H(e,/s/g,"")),n=e,T&&"sticky"in P&&(o=!!e&&I(e,"y")>-1)&&D&&(e=H(e,/y/g,"")),x&&(t=(i=function(t){for(var e,n=t.length,r=0,o="",i=[],a={},s=!1,u=!1,c=0,l="";r<=n;r++){if("\\"===(e=j(t,r)))e+=j(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:S(L,A(t,r+1))&&(r+=2,u=!0),o+=e,c++;continue;case">"===e&&u:if(""===l||b(a,l))throw new O("Invalid capture group name");a[l]=!0,i[i.length]=[l,c],u=!1,l="";continue}u?l+=e:o+=e}return[o,i]}(t))[0],g=i[1]),a=s(C(t,e),f?this:M,N),(r||o||g.length)&&(c=m(a),r&&(c.dotAll=!0,c.raw=N(function(t){for(var e,n=t.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(e=j(t,r))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+j(t,++r);return o}(t),n)),o&&(c.sticky=!0),g.length&&(c.groups=g)),t!==k)try{u(a,"source",""===k?"(?:)":k)}catch(t){}return a},K=c(C),F=0;K.length>F;)v(N,C,K[F++]);M.constructor=N,N.prototype=M,y(o,"RegExp",N,{constructor:!0})}k("RegExp")},4916:function(t,e,n){var r=n(2109),o=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},9714:function(t,e,n){var r=n(6530).PROPER,o=n(8052),i=n(9670),a=n(1340),s=n(7293),u=n(4706),c="toString",l=RegExp.prototype.toString,d=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),h=r&&l.name!=c;(d||h)&&o(RegExp.prototype,c,(function(){var t=i(this);return"/"+a(t.source)+"/"+a(u(t))}),{unsafe:!0})},2023:function(t,e,n){var r=n(2109),o=n(1702),i=n(3929),a=n(4488),s=n(1340),u=n(4964),c=o("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(a(this)),s(i(t)),arguments.length>1?arguments[1]:void 0)}})},8783:function(t,e,n){var r=n(8710).charAt,o=n(1340),i=n(9909),a=n(654),s="String Iterator",u=i.set,c=i.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:o(t),index:0})}),(function(){var t,e=c(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},6373:function(t,e,n){var r=n(2109),o=n(7854),i=n(6916),a=n(1702),s=n(4994),u=n(4488),c=n(7466),l=n(1340),d=n(9670),h=n(4326),p=n(7850),f=n(4706),v=n(8173),y=n(8052),g=n(7293),b=n(5112),m=n(6707),k=n(1530),_=n(7651),w=n(9909),x=n(1913),E=b("matchAll"),C="RegExp String",M="RegExp String Iterator",O=w.set,S=w.getterFor(M),j=RegExp.prototype,H=o.TypeError,I=a("".indexOf),A=a("".matchAll),L=!!A&&!g((function(){A("a",/./)})),P=s((function(t,e,n,r){O(this,{type:M,regexp:t,string:e,global:n,unicode:r,done:!1})}),C,(function(){var t=S(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=_(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""===l(r[0])&&(e.lastIndex=k(n,c(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),R=function(t){var e,n,r,o=d(this),i=l(t),a=m(o,RegExp),s=l(f(o));return e=new a(a===RegExp?o.source:o,s),n=!!~I(s,"g"),r=!!~I(s,"u"),e.lastIndex=c(o.lastIndex),new P(e,i,n,r)};r({target:"String",proto:!0,forced:L},{matchAll:function(t){var e,n,r,o,a=u(this);if(null!=t){if(p(t)&&(e=l(u(f(t))),!~I(e,"g")))throw H("`.matchAll` does not allow non-global regexes");if(L)return A(a,t);if(void 0===(r=v(t,E))&&x&&"RegExp"==h(t)&&(r=R),r)return i(r,t,a)}else if(L)return A(a,t);return n=l(a),o=new RegExp(t,"g"),x?i(R,o,n):o[E](n)}}),x||E in j||y(j,E,R)},4723:function(t,e,n){var r=n(6916),o=n(7007),i=n(9670),a=n(7466),s=n(1340),u=n(4488),c=n(8173),l=n(1530),d=n(7651);o("match",(function(t,e,n){return[function(e){var n=u(this),o=null==e?void 0:c(e,t);return o?r(o,e,n):new RegExp(e)[t](s(n))},function(t){var r=i(this),o=s(t),u=n(e,r,o);if(u.done)return u.value;if(!r.global)return d(r,o);var c=r.unicode;r.lastIndex=0;for(var h,p=[],f=0;null!==(h=d(r,o));){var v=s(h[0]);p[f]=v,""===v&&(r.lastIndex=l(o,a(r.lastIndex),c)),f++}return 0===f?null:p}]}))},5306:function(t,e,n){var r=n(2104),o=n(6916),i=n(1702),a=n(7007),s=n(7293),u=n(9670),c=n(614),l=n(9303),d=n(7466),h=n(1340),p=n(4488),f=n(1530),v=n(8173),y=n(647),g=n(7651),b=n(5112)("replace"),m=Math.max,k=Math.min,_=i([].concat),w=i([].push),x=i("".indexOf),E=i("".slice),C="$0"==="a".replace(/./,"$0"),M=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(t,e,n){var i=M?"$":"$0";return[function(t,n){var r=p(this),i=null==t?void 0:v(t,b);return i?o(i,t,r,n):o(e,h(r),t,n)},function(t,o){var a=u(this),s=h(t);if("string"==typeof o&&-1===x(o,i)&&-1===x(o,"$<")){var p=n(e,a,s,o);if(p.done)return p.value}var v=c(o);v||(o=h(o));var b=a.global;if(b){var C=a.unicode;a.lastIndex=0}for(var M=[];;){var O=g(a,s);if(null===O)break;if(w(M,O),!b)break;""===h(O[0])&&(a.lastIndex=f(s,d(a.lastIndex),C))}for(var S,j="",H=0,I=0;I<M.length;I++){for(var A=h((O=M[I])[0]),L=m(k(l(O.index),s.length),0),P=[],R=1;R<O.length;R++)w(P,void 0===(S=O[R])?S:String(S));var B=O.groups;if(v){var T=_([A],P,L,s);void 0!==B&&w(T,B);var D=h(r(o,void 0,T))}else D=y(A,s,L,P,B,o);L>=H&&(j+=E(s,H,L)+D,H=L+A.length)}return j+E(s,H)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!C||M)},3123:function(t,e,n){var r=n(2104),o=n(6916),i=n(1702),a=n(7007),s=n(7850),u=n(9670),c=n(4488),l=n(6707),d=n(1530),h=n(7466),p=n(1340),f=n(8173),v=n(1589),y=n(7651),g=n(2261),b=n(2999),m=n(7293),k=b.UNSUPPORTED_Y,_=4294967295,w=Math.min,x=[].push,E=i(/./.exec),C=i(x),M=i("".slice);a("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=p(c(this)),a=void 0===n?_:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!s(t))return o(e,i,t,a);for(var u,l,d,h=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,b=new RegExp(t.source,f+"g");(u=o(g,b,i))&&!((l=b.lastIndex)>y&&(C(h,M(i,y,u.index)),u.length>1&&u.index<i.length&&r(x,h,v(u,1)),d=u[0].length,y=l,h.length>=a));)b.lastIndex===u.index&&b.lastIndex++;return y===i.length?!d&&E(b,"")||C(h,""):C(h,M(i,y)),h.length>a?v(h,0,a):h}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e,[function(e,n){var r=c(this),a=null==e?void 0:f(e,t);return a?o(a,e,r,n):o(i,p(r),e,n)},function(t,r){var o=u(this),a=p(t),s=n(i,o,a,r,i!==e);if(s.done)return s.value;var c=l(o,RegExp),f=o.unicode,v=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(k?"g":"y"),g=new c(k?"^(?:"+o.source+")":o,v),b=void 0===r?_:r>>>0;if(0===b)return[];if(0===a.length)return null===y(g,a)?[a]:[];for(var m=0,x=0,E=[];x<a.length;){g.lastIndex=k?0:x;var O,S=y(g,k?M(a,x):a);if(null===S||(O=w(h(g.lastIndex+(k?x:0)),a.length))===m)x=d(a,x,f);else{if(C(E,M(a,m,x)),E.length===b)return E;for(var j=1;j<=S.length-1;j++)if(C(E,S[j]),E.length===b)return E;x=m=O}}return C(E,M(a,m)),E}]}),!!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),k)},3210:function(t,e,n){var r=n(2109),o=n(3111).trim;r({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return o(this)}})},4032:function(t,e,n){var r=n(2109),o=n(7854),i=n(6916),a=n(1702),s=n(1913),u=n(9781),c=n(133),l=n(7293),d=n(2597),h=n(7976),p=n(9670),f=n(5656),v=n(4948),y=n(1340),g=n(9114),b=n(30),m=n(1956),k=n(8006),_=n(1156),w=n(5181),x=n(1236),E=n(3070),C=n(6048),M=n(5296),O=n(8052),S=n(2309),j=n(6200),H=n(3501),I=n(9711),A=n(5112),L=n(6061),P=n(7235),R=n(6532),B=n(8003),T=n(9909),D=n(2092).forEach,N=j("hidden"),K="Symbol",F=T.set,U=T.getterFor(K),q=Object.prototype,z=o.Symbol,V=z&&z.prototype,G=o.TypeError,$=o.QObject,J=x.f,Y=E.f,Q=_.f,Z=M.f,W=a([].push),X=S("symbols"),tt=S("op-symbols"),et=S("wks"),nt=!$||!$.prototype||!$.prototype.findChild,rt=u&&l((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=J(q,e);r&&delete q[e],Y(t,e,n),r&&t!==q&&Y(q,e,r)}:Y,ot=function(t,e){var n=X[t]=b(V);return F(n,{type:K,tag:t,description:e}),u||(n.description=e),n},it=function(t,e,n){t===q&&it(tt,e,n),p(t);var r=v(e);return p(n),d(X,r)?(n.enumerable?(d(t,N)&&t[N][r]&&(t[N][r]=!1),n=b(n,{enumerable:g(0,!1)})):(d(t,N)||Y(t,N,g(1,{})),t[N][r]=!0),rt(t,r,n)):Y(t,r,n)},at=function(t,e){p(t);var n=f(e),r=m(n).concat(lt(n));return D(r,(function(e){u&&!i(st,n,e)||it(t,e,n[e])})),t},st=function(t){var e=v(t),n=i(Z,this,e);return!(this===q&&d(X,e)&&!d(tt,e))&&(!(n||!d(this,e)||!d(X,e)||d(this,N)&&this[N][e])||n)},ut=function(t,e){var n=f(t),r=v(e);if(n!==q||!d(X,r)||d(tt,r)){var o=J(n,r);return!o||!d(X,r)||d(n,N)&&n[N][r]||(o.enumerable=!0),o}},ct=function(t){var e=Q(f(t)),n=[];return D(e,(function(t){d(X,t)||d(H,t)||W(n,t)})),n},lt=function(t){var e=t===q,n=Q(e?tt:f(t)),r=[];return D(n,(function(t){!d(X,t)||e&&!d(q,t)||W(r,X[t])})),r};c||(O(V=(z=function(){if(h(V,this))throw G("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,e=I(t),n=function(t){this===q&&i(n,tt,t),d(this,N)&&d(this[N],e)&&(this[N][e]=!1),rt(this,e,g(1,t))};return u&&nt&&rt(q,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return U(this).tag})),O(z,"withoutSetter",(function(t){return ot(I(t),t)})),M.f=st,E.f=it,C.f=at,x.f=ut,k.f=_.f=ct,w.f=lt,L.f=function(t){return ot(A(t),t)},u&&(Y(V,"description",{configurable:!0,get:function(){return U(this).description}}),s||O(q,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),D(m(et),(function(t){P(t)})),r({target:K,stat:!0,forced:!c},{useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?b(t):at(b(t),e)},defineProperty:it,defineProperties:at,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ct}),R(),B(z,K),H[N]=!0},1817:function(t,e,n){var r=n(2109),o=n(9781),i=n(7854),a=n(1702),s=n(2597),u=n(614),c=n(7976),l=n(1340),d=n(3070).f,h=n(9920),p=i.Symbol,f=p&&p.prototype;if(o&&u(p)&&(!("description"in f)||void 0!==p().description)){var v={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(f,this)?new p(t):void 0===t?p():p(t);return""===t&&(v[e]=!0),e};h(y,p),y.prototype=f,f.constructor=y;var g="Symbol(test)"==String(p("test")),b=a(f.toString),m=a(f.valueOf),k=/^Symbol\((.*)\)[^)]+$/,_=a("".replace),w=a("".slice);d(f,"description",{configurable:!0,get:function(){var t=m(this),e=b(t);if(s(v,t))return"";var n=g?w(e,7,-1):_(e,k,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:y})}},763:function(t,e,n){var r=n(2109),o=n(5005),i=n(2597),a=n(1340),s=n(2309),u=n(735),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=a(t);if(i(c,e))return c[e];var n=o("Symbol")(e);return c[e]=n,l[n]=e,n}})},2165:function(t,e,n){n(7235)("iterator")},2526:function(t,e,n){n(4032),n(763),n(6620),n(8862),n(9660)},6620:function(t,e,n){var r=n(2109),o=n(2597),i=n(2190),a=n(6330),s=n(2309),u=n(735),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!i(t))throw TypeError(a(t)+" is not a symbol");if(o(c,t))return c[t]}})},3728:function(t,e,n){n(6373)},4747:function(t,e,n){var r=n(7854),o=n(8324),i=n(8509),a=n(8533),s=n(8880),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in o)o[c]&&u(r[c]&&r[c].prototype);u(i)},3948:function(t,e,n){var r=n(7854),o=n(8324),i=n(8509),a=n(6992),s=n(8880),u=n(5112),c=u("iterator"),l=u("toStringTag"),d=a.values,h=function(t,e){if(t){if(t[c]!==d)try{s(t,c,d)}catch(e){t[c]=d}if(t[l]||s(t,l,e),o[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var p in o)h(r[p]&&r[p].prototype,p);h(i,"DOMTokenList")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return function(){function t(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(r),n.d(r,{default:function(){return w}}),n(3210),n(4916),n(5306),n(2772),n(8309),n(3123),n(1539),n(9714),n(561),n(9600),n(9595),n(7042),"undefined"==typeof Element||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"undefined"!=typeof self&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var e="classList",n=t.Element.prototype,r=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new a("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","The token must not contain space characters.");return i.call(t,e)},u=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=u.prototype=[],l=function(){return new u(this)};if(a.prototype=Error.prototype,c.item=function(t){return this[t]||null},c.contains=function(t){return~s(this,t+"")},c.add=function(){var t,e=arguments,n=0,r=e.length,o=!1;do{t=e[n]+"",~s(this,t)||(this.push(t),o=!0)}while(++n<r);o&&this._updateClassName()},c.remove=function(){var t,e,n=arguments,r=0,o=n.length,i=!1;do{for(t=n[r]+"",e=s(this,t);~e;)this.splice(e,1),i=!0,e=s(this,t)}while(++r<o);i&&this._updateClassName()},c.toggle=function(t,e){var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},c.replace=function(t,e){var n=s(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},c.toString=function(){return this.join(" ")},r.defineProperty){var d={get:l,enumerable:!0,configurable:!0};try{r.defineProperty(n,e,d)}catch(t){void 0!==t.number&&-2146823252!==t.number||(d.enumerable=!1,r.defineProperty(n,e,d))}}else r.prototype.__defineGetter__&&n.__defineGetter__(e,l)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),r=n.indexOf(t+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),n(7327),n(2222),n(7941),n(4603),n(3728),n(2707),n(6699),n(2023),n(4747),n(9601),n(1249),n(1038),n(8783),n(2526),n(5003),n(9337),n(1817),n(2165),n(6992),n(3948),n(3161),n(9653),n(4723),n(5827),n(6210);var u=function(){function n(t){var e=t.getOptions,r=t.getCaretPosition,o=t.getCaretPositionEnd,i=t.dispatch;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,"getOptions",void 0),s(this,"getCaretPosition",void 0),s(this,"getCaretPositionEnd",void 0),s(this,"dispatch",void 0),s(this,"maxLengthReached",void 0),s(this,"isStandardButton",(function(t){return t&&!("{"===t[0]&&"}"===t[t.length-1])})),this.getOptions=e,this.getCaretPosition=r,this.getCaretPositionEnd=o,this.dispatch=i,n.bindMethods(n,this)}var r,o,u;return r=n,u=[{key:"bindMethods",value:function(t,n){var r,o=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=e(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}(Object.getOwnPropertyNames(t.prototype));try{for(o.s();!(r=o.n()).done;){var i=r.value;"constructor"===i||"bindMethods"===i||(n[i]=n[i].bind(n))}}catch(t){o.e(t)}finally{o.f()}}}],(o=[{key:"getButtonType",value:function(t){return t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(t){var e=this.getButtonType(t),n=t.replace("{","").replace("}",""),r="";return"standardBtn"!==e&&(r=" hg-button-".concat(n)),"hg-".concat(e).concat(r)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e,n){return(e=n?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=this.getOptions(),a=[n,r,o],s=e;return("{bksp}"===t||"{backspace}"===t)&&s.length>0?s=this.removeAt.apply(this,[s].concat(a)):("{delete}"===t||"{forwarddelete}"===t)&&s.length>0?s=this.removeForwardsAt.apply(this,[s].concat(a)):"{space}"===t?s=this.addStringAt.apply(this,[s," "].concat(a)):"{tab}"!==t||"boolean"==typeof i.tabCharOnTab&&!1===i.tabCharOnTab?"{enter}"!==t&&"{numpadenter}"!==t||!i.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?s=this.addStringAt.apply(this,[s,t[t.length-2]].concat(a)):"{numpaddivide}"===t?s=this.addStringAt.apply(this,[s,"/"].concat(a)):"{numpadmultiply}"===t?s=this.addStringAt.apply(this,[s,"*"].concat(a)):"{numpadsubtract}"===t?s=this.addStringAt.apply(this,[s,"-"].concat(a)):"{numpadadd}"===t?s=this.addStringAt.apply(this,[s,"+"].concat(a)):"{numpaddecimal}"===t?s=this.addStringAt.apply(this,[s,"."].concat(a)):"{"===t||"}"===t?s=this.addStringAt.apply(this,[s,t].concat(a)):t.includes("{")||t.includes("}")||(s=this.addStringAt.apply(this,[s,t].concat(a))):s=this.addStringAt.apply(this,[s,"\n"].concat(a)):s=this.addStringAt.apply(this,[s,"\t"].concat(a)),s}},{key:"updateCaretPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.updateCaretPosAction(t,e);this.dispatch((function(t){t.setCaretPosition(n)}))}},{key:"updateCaretPosAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getOptions(),r=this.getCaretPosition();return null!=r&&(e?r>0&&(r-=t):r+=t),n.debug&&console.log("Caret at:",r),r}},{key:"addStringAt",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return r||0===r?(n=[t.slice(0,r),e,t.slice(o)].join(""),this.isMaxLengthReached()||i&&this.updateCaretPos(e.length)):n=t+e,n}},{key:"removeAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n&&0===r)return t;if(n===r){var i=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;n&&n>=0?t.substring(n-2,n).match(i)?(e=t.substr(0,n-2)+t.substr(n),o&&this.updateCaretPos(2,!0)):(e=t.substr(0,n-1)+t.substr(n),o&&this.updateCaretPos(1,!0)):t.slice(-2).match(i)?(e=t.slice(0,-2),o&&this.updateCaretPos(2,!0)):(e=t.slice(0,-1),o&&this.updateCaretPos(1,!0))}else e=t.slice(0,n)+t.slice(r),o&&this.dispatch((function(t){t.setCaretPosition(n)}));return e}},{key:"removeForwardsAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==t||!t.length||null===n)return t;if(n===r){var i=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;e=t.substring(n,n+2).match(i)?t.substr(0,n)+t.substr(n+2):t.substr(0,n)+t.substr(n+1)}else e=t.slice(0,n)+t.slice(r),o&&this.dispatch((function(t){t.setCaretPosition(n)}));return e}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),r=n.maxLength,o=t[n.inputName||"default"],a=e.length-1>=r;if(e.length<=o.length)return!1;if(Number.isInteger(r))return n.debug&&console.log("maxLength (num) reached:",a),a?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===i(r)){var s=e.length-1>=r[n.inputName||"default"];return n.debug&&console.log("maxLength (obj) reached:",s),s?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(t){return t?t.toLowerCase().trim().split(/[.\-_\s]/g).reduce((function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t})):""}},{key:"chunkArray",value:function(e,n){return t(Array(Math.ceil(e.length/n))).map((function(t,r){return e.slice(n*r,n+n*r)}))}}])&&a(r.prototype,o),u&&a(r,u),Object.defineProperty(r,"prototype",{writable:!1}),n}();s(u,"noop",(function(){}));var c=u;function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(){function t(e){var n=e.dispatch,r=e.getOptions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"getOptions",void 0),d(this,"dispatch",void 0),this.dispatch=n,this.getOptions=r,c.bindMethods(t,this)}var e,n;return e=t,(n=[{key:"handleHighlightKeyDown",value:function(t){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(r){var o,i,a=r.getButtonElement(n),s=r.getButtonElement("{".concat(n,"}"));if(a)o=a,i=n;else{if(!s)return;o=s,i="{".concat(n,"}")}o&&(o.style.backgroundColor=e.physicalKeyboardHighlightBgColor||"#dadce4",o.style.color=e.physicalKeyboardHighlightTextColor||"black",e.physicalKeyboardHighlightPress&&(e.physicalKeyboardHighlightPressUsePointerEvents?o.onpointerdown():e.physicalKeyboardHighlightPressUseClick?o.click():r.handleButtonClicked(i,t)))}))}},{key:"handleHighlightKeyUp",value:function(t){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(t){var r=t.getButtonElement(n)||t.getButtonElement("{".concat(n,"}"));r&&r.removeAttribute&&(r.removeAttribute("style"),e.physicalKeyboardHighlightPressUsePointerEvents&&r.onpointerup())}))}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e,n="",r=t.code||t.key||this.keyCodeToKey(null==t?void 0:t.keyCode);return(n=null!=r&&r.includes("Numpad")||null!=r&&r.includes("Shift")||null!=r&&r.includes("Space")||null!=r&&r.includes("Backspace")||null!=r&&r.includes("Control")||null!=r&&r.includes("Alt")||null!=r&&r.includes("Meta")?t.code||"":t.key||this.keyCodeToKey(null==t?void 0:t.keyCode)||"").length>1?null===(e=n)||void 0===e?void 0:e.toLowerCase():n}},{key:"keyCodeToKey",value:function(t){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[t]}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(){function t(e){var n=e.utilities;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,"utilities",void 0),f(this,"candidateBoxElement",void 0),f(this,"pageIndex",0),f(this,"pageSize",void 0),this.utilities=n,c.bindMethods(t,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5}var e,n;return e=t,(n=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(t){var e=this,n=t.candidateValue,r=t.targetElement,o=t.onSelect;if(n&&n.length){var i=this.utilities.chunkArray(n.split(" "),this.pageSize);this.renderPage({candidateListPages:i,targetElement:r,pageIndex:this.pageIndex,nbPages:i.length,onItemSelected:function(t,n){o(t,n),e.destroy()}})}}},{key:"renderPage",value:function(t){var e,n=this,r=t.candidateListPages,o=t.targetElement,i=t.pageIndex,a=t.nbPages,s=t.onItemSelected;null===(e=this.candidateBoxElement)||void 0===e||e.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var u=document.createElement("ul");u.className="hg-candidate-box-list",r[i].forEach((function(t){var e=document.createElement("li"),n=function(){var t=new MouseEvent("click");return Object.defineProperty(t,"target",{value:e}),t};e.className="hg-candidate-box-list-item",e.textContent=t,e.onclick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n();return s(t,e)},u.appendChild(e)}));var c=i>0,l=document.createElement("div");l.classList.add("hg-candidate-box-prev"),c&&l.classList.add("hg-candidate-box-btn-active"),l.onclick=function(){c&&n.renderPage({candidateListPages:r,targetElement:o,pageIndex:i-1,nbPages:a,onItemSelected:s})},this.candidateBoxElement.appendChild(l),this.candidateBoxElement.appendChild(u);var d=i<a-1,h=document.createElement("div");h.classList.add("hg-candidate-box-next"),d&&h.classList.add("hg-candidate-box-btn-active"),h.onclick=function(){d&&n.renderPage({candidateListPages:r,targetElement:o,pageIndex:i+1,nbPages:a,onItemSelected:s})},this.candidateBoxElement.appendChild(h),o.prepend(this.candidateBoxElement)}}])&&p(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(){function t(e,n){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"input",void 0),_(this,"options",void 0),_(this,"utilities",void 0),_(this,"caretPosition",void 0),_(this,"caretPositionEnd",void 0),_(this,"keyboardDOM",void 0),_(this,"keyboardPluginClasses",void 0),_(this,"keyboardDOMClass",void 0),_(this,"buttonElements",void 0),_(this,"currentInstanceName",void 0),_(this,"allKeyboardInstances",void 0),_(this,"keyboardInstanceNames",void 0),_(this,"isFirstKeyboardInstance",void 0),_(this,"physicalKeyboard",void 0),_(this,"modules",void 0),_(this,"activeButtonClass",void 0),_(this,"holdInteractionTimeout",void 0),_(this,"holdTimeout",void 0),_(this,"isMouseHold",void 0),_(this,"initialized",void 0),_(this,"candidateBox",void 0),_(this,"keyboardRowsDOM",void 0),_(this,"defaultName","default"),_(this,"activeInputElement",null),_(this,"handleParams",(function(t,e){var n,r,o;if("string"==typeof t)n=t.split(".").join(""),r=document.querySelector(".".concat(n)),o=e;else if(t instanceof HTMLDivElement){if(!t.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");n=t.className.split(" ")[0],r=t,o=e}else n="simple-keyboard",r=document.querySelector(".".concat(n)),o=t;return{keyboardDOMClass:n,keyboardDOM:r,options:o}})),_(this,"getOptions",(function(){return r.options})),_(this,"getCaretPosition",(function(){return r.caretPosition})),_(this,"getCaretPositionEnd",(function(){return r.caretPositionEnd})),_(this,"registerModule",(function(t,e){r.modules[t]||(r.modules[t]={}),e(r.modules[t])})),_(this,"getKeyboardClassString",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=[r.keyboardDOMClass].concat(e).filter((function(t){return!!t}));return o.join(" ")})),"undefined"!=typeof window){var o=this.handleParams(e,n),i=o.keyboardDOMClass,a=o.keyboardDOM,s=o.options,u=void 0===s?{}:s;this.utilities=new c({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=a,this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},u),this.keyboardPluginClasses="",c.bindMethods(t,this);var l=this.options.inputName,d=void 0===l?this.defaultName:l;if(this.input={},this.input[d]="",this.keyboardDOMClass=i,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new h({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new v({utilities:this.utilities}):null,!this.keyboardDOM)throw console.warn('".'.concat(i,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}}var e,n;return e=t,(n=[{key:"setCaretPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.caretPosition=t,this.caretPositionEnd=e}},{key:"getInputCandidates",value:function(t){var e=this,n=this.options,r=n.layoutCandidates,o=n.layoutCandidatesCaseSensitiveMatch;if(!r||"object"!==b(r))return{};var i=Object.keys(r).filter((function(n){var r=t.substring(0,e.getCaretPositionEnd()||0)||t,i=new RegExp("".concat(n,"$"),o?"g":"gi");return!!y(r.matchAll(i)).length}));if(i.length>1){var a=i.sort((function(t,e){return e.length-t.length}))[0];return{candidateKey:a,candidateValue:r[a]}}if(i.length){var s=i[0];return{candidateKey:s,candidateValue:r[s]}}return{}}},{key:"showCandidatesBox",value:function(t,e,n){var r=this;this.candidateBox&&this.candidateBox.show({candidateValue:e,targetElement:n,onSelect:function(e,n){var o=r.options.layoutCandidatesCaseSensitiveMatch,i=e.normalize("NFD"),a=r.getInput(r.options.inputName,!0),s=r.getCaretPositionEnd()||0,u=a.substring(0,s||0)||a,c=new RegExp("".concat(t,"$"),o?"g":"gi"),l=u.replace(c,i),d=a.replace(u,l),h=l.length-u.length,p=(s||a.length)+h;p<0&&(p=0),r.setInput(d,r.options.inputName,!0),r.setCaretPosition(p),"function"==typeof r.options.onChange&&r.options.onChange(r.getInput(r.options.inputName,!0),n),"function"==typeof r.options.onChangeAll&&r.options.onChangeAll(r.getAllInputs(),n)}})}},{key:"handleButtonClicked",value:function(t,e){var n=this.options,r=n.inputName,o=void 0===r?this.defaultName:r,i=n.debug;if("{//}"!==t){this.input[o]||(this.input[o]="");var a=this.utilities.getUpdatedInput(t,this.input[o],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(t)&&this.activeInputElement&&this.input[o]&&this.input[o]===a&&0===this.caretPosition&&this.caretPositionEnd===a.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(t,e);if("function"==typeof this.options.onKeyPress&&this.options.onKeyPress(t,e),this.input[o]!==a&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(a))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,a))return;var s=this.utilities.getUpdatedInput(t,this.input[o],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(s,this.options.inputName,!0),i&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")")),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"==typeof this.options.onChange&&this.options.onChange(this.getInput(this.options.inputName,!0),e),"function"==typeof this.options.onChangeAll&&this.options.onChangeAll(this.getAllInputs(),e),null!=e&&e.target&&this.options.enableLayoutCandidates){var u,c=this.getInputCandidates(a),l=c.candidateKey,d=c.candidateValue;l&&d?this.showCandidatesBox(l,d,this.keyboardDOM):null===(u=this.candidateBox)||void 0===u||u.destroy()}}i&&console.log("Key pressed:",t)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(t){this.options.syncInstanceInputs?this.dispatch((function(e){e.isMouseHold=t})):this.isMouseHold=t}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;e&&(this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout((function(){(n.getMouseHold()&&(!t.includes("{")&&!t.includes("}")||"{delete}"===t||"{backspace}"===t||"{bksp}"===t||"{space}"===t||"{tab}"===t)||"{arrowright}"===t||"{arrowleft}"===t||"{arrowup}"===t||"{arrowdown}"===t)&&(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t)),clearTimeout(n.holdTimeout)}),500))}},{key:"handleButtonMouseUp",value:function(t,e){var n=this;e&&(this.options.preventMouseUpDefault&&e.preventDefault&&e.preventDefault(),this.options.stopMouseUpPropagation&&e.stopPropagation&&e.stopPropagation(),!(e.target===this.keyboardDOM||e.target&&this.keyboardDOM.contains(e.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(e.target===this.candidateBox.candidateBoxElement||e.target&&this.candidateBox.candidateBoxElement.contains(e.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons((function(t){t.classList.remove(n.activeButtonClass)})),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),t&&"function"==typeof this.options.onKeyReleased&&this.options.onKeyReleased(t)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout((function(){e.getMouseHold()?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)}),100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch((function(e){e.replaceInput(t.input),e.setCaretPosition(t.caretPosition,t.caretPositionEnd)}))}},{key:"clearInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName;this.input[t]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.syncInstanceInputs&&!e&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[t].replace("‫","").replace("‬","")+"‬":this.input[t]}},{key:"getAllInputs",value:function(){var t=this,e={};return Object.keys(this.input).forEach((function(n){e[n]=t.getInput(n,!0)})),e}},{key:"setInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.inputName||this.defaultName,n=arguments.length>2?arguments[2]:void 0;this.input[e]=t,!n&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(e),this.render())}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter((function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])}))}},{key:"onSetOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(t.includes("layoutCandidatesPageSize")||t.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new v({utilities:this.utilities}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach((function(e){t(window.SimpleKeyboardInstances[e],e)}))}},{key:"addButtonTheme",value:function(t,e){var n=this;e&&t&&(t.split(" ").forEach((function(r){e.split(" ").forEach((function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var o=!1;n.options.buttonTheme.map((function(t){if(null!=t&&t.class.split(" ").includes(e)){o=!0;var n=t.buttons.split(" ");n.includes(r)||(o=!0,n.push(r),t.buttons=n.join(" "))}return t})),o||n.options.buttonTheme.push({class:e,buttons:t})}))})),this.render())}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],void this.render();t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach((function(t){var r,o;null===(r=n.options)||void 0===r||null===(o=r.buttonTheme)||void 0===o||o.map((function(r,o){if(r&&e&&e.includes(r.class)||!e){var i,a,s=null===(i=r)||void 0===i?void 0:i.buttons.split(" ").filter((function(e){return e!==t}));r&&null!=s&&s.length?r.buttons=s.join(" "):(null===(a=n.options.buttonTheme)||void 0===a||a.splice(o,1),r=null)}return r}))})),this.render())}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName||this.defaultName])&&t){var r=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(r?"passed":"did not pass!")),r}return!0}},{key:"setEventListeners",value:function(){!this.isFirstKeyboardInstance&&this.allKeyboardInstances||(this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")")),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),document.addEventListener("select",this.handleSelect),document.addEventListener("selectionchange",this.handleSelectionChange))}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}},{key:"handleKeyDown",value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t)}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t)}},{key:"handleSelect",value:function(t){this.caretEventHandler(t)}},{key:"handleSelectionChange",value:function(t){this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e,n=this;t.target.tagName&&(e=t.target.tagName.toLowerCase()),this.dispatch((function(r){var o=t.target===r.keyboardDOM||t.target&&r.keyboardDOM.contains(t.target);("textarea"===e||"input"===e&&["text","search","url","tel","password"].includes(t.target.type))&&!r.options.disableCaretPositioning?(r.setCaretPosition(t.target.selectionStart,t.target.selectionEnd),n.activeInputElement=t.target,r.options.debug&&console.log("Caret at: ",r.getCaretPosition(),r.getCaretPositionEnd(),t&&t.target.tagName.toLowerCase(),"(".concat(r.keyboardDOMClass,")"))):!r.options.disableCaretPositioning&&o||"selectionchange"===(null==t?void 0:t.type)||(r.setCaretPosition(null),n.activeInputElement=null,r.options.debug&&console.log('Caret position reset due to "'.concat(null==t?void 0:t.type,'" event'),t))}))}},{key:"recurseButtons",value:function(t){var e=this;t&&Object.keys(this.buttonElements).forEach((function(n){return e.buttonElements[n].forEach(t)}))}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName)),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons((function(t){t&&(t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null)})),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach((function(e){if(e&&e.class&&"string"==typeof e.class&&e.buttons&&"string"==typeof e.buttons){var r=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(y(n),y(r)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)})),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach((function(n){n.attribute&&"string"==typeof n.attribute&&n.value&&"string"==typeof n.value&&n.buttons&&"string"==typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)}))}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"==typeof this.options.onInit&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"==typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"==typeof this.options.beforeRender&&this.options.beforeRender(this)}},{key:"onRender",value:function(){"function"==typeof this.options.onRender&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){"function"==typeof this.options.onModulesLoaded&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach((function(e){var n=new e(t);n.init&&n.init(t)})),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,r){var o=this,i=Array.from(t.children),a=0;return i.length&&n.forEach((function(n,s){var u=r[s];if(!(u&&u>n))return!1;var c=n-a,l=u-a,d=document.createElement("div");d.className+="hg-button-container";var h="".concat(o.options.layoutName,"-r").concat(e,"c").concat(s);d.setAttribute("data-skUID",h);var p=i.splice(c,l-c+1);a=l-c,p.forEach((function(t){return d.appendChild(t)})),i.splice(c,0,d),t.innerHTML="",i.forEach((function(e){return t.appendChild(e)})),o.options.debug&&console.log("rowDOMContainer",p,c,l,a+1)})),t}},{key:"render",value:function(){var t=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e="hg-layout-".concat(this.options.layoutName),n=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},r=this.options.useTouchEvents||!1,o=r?"hg-touch-events":"",i=this.options.useMouseEvents||!1,a=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,e,this.keyboardPluginClasses,o),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",n[this.options.layoutName||this.defaultName].forEach((function(e,n){var o=e.split(" ");t.options.excludeFromLayout&&t.options.excludeFromLayout[t.options.layoutName||t.defaultName]&&(o=o.filter((function(e){return t.options.excludeFromLayout&&!t.options.excludeFromLayout[t.options.layoutName||t.defaultName].includes(e)})));var s=document.createElement("div");s.className+="hg-row";var u=[],c=[];o.forEach((function(e,o){var l,d=!a&&"string"==typeof e&&e.length>1&&0===e.indexOf("["),h=!a&&"string"==typeof e&&e.length>1&&e.indexOf("]")===e.length-1;d&&(u.push(o),e=e.replace(/\[/g,"")),h&&(c.push(o),e=e.replace(/\]/g,""));var p=t.utilities.getButtonClass(e),f=t.utilities.getButtonDisplayName(e,t.options.display,t.options.mergeDisplay),v=t.options.useButtonTag?"button":"div",g=document.createElement(v);g.className+="hg-button ".concat(p),(l=g.classList).add.apply(l,y(t.getButtonThemeClasses(e))),t.setDOMButtonAttributes(e,(function(t,e){g.setAttribute(t,e)})),t.activeButtonClass="hg-activeButton",!t.utilities.pointerEventsSupported()||r||i?r?(g.ontouchstart=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.ontouchend=function(n){t.handleButtonMouseUp(e,n)},g.ontouchcancel=function(n){t.handleButtonMouseUp(e,n)}):(g.onclick=function(n){t.setMouseHold(!1),t.handleButtonClicked(e,n)},g.onmousedown=function(n){t.handleButtonMouseDown(e,n)},g.onmouseup=function(n){t.handleButtonMouseUp(e,n)}):(g.onpointerdown=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.onpointerup=function(n){t.handleButtonMouseUp(e,n)},g.onpointercancel=function(n){t.handleButtonMouseUp(e,n)}),g.setAttribute("data-skBtn",e);var b="".concat(t.options.layoutName,"-r").concat(n,"b").concat(o);g.setAttribute("data-skBtnUID",b);var m=document.createElement("span");m.innerHTML=f,g.appendChild(m),t.buttonElements[e]||(t.buttonElements[e]=[]),t.buttonElements[e].push(g),s.appendChild(g)})),s=t.parseRowDOMContainers(s,n,u,c),t.keyboardRowsDOM.appendChild(s)})),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||r||i?r?(document.ontouchend=function(e){return t.handleButtonMouseUp(void 0,e)},document.ontouchcancel=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.ontouchstart=function(e){return t.handleKeyboardContainerMouseDown(e)}):r||(document.onmouseup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onmousedown=function(e){return t.handleKeyboardContainerMouseDown(e)}):(document.onpointerup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onpointerdown=function(e){return t.handleKeyboardContainerMouseDown(e)}),this.onInit())}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()}(),r}()}(yt);var gt=g(yt.exports),bt={exports:{}};
/*!
   * 
   *   simple-keyboard-key-navigation v2.4.157
   *   https://github.com/hodgef/simple-keyboard-key-navigation
   * 
   *   Copyright (c) Francisco Hodge (https://github.com/hodgef)
   * 
   *   This source code is licensed under the MIT license found in the
   *   LICENSE file in the root directory of this source tree.
   * 
   */
!function(t,e){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var r=n(2),o=n.n(r),i=n(3),a=n.n(i)()(o.a);a.push([t.i,'.simple-keyboard .hg-button.hg-standardBtn.hg-keyMarker,\n.simple-keyboard .hg-button.hg-functionBtn.hg-keyMarker,\n.simple-keyboard .hg-candidate-box-list-item.hg-keyMarker,\n.simple-keyboard .hg-candidate-box-close.hg-keyMarker {\n  box-shadow: 0 0 0 2px #88b8ff;\n  border-radius: 5px;\n}\n\n.simple-keyboard .hg-candidate-box-close {\n  align-items: center;\n  display: flex;\n  height: 40px;\n  justify-content: center;\n  width: 40px;\n}\n\n.simple-keyboard .hg-candidate-box-close::after {\n  content: "X";\n}\n',"",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;;;;EAIE,6BAA6B;EAC7B,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,YAAY;EACZ,uBAAuB;EACvB,WAAW;AACb;;AAEA;EACE,YAAY;AACd",sourcesContent:['.simple-keyboard .hg-button.hg-standardBtn.hg-keyMarker,\n.simple-keyboard .hg-button.hg-functionBtn.hg-keyMarker,\n.simple-keyboard .hg-candidate-box-list-item.hg-keyMarker,\n.simple-keyboard .hg-candidate-box-close.hg-keyMarker {\n  box-shadow: 0 0 0 2px #88b8ff;\n  border-radius: 5px;\n}\n\n.simple-keyboard .hg-candidate-box-close {\n  align-items: center;\n  display: flex;\n  height: 40px;\n  justify-content: center;\n  width: 40px;\n}\n\n.simple-keyboard .hg-candidate-box-close::after {\n  content: "X";\n}\n'],sourceRoot:""}]),e.a=a},function(t,e,n){var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],o=0;o<t.length;o++){var i=t[o],u=e.base?i[0]+e.base:i[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var d=s(l),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:l,updater:y(h,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var f=null,v=0;function y(t,e){var n,r,o;if(e.singleton){var i=v++;n=f||(f=c(e)),r=h.bind(null,n,i,!1),o=h.bind(null,n,i,!0)}else n=c(e),r=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=u(t,e),c=0;c<n.length;c++){var l=s(n[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(t,e,n){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var e=r(t,4),n=e[1],o=e[3];if(!o)return n;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(a," */"),u=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(u).concat([s]).join("\n")}return[n].join("\n")}},function(t,e,n){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&o[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){n.r(e);var r=n(1),o=n.n(r),i=n(0),a={insert:"head",singleton:!1};function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}o()(i.a,a),i.a.locals;var d=l((function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"init",(function(t){t.registerModule("keyNavigation",(function(e){e.initMarkerPos=[0,0],e.lastMarkerPos=e.initMarkerPos,e.initVars=function(n){e.markerPosition={row:0,button:0},e.layoutName=n||"",e.step=t.options.keyNavigationStep||1},e.initMarker=function(){var t=e.getButtonAt.apply(e,s(e.lastMarkerPos))?e.lastMarkerPos:e.initMarkerPos;e.setMarker.apply(e,s(t))},e.getButtonAt=function(n,r){var o=e.layoutName;return t.keyboardDOM.querySelector('.hg-button[data-skbtnuid="'.concat(o,"-r").concat(n,"b").concat(r,'"]'))},e.setMarker=function(n,r){var o=e.getButtonAt(n,r);return o?(e.markedBtn&&(e.markedBtn.classList.remove("hg-keyMarker"),t.options.markerColor&&(e.markedBtn.style="")),o.classList.add("hg-keyMarker"),t.options.focusOnNavigation&&o.focus&&o.focus(),t.options.markerColor&&(o.style="box-shadow: 0 0 0 2px ".concat(t.options.markerColor)),e.markedBtn=o,e.lastMarkerPos=[n,r],e.markerPosition={row:n,button:r},!0):(t.options.debug&&console.log("SimpleKeyboardKeyNavigation: Button default-r".concat(n,"b").concat(r," doesnt exist!")),!1)},e.up=function(){document.querySelector(".hg-candidate-box")&&t.candidateBox.destroy();var n=e.markerPosition.row-e.step,r=e.markerPosition.button;if(!e.getButtonAt(n,r))for(var o=r;0<=o;o--)if(e.getButtonAt(n,o)){r=o;break}e.setMarker(n,r)},e.down=function(){document.querySelector(".hg-candidate-box")&&t.candidateBox.destroy();var n=e.markerPosition.row+e.step,r=e.markerPosition.button;if(!e.getButtonAt(n,r))for(var o=r;0<=o;o--)if(e.getButtonAt(n,o)){r=o;break}e.setMarker(n,r)},e.right=function(){if(document.querySelector(".hg-candidate-box")){var n=t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").nextElementSibling;if(n)t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").classList.remove("hg-keyMarker"),n.classList.add("hg-keyMarker");else{var r=t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-next.hg-candidate-box-btn-active");r&&(r.click(),e.createCloseButton(),t.candidateBox.candidateBoxElement.querySelector("li").classList.add("hg-keyMarker"))}}else{var o=e.markerPosition.row,i=e.markerPosition.button+e.step;e.setMarker(o,i)}},e.left=function(){if(document.querySelector(".hg-candidate-box")){var n=t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").previousElementSibling;if(n)t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").classList.remove("hg-keyMarker"),n.classList.add("hg-keyMarker");else{var r=t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-prev.hg-candidate-box-btn-active");r&&(r.click(),e.createCloseButton(),t.candidateBox.candidateBoxElement.querySelector("ul li:last-child").classList.add("hg-keyMarker"))}}else{var o=e.markerPosition.row,i=e.markerPosition.button-e.step;e.setMarker(o,i)}},e.press=function(){e.markedBtn&&((!t.candidateBox||!document.querySelector(".hg-candidate-box"))&&(t.options.keyNavigationPressUseClick?e.markedBtn.click():t.handleButtonClicked(e.markedBtn.getAttribute("data-skbtn"),{target:e.markedBtn})),document.querySelector(".hg-candidate-box")&&(t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-close")?t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").click():(e.createCloseButton(),t.candidateBox.candidateBoxElement.querySelector("li").classList.add("hg-keyMarker"))))},e.createCloseButton=function(){var e=document.createElement("li");e.onclick=function(){return t.candidateBox.destroy()},e.className="hg-candidate-box-close",t.candidateBox.candidateBoxElement.querySelector("ul").prepend(e)},e.init=function(){e.initVars(t.options.layoutName),e.initMarker()},e.fn={},e.fn.onRender=t.onRender,e.fn.onInit=t.onInit,t.onRender=function(){(t.options.layoutName!==e.layoutName||t.options.enableKeyNavigation!==e.enableKeyNavigation)&&t.options.enableKeyNavigation&&(t.options.debug&&console.log("SimpleKeyboardKeyNavigation: Refreshed"),e.init()),e.fn.onRender()},t.onInit=function(){t.options.enableKeyNavigation&&e.init(),e.fn.onInit()}}))}))}));e.default=d}])}(bt);var mt=g(bt.exports),kt=function(t){a(r,t);var e=p(r);function r(){var t;return n(this,r),(t=e.call(this)).attachShadow({mode:"open"}),t._createTemplate(),t}return o(r,[{key:"_createTemplate",value:function(){var t=document.createElement("template");t.innerHTML='<style type="text/css">'.concat('.virtual-keyboard {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 70px;\n\n  margin: auto;\n\n  max-width: 1100px;\n\n  transform: translateY(calc(100% + 70px));\n  transition: transform 1s cubic-bezier(0.83, 0, 0.17, 1);\n  \n  border-top-left-radius: 30px;\n  border-top-right-radius: 30px;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 30px;\n}\n\n.virtual-keyboard.is-open {\n  transform: translateY(0);\n  transition: transform 1s cubic-bezier(0.22, 1, 0.36, 1);\n}\n\n.hg-theme-default {\n  --background-color: #1F1F1F;\n  --color: #ffffff;\n  --button-background-color: #1F1F1F;\n  --button-border-color: rgba(255, 255, 255, 0.3);\n  --button-focus-background-color: #FFD600;\n  --button-focus-color: #1F1F1F;\n  --button-enter-background-color: #7E00FF;\n  --button-enter-focus-background-color: #FFFFFF;\n\n  width: 100%;\n  user-select: none;\n  box-sizing: border-box;\n  overflow: hidden;\n  touch-action: manipulation;\n  font-family: \'Darker Grotesque\', sans-serif;\n  font-weight: 600;\n  background-color: var(--background-color);\n  color: var(--color);\n  padding-left: 40px;\n  padding-right: 40px;\n  padding-bottom: 40px;\n  padding-top: 80px;\n}\n\n.virtual-keyboard .indicator {\n  opacity: 0.6;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 30px;\n\n  width: 50%;\n\n  margin: auto;\n\n  text-align: center;\n}\n\n.virtual-keyboard .indicator span {\n  margin-bottom: 2px;\n}\n\n.virtual-keyboard .indicator svg {\n  width: 20px;\n  height: 20px;\n\n  margin-left: 10px;\n}\n\n/* Row */\n.hg-theme-default .hg-row {\n  display: flex;\n}\n\n.hg-theme-default .hg-row:not(:last-child) {\n  margin-bottom: 5px;\n}\n\n.hg-theme-default .hg-row .hg-button:not(:last-child) {\n  margin-right: 5px;\n}\n\n.hg-theme-default .hg-row .hg-button-container {\n  margin-right: 5px;\n}\n\n.hg-theme-default .hg-row > div:last-child {\n  margin-right: 0;\n}\n\n.hg-theme-default .hg-row .hg-button-container {\n  display: flex;\n}\n\n.hg-theme-default .hg-button span {\n  pointer-events: none;\n}\n\n/* Buttons */\n.hg-theme-default .hg-button {\n  display: inline-block;\n  flex-grow: 1;\n  cursor: pointer;\n  background-color: var(--button-background-color);\n  font-size: 20px;\n  padding-top: 2px;\n}\n\n.hg-theme-default .hg-button>span {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.hg-theme-default .hg-button svg {\n    width: 20px;\n    height: 20px;\n\n    margin-top: 4px;\n    margin-left: 10px;\n}\n\n.hg-theme-default .hg-button {\n  display: inline-block;\n  flex-grow: 1;\n  cursor: pointer;\n}\n\n.hg-theme-default .hg-button {\n  height: 40px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  padding: 5px;\n  padding-top: 2px;\n  background-color: var(--button-background-color);\n  border: 1px solid var(--button-border-color);\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.hg-theme-default .hg-button.hg-standardBtn {\n  width: 20px;\n}\n\n.hg-theme-default.hg-layout-numeric .hg-button {\n  width: 33.3%;\n  height: 60px;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n/* Buttons numpad */\n.hg-theme-default .hg-button.hg-button-numpadadd {\n  height: 85px;\n}\n\n.hg-theme-default .hg-button.hg-button-numpadenter {\n  height: 85px;\n}\n\n.hg-theme-default .hg-button.hg-button-numpad0 {\n  width: 105px;\n}\n\n/* Click */\n.hg-theme-default .hg-button:active {\n  opacity: 0.4;\n}\n\n/* Click */\n.hg-theme-default .hg-button.active {\n  opacity: 0.4;\n}\n\n/* Focus */\n.hg-theme-default .hg-button.hg-keyMarker {\n  background-color: var(--button-focus-background-color);\n  color: var(--button-focus-color);\n  box-shadow: none !important;\n  border-radius: 10px !important;\n}\n\n.hg-theme-default .hg-button.hg-keyMarker svg path {\n  fill: var(--button-focus-color);\n}\n\n/* Spacial buttons */\n.hg-theme-default .hg-button.hg-button-com {\n  max-width: 85px;\n}\n\n.hg-theme-default .hg-button.hg-standardBtn.hg-button-at {\n  max-width: 45px;\n}\n\n.hg-theme-default .hg-button.hg-standardBtn[data-skbtn=".com"] {\n  max-width: 82px;\n}\n\n.hg-theme-default .hg-button.hg-standardBtn[data-skbtn="@"] {\n  width: calc(2 / 12 * 100%);\n}\n\n.hg-theme-default .hg-button.hg-standardBtn[data-skbtn="{bksp}"] {\n  max-width: 60px;\n}\n\n.hg-theme-default .hg-button.hg-functionBtn[data-skbtn="{space}"] {\n  min-width: 70%;\n}\n\n.hg-theme-default .hg-button.hg-functionBtn[data-skbtn="{shift}"] {\n  /* max-width: 60px; */\n}\n\n.hg-theme-default .hg-button.hg-functionBtn[data-skbtn="{enter}"] {\n    width: calc(2 / 12 * 100%);\n    border-bottom-left-radius: 0px !important;\n    border-top-right-radius: 5px !important;\n    border-bottom-right-radius: 5px !important;\n    font-weight: 600;\n    background-color: var(--button-enter-background-color);\n    border: solid 1px var(--button-enter-background-color);\n  }\n  \n  .hg-theme-default .hg-button.hg-functionBtn[data-skbtn="{enter}"].hg-keyMarker {\n    background-color: var(--button-enter-focus-background-color);\n    border: solid 1px var(--button-enter-focus-background-color);\n}\n',"</style>").concat('<div class="virtual-keyboard">\n\n    <div class="indicator">\n\n        <span>Sélectionner</span>\n        \n        <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.0039 3.61321e-07C16.8503 -0.00076996 12.7898 1.2302 9.33587 3.53724C5.88192 5.84428 3.18969 9.12375 1.59966 12.9609C0.00962005 16.7981 -0.406806 21.0206 0.403044 25.0945C1.21289 29.1683 3.21264 32.9106 6.14939 35.8478C9.08614 38.7851 12.828 40.7856 16.9017 41.5962C20.9754 42.4068 25.198 41.9911 29.0355 40.4018C32.8729 38.8125 36.1529 36.1209 38.4606 32.6674C40.7683 29.2139 42 25.1536 42 21C42 15.4311 39.788 10.0903 35.8506 6.15213C31.9132 2.21398 26.5728 0.00103316 21.0039 3.61321e-07ZM32.8242 32.8359H28.3064C26.8694 32.8349 25.4748 32.3492 24.3482 31.4572C23.2215 30.5653 22.4288 29.3192 22.0983 27.9208C22.09 27.8826 22.0689 27.8483 22.0384 27.8237C22.0079 27.7992 21.97 27.7858 21.9308 27.7858C21.8917 27.7858 21.8537 27.7992 21.8233 27.8237C21.7928 27.8483 21.7717 27.8826 21.7634 27.9208C21.5284 28.9296 21.0508 29.8659 20.3722 30.6484C19.6935 31.4309 18.8342 32.036 17.8687 32.4113C17.0861 32.7157 16.2505 32.86 15.4112 32.8359C13.7772 32.7908 12.2224 32.1221 11.0658 30.9669C9.90919 29.8118 9.23854 28.2578 9.1914 26.6239C9.16302 25.7843 9.30752 24.9478 9.61592 24.1663C9.61489 24.1521 9.61489 24.1378 9.61592 24.1235C10.0127 23.1512 10.6921 22.3204 11.5663 21.7385C12.4405 21.1567 13.4692 20.8505 14.5193 20.8598H20.9883C21.1433 20.8598 21.2919 20.7982 21.4014 20.6887C21.511 20.5791 21.5725 20.4305 21.5725 20.2756C21.5725 20.1206 21.511 19.9721 21.4014 19.8625C21.2919 19.7529 21.1433 19.6914 20.9883 19.6914H9.26151C9.56647 16.9357 10.8292 14.3744 12.8294 12.4545C14.8296 10.5345 17.4403 9.37771 20.2062 9.18577C22.9721 8.99384 25.7176 9.779 27.9638 11.4043C30.21 13.0296 31.8144 15.3918 32.497 18.079C32.6631 18.9996 32.7723 19.9296 32.8242 20.8637V32.8359Z" fill="white"/></svg>\n\n    </div>\n\n</div>'),this.shadowRoot.appendChild(t.content.cloneNode(!0))}}]),r}(d(HTMLElement));window.customElements.define("axis-virtual-keyboard",kt);var _t=function(t){a(r,t);var e=p(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._joystick1=o.joystick1,t._joystick2=o.joystick2,t._buttonManager=o.buttonManager,t._isOpen=!1,t._bindAll(),t._component=t._createComponent(),t._keyboard=t._createKeyboard(),t._setupEventListeners(),t}return o(r,[{key:"isOpen",get:function(){return this._isOpen}},{key:"open",value:function(){this._isOpen=!0,this._keyboard.clearInput(),this._component.classList.contains("is-open")||this._component.classList.add("is-open")}},{key:"close",value:function(){this._isOpen=!1,this._component.classList.contains("is-open")&&this._component.classList.remove("is-open")}},{key:"clear",value:function(){}},{key:"getInput",value:function(){return this._keyboard.getInput()}},{key:"_createComponent",value:function(){var t=document.createElement("axis-virtual-keyboard");return document.documentElement.appendChild(t),t.shadowRoot.childNodes[1]}},{key:"_createKeyboard",value:function(){return new gt(this._component,{enableKeyNavigation:!0,useMouseEvents:!1,modules:[mt],layout:{default:["1 2 3 4 5 6 7 8 9 0 - = {bksp}","a z e r t y u i o p ?","q s d f g h j k l m '","w x c v b n , . ; / \\","@ {space} {enter}"]},display:{"{bksp}":"<span>Effacer</span> ".concat('<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.0039 3.61321e-07C16.8503 -0.00076996 12.7898 1.2302 9.33587 3.53724C5.88192 5.84428 3.18969 9.12375 1.59966 12.9609C0.00962005 16.7981 -0.406806 21.0206 0.403044 25.0945C1.21289 29.1683 3.21264 32.9106 6.14939 35.8478C9.08613 38.7851 12.828 40.7856 16.9017 41.5962C20.9754 42.4068 25.198 41.9911 29.0355 40.4018C32.8729 38.8125 36.1529 36.1209 38.4606 32.6674C40.7683 29.2139 42 25.1536 42 21C42.0005 18.2424 41.4578 15.5117 40.4029 12.9639C39.348 10.4161 37.8015 8.10107 35.8518 6.15099C33.902 4.20091 31.5873 2.654 29.0397 1.59861C26.492 0.543211 23.7615 3.1388e-07 21.0039 3.61321e-07ZM32.8203 19.6875H26.2773C26.1201 19.6836 25.9667 19.7355 25.8441 19.8338C25.7215 19.9322 25.6377 20.0707 25.6074 20.225C25.5921 20.3165 25.597 20.4104 25.6216 20.4999C25.6463 20.5894 25.6902 20.6724 25.7503 20.7433C25.8103 20.8141 25.8851 20.8709 25.9694 20.9099C26.0537 20.9489 26.1455 20.969 26.2383 20.9688H32.8203V32.8203H27.6871C24.4857 32.7112 21.7634 30.873 21.0662 27.9208C21.0563 27.8834 21.0343 27.8504 21.0037 27.8268C20.973 27.8032 20.9355 27.7904 20.8968 27.7904C20.8581 27.7904 20.8205 27.8032 20.7899 27.8268C20.7593 27.8504 20.7373 27.8834 20.7274 27.9208C20.3976 29.3189 19.6057 30.5648 18.4797 31.4569C17.3537 32.3489 15.9597 32.8348 14.5232 32.8359H9.18751C9.21087 32.9293 9.18751 20.9688 9.18751 20.9688H15.2982C15.4537 20.9718 15.6052 20.92 15.7262 20.8224C15.8473 20.7248 15.9302 20.5878 15.9603 20.4353C15.9762 20.3434 15.9718 20.2492 15.9475 20.1592C15.9231 20.0692 15.8793 19.9856 15.8191 19.9143C15.759 19.843 15.684 19.7858 15.5994 19.7466C15.5148 19.7074 15.4226 19.6873 15.3294 19.6875H9.18751V9.14855H14.679C16.086 9.1865 17.441 9.68875 18.5329 10.577C19.6248 11.4653 20.3922 12.6898 20.7157 14.0597C20.7219 14.1002 20.7423 14.1372 20.7734 14.1639C20.8045 14.1906 20.8441 14.2053 20.8851 14.2053C20.9261 14.2053 20.9657 14.1906 20.9968 14.1639C21.0279 14.1372 21.0484 14.1002 21.0545 14.0597C21.3844 12.662 22.1765 11.4165 23.3025 10.5252C24.4286 9.63382 25.8226 9.14875 27.2587 9.14855H32.8203V19.6875Z" fill="white"/></svg>'),"{enter}":"<span>Valider</span> ".concat('<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.0039 3.61321e-07C16.8503 -0.00076996 12.7898 1.2302 9.33587 3.53724C5.88192 5.84428 3.18969 9.12375 1.59966 12.9609C0.00962005 16.7981 -0.406806 21.0206 0.403044 25.0945C1.21289 29.1683 3.21264 32.9106 6.14939 35.8478C9.08613 38.7851 12.828 40.7856 16.9017 41.5962C20.9754 42.4068 25.198 41.9911 29.0355 40.4018C32.8729 38.8125 36.1529 36.1209 38.4606 32.6674C40.7683 29.2139 42 25.1536 42 21C42.0005 18.2424 41.4578 15.5117 40.4029 12.9639C39.348 10.4161 37.8015 8.10107 35.8518 6.15099C33.902 4.20091 31.5873 2.654 29.0397 1.59861C26.492 0.543211 23.7615 3.1388e-07 21.0039 3.61321e-07ZM32.8398 19.6408H23.3134C23.1585 19.6408 23.0099 19.7023 22.9003 19.8119C22.7908 19.9214 22.7292 20.07 22.7292 20.225C22.7292 20.3799 22.7908 20.5285 22.9003 20.6381C23.0099 20.7476 23.1585 20.8092 23.3134 20.8092H26.8498C28.3793 20.8094 29.8511 21.3936 30.9643 22.4425C32.0776 23.4914 32.7484 24.9257 32.8398 26.4525V27.1691C32.7526 28.6393 32.1279 30.026 31.0847 31.0655C30.0414 32.105 28.6523 32.7246 27.1819 32.8063C25.7114 32.8881 24.2622 32.4264 23.1101 31.509C21.958 30.5916 21.1834 29.2826 20.9338 27.8312C20.9338 27.8085 20.9248 27.7867 20.9087 27.7706C20.8926 27.7546 20.8708 27.7455 20.8481 27.7455C20.8254 27.7455 20.8036 27.7546 20.7875 27.7706C20.7715 27.7867 20.7624 27.8085 20.7624 27.8312C20.5218 29.2257 19.7962 30.4903 18.7138 31.4018C17.6313 32.3132 16.2615 32.8129 14.8464 32.8125H9.16025V22.367H18.7411C18.7811 22.3729 18.8218 22.3729 18.8618 22.367C19.0168 22.3505 19.1588 22.2731 19.2567 22.1518C19.3545 22.0306 19.4002 21.8755 19.3837 21.7205C19.3672 21.5656 19.2898 21.4235 19.1685 21.3257C19.0473 21.2278 18.8921 21.1821 18.7372 21.1986H15.2086C14.4205 21.1991 13.6401 21.0442 12.9119 20.7427C12.1837 20.4413 11.5222 19.9991 10.9651 19.4417C10.408 18.8842 9.96627 18.2224 9.66526 17.494C9.36426 16.7656 9.20985 15.9851 9.21088 15.197C9.21088 13.6063 9.84279 12.0807 10.9676 10.9559C12.0924 9.83109 13.6179 9.19918 15.2086 9.19918H32.8398V19.6408Z" fill="white"/></svg>'),"{space}":"<span>Espace</span> ".concat('<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.0039 3.61321e-07C16.8503 -0.00076996 12.7898 1.2302 9.33586 3.53724C5.88192 5.84428 3.18969 9.12375 1.59965 12.9609C0.00961133 16.7981 -0.406803 21.0206 0.403047 25.0945C1.2129 29.1683 3.21264 32.9106 6.14939 35.8478C9.08614 38.7851 12.828 40.7856 16.9017 41.5962C20.9754 42.4068 25.198 41.9911 29.0355 40.4018C32.8729 38.8125 36.1529 36.1209 38.4606 32.6674C40.7683 29.2139 42 25.1536 42 21C42 15.4311 39.788 10.0903 35.8506 6.15213C31.9132 2.21398 26.5728 0.00103316 21.0039 3.61321e-07ZM28.0143 33.8835H17.5182V24.957C17.5172 24.3696 17.2833 23.8065 16.868 23.3911C16.4526 22.9757 15.8895 22.7419 15.3021 22.7409H11.8242V13.8221H17.2183C19.0378 13.8222 20.8272 14.286 22.4177 15.1697L23.664 15.9486C25.0135 16.9509 26.1096 18.2554 26.8644 19.7575C27.6191 21.2596 28.0116 22.9176 28.0104 24.5986L28.0143 33.8835ZM26.3668 15.8123C25.6076 15.8138 24.865 15.5901 24.233 15.1693C23.601 14.7485 23.1081 14.1497 22.8167 13.4486C22.5253 12.7476 22.4484 11.9758 22.5959 11.231C22.7433 10.4862 23.1085 9.80197 23.645 9.26484C24.1816 8.7277 24.8655 8.36187 25.6102 8.21365C26.3548 8.06544 27.1266 8.14151 27.828 8.43223C28.5294 8.72295 29.1287 9.21525 29.5501 9.8468C29.9715 10.4783 30.1961 11.2207 30.1953 11.98C30.1901 12.9947 29.7832 13.9661 29.0634 14.6814C28.3437 15.3967 27.3699 15.7978 26.3552 15.7967L26.3668 15.8123Z" fill="white"/></svg>')},onChange:this.inputHandler,onKeyPress:this._keypressHandler,onModulesLoaded:this._modulesLoadedHandler})}},{key:"_clickButton",value:function(t){var e=this._keyboard.buttonElements[t][0];this._keyboard.handleButtonClicked(t,{target:e}),e.classList.contains("active")||e.classList.add("active"),e.click()}},{key:"_clickActiveButton",value:function(){var t=this._keyboard.modules.keyNavigation.markedBtn,e=t.getAttribute("data-skbtn");this._keyboard.handleButtonClicked(e,{target:t}),t.classList.contains("active")||t.classList.add("active"),t.click()}},{key:"_bindAll",value:function(){this.inputHandler=this.inputHandler.bind(this),this._keypressHandler=this._keypressHandler.bind(this),this._modulesLoadedHandler=this._modulesLoadedHandler.bind(this),this._joystickQuickmoveHandler=this._joystickQuickmoveHandler.bind(this),this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._machineKeydownHandler=this._machineKeydownHandler.bind(this),this._machineKeyupHandler=this._machineKeyupHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._joystick1.addEventListener("joystick:quickmove",this._joystickQuickmoveHandler),window.addEventListener("keydown",this._keydownHandler),window.addEventListener("keyup",this._keyupHandler);for(var t=0;t<this._buttonManager.buttons.length;t++)this._buttonManager.buttons[t].addEventListener("keydown",this._machineKeydownHandler),this._buttonManager.buttons[t].addEventListener("keyup",this._machineKeyupHandler)}},{key:"inputHandler",value:function(t){this._isOpen&&this.dispatchEvent("input",t)}},{key:"_keypressHandler",value:function(t){this._isOpen&&(this.dispatchEvent("keypress",t),"{enter}"===t&&this._validatedHandler(t))}},{key:"_validatedHandler",value:function(t){this.dispatchEvent("validate",t)}},{key:"_modulesLoadedHandler",value:function(t){}},{key:"_joystickQuickmoveHandler",value:function(t){this._isOpen&&("up"===t.direction&&this._keyboard.modules.keyNavigation.up(),"down"===t.direction&&this._keyboard.modules.keyNavigation.down(),"left"===t.direction&&this._keyboard.modules.keyNavigation.left(),"right"===t.direction&&this._keyboard.modules.keyNavigation.right())}},{key:"_keydownHandler",value:function(t){this._isOpen&&("ArrowUp"===t.key&&this._keyboard.modules.keyNavigation.up(),"ArrowDown"===t.key&&this._keyboard.modules.keyNavigation.down(),"ArrowLeft"===t.key&&this._keyboard.modules.keyNavigation.left(),"ArrowRight"===t.key&&this._keyboard.modules.keyNavigation.right(),"Enter"===t.key&&this._clickActiveButton())}},{key:"_keyupHandler",value:function(t){if(this._isOpen)for(var e=this._component.querySelectorAll(".active"),n=0;n<e.length;n++){var r=e[n];r.classList.contains("active")&&r.classList.remove("active")}}},{key:"_machineKeydownHandler",value:function(t){console.log(t),this._isOpen&&("a"===t.key&&1===t.id&&this._clickActiveButton(),"x"===t.key&&1===t.id&&this._clickButton("{bksp}"),"i"===t.key&&1===t.id&&this._clickButton("{space}"),"s"===t.key&&1===t.id&&this._clickButton("{enter}"))}},{key:"_machineKeyupHandler",value:function(){if(this._isOpen)for(var t=this._component.querySelectorAll(".active"),e=0;e<t.length;e++){var n=t[e];n.classList.contains("active")&&n.classList.remove("active")}}}]),r}(f),wt=function(t){a(r,t);var e=p(r);function r(){var t;return n(this,r),(t=e.call(this)).attachShadow({mode:"open"}),t._createTemplate(),t}return o(r,[{key:"_createTemplate",value:function(){var t=document.createElement("template");t.innerHTML='<style type="text/css">'.concat(".exit-overlay {\n    display: none;\n\n    position: fixed;\n    left: 0;\n    top: 0;\n\n    width: 100%;\n    height: 100%;\n\n    backdrop-filter: blur(80px);\n\n    color: white;\n    font-family: 'Darker Grotesque', sans-serif;\n}\n\n.exit-overlay.is-visible {\n    display: block;\n}\n\n.exit-overlay:before {\n    position: absolute;\n    left: 0;\n    top: 0;\n\n    width: 100%;\n    height: 100%;\n\n    content: '';\n\n    background: linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), linear-gradient(270deg, rgba(0, 0, 0, 0) 50.46%, rgba(0, 0, 0, 0.8) 100%), linear-gradient(180deg, rgba(0, 0, 0, 0) 31.77%, rgba(0, 0, 0, 0.7) 100%);\n}\n\n.exit-overlay .title {\n    position: absolute;\n    left: 181px;\n    top: 0;\n    bottom: 0;\n\n    height: 100px;\n\n    margin: auto;\n\n    font-weight: 800;\n    font-size: 128px;\n    line-height: 128px;\n}\n\n.exit-overlay .title span {\n    position: absolute;\n    left: 0;\n    top: -25px;\n}\n\n.exit-overlay .message {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n\n    width: 100%;\n    height: 100px;\n\n    margin: auto;\n    \n    text-align: center;\n\n    font-weight: 500;\n    font-size: 48px;\n    line-height: 65px;\n}\n\n.exit-overlay .message {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 30px;\n\n    width: 100%;\n}\n\n.exit-overlay .buttons {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    position: absolute;\n    top: 0;\n    bottom: 0;\n\n    height: 60px;\n    width: 100%;\n\n    margin: auto;\n}\n\n.exit-overlay .button {\n    margin-top: 200px;\n\n    font-weight: 800;\n    font-size: 32px;\n    line-height: 43px;\n    display: flex;\n    align-items: center;\n}\n\n.exit-overlay .button svg {\n    width: 42px;\n    height: 42px;\n\n    margin-right: 20px;\n}\n\n.exit-overlay .button span {\n    margin-bottom: 7px;\n}\n\n.exit-overlay .button:nth-child(1) {\n    margin-right: 100px;\n}\n","</style>").concat('<div class="exit-overlay">\n\n    <div class="title">\n\n        <span>\n            Pause\n        </span>\n\n    </div>\n\n    <div class="message">\n\n        <span>\n            Êtes-vous sûr de vouloir quitter ?\n        </span>\n\n    </div>\n\n    <div class="buttons">\n\n        <div class="button validate">\n\n            <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.0039 3.61321e-07C16.8503 -0.00076996 12.7898 1.2302 9.33587 3.53724C5.88192 5.84428 3.18969 9.12375 1.59966 12.9609C0.00962005 16.7981 -0.406806 21.0206 0.403044 25.0945C1.21289 29.1683 3.21264 32.9106 6.14939 35.8478C9.08614 38.7851 12.828 40.7856 16.9017 41.5962C20.9754 42.4068 25.198 41.9911 29.0355 40.4018C32.8729 38.8125 36.1529 36.1209 38.4606 32.6674C40.7683 29.2139 42 25.1536 42 21C42 15.4311 39.788 10.0903 35.8506 6.15213C31.9132 2.21398 26.5728 0.00103316 21.0039 3.61321e-07ZM32.8242 32.8359H28.3064C26.8694 32.8349 25.4748 32.3492 24.3482 31.4572C23.2215 30.5653 22.4288 29.3192 22.0983 27.9208C22.09 27.8826 22.0689 27.8483 22.0384 27.8237C22.0079 27.7992 21.97 27.7858 21.9308 27.7858C21.8917 27.7858 21.8537 27.7992 21.8233 27.8237C21.7928 27.8483 21.7717 27.8826 21.7634 27.9208C21.5284 28.9296 21.0508 29.8659 20.3722 30.6484C19.6935 31.4309 18.8342 32.036 17.8687 32.4113C17.0861 32.7157 16.2505 32.86 15.4112 32.8359C13.7772 32.7908 12.2224 32.1221 11.0658 30.9669C9.90919 29.8118 9.23854 28.2578 9.1914 26.6239C9.16302 25.7843 9.30752 24.9478 9.61592 24.1663C9.61489 24.1521 9.61489 24.1378 9.61592 24.1235C10.0127 23.1512 10.6921 22.3204 11.5663 21.7385C12.4405 21.1567 13.4692 20.8505 14.5193 20.8598H20.9883C21.1433 20.8598 21.2919 20.7982 21.4014 20.6887C21.511 20.5791 21.5725 20.4305 21.5725 20.2756C21.5725 20.1206 21.511 19.9721 21.4014 19.8625C21.2919 19.7529 21.1433 19.6914 20.9883 19.6914H9.26151C9.56647 16.9357 10.8292 14.3744 12.8294 12.4545C14.8296 10.5345 17.4403 9.37771 20.2062 9.18577C22.9721 8.99384 25.7176 9.779 27.9638 11.4043C30.21 13.0296 31.8144 15.3918 32.497 18.079C32.6631 18.9996 32.7723 19.9296 32.8242 20.8637V32.8359Z" fill="white"/></svg>\n            <span>Oui</span>\n\n        </div>\n\n        <div class="button cancel">\n            \n            <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.0039 3.61321e-07C16.8503 -0.00076996 12.7898 1.2302 9.33587 3.53724C5.88192 5.84428 3.18969 9.12375 1.59966 12.9609C0.00962005 16.7981 -0.406806 21.0206 0.403044 25.0945C1.21289 29.1683 3.21264 32.9106 6.14939 35.8478C9.08613 38.7851 12.828 40.7856 16.9017 41.5962C20.9754 42.4068 25.198 41.9911 29.0355 40.4018C32.8729 38.8125 36.1529 36.1209 38.4606 32.6674C40.7683 29.2139 42 25.1536 42 21C42.0005 18.2424 41.4578 15.5117 40.4029 12.9639C39.348 10.4161 37.8015 8.10107 35.8518 6.15099C33.902 4.20091 31.5873 2.654 29.0397 1.59861C26.492 0.543211 23.7615 3.1388e-07 21.0039 3.61321e-07ZM32.8203 19.6875H26.2773C26.1201 19.6836 25.9667 19.7355 25.8441 19.8338C25.7215 19.9322 25.6377 20.0707 25.6074 20.225C25.5921 20.3165 25.597 20.4104 25.6216 20.4999C25.6463 20.5894 25.6902 20.6724 25.7503 20.7433C25.8103 20.8141 25.8851 20.8709 25.9694 20.9099C26.0537 20.9489 26.1455 20.969 26.2383 20.9688H32.8203V32.8203H27.6871C24.4857 32.7112 21.7634 30.873 21.0662 27.9208C21.0563 27.8834 21.0343 27.8504 21.0037 27.8268C20.973 27.8032 20.9355 27.7904 20.8968 27.7904C20.8581 27.7904 20.8205 27.8032 20.7899 27.8268C20.7593 27.8504 20.7373 27.8834 20.7274 27.9208C20.3976 29.3189 19.6057 30.5648 18.4797 31.4569C17.3537 32.3489 15.9597 32.8348 14.5232 32.8359H9.18751C9.21087 32.9293 9.18751 20.9688 9.18751 20.9688H15.2982C15.4537 20.9718 15.6052 20.92 15.7262 20.8224C15.8473 20.7248 15.9302 20.5878 15.9603 20.4353C15.9762 20.3434 15.9718 20.2492 15.9475 20.1592C15.9231 20.0692 15.8793 19.9856 15.8191 19.9143C15.759 19.843 15.684 19.7858 15.5994 19.7466C15.5148 19.7074 15.4226 19.6873 15.3294 19.6875H9.18751V9.14855H14.679C16.086 9.1865 17.441 9.68875 18.5329 10.577C19.6248 11.4653 20.3922 12.6898 20.7157 14.0597C20.7219 14.1002 20.7423 14.1372 20.7734 14.1639C20.8045 14.1906 20.8441 14.2053 20.8851 14.2053C20.9261 14.2053 20.9657 14.1906 20.9968 14.1639C21.0279 14.1372 21.0484 14.1002 21.0545 14.0597C21.3844 12.662 22.1765 11.4165 23.3025 10.5252C24.4286 9.63382 25.8226 9.14875 27.2587 9.14855H32.8203V19.6875Z" fill="white"/></svg>\n            <span>Retour</span>\n\n        </div>\n\n    </div>\n\n</div>'),this.shadowRoot.appendChild(t.content.cloneNode(!0))}}]),r}(d(HTMLElement));window.customElements.define("axis-exit-overlay",wt);var xt=function(t){a(r,t);var e=p(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._buttonManager=o.buttonManager,t._active=!1,t._component=t._createComponent(),t._buttonValidation1=t._buttonManager.getButton("a",1),t._buttonValidation2=t._buttonManager.getButton("a",2),t._buttonCancelation1=t._buttonManager.getButton("x",1),t._buttonCancelation2=t._buttonManager.getButton("x",2),t._bindAll(),t._setupEventListeners(),t}return o(r,[{key:"_show",value:function(){this._component.classList.contains("is-visible")||this._component.classList.add("is-visible")}},{key:"_hide",value:function(){this._component.classList.contains("is-visible")&&this._component.classList.remove("is-visible")}},{key:"_createComponent",value:function(){var t=document.createElement("axis-exit-overlay");return document.documentElement.appendChild(t),t.shadowRoot.childNodes[1]}},{key:"_bindAll",value:function(){this._keydownHandler=this._keydownHandler.bind(this),this._homeKeyupHandler=this._homeKeyupHandler.bind(this),this._validationKeydownHandler=this._validationKeydownHandler.bind(this),this._cancelationKeydownHandler=this._cancelationKeydownHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("keydown",this._keydownHandler),this._buttonManager.addEventListener("home:keyup",this._homeKeyupHandler),this._buttonValidation1.addEventListener("keydown",this._validationKeydownHandler),this._buttonValidation2.addEventListener("keydown",this._validationKeydownHandler),this._buttonCancelation1.addEventListener("keydown",this._cancelationKeydownHandler),this._buttonCancelation2.addEventListener("keydown",this._cancelationKeydownHandler)}},{key:"_keydownHandler",value:function(t){"Escape"===t.key&&this._homeKeyupHandler()}},{key:"_homeKeyupHandler",value:function(){this._active?(this.dispatchEvent("exit:completed"),this._hide()):(this._active=!0,this.dispatchEvent("exit:attempted"),this._show())}},{key:"_validationKeydownHandler",value:function(){this._active&&(this.dispatchEvent("exit:completed"),this._hide())}},{key:"_cancelationKeydownHandler",value:function(){this._active&&(this._active=!1,this.dispatchEvent("exit:canceled"),this._hide())}}]),r}(f),Et=function(t){a(r,t);var e=p(r);function r(t){var o;return n(this,r),(o=e.call(this))._buttons=[],o._index=t,o._bindAll(),o._setupEventListeners(),o}return o(r,[{key:"update",value:function(){var t=navigator.getGamepads()[this._index];if(t){for(var e=0;e<this._buttons.length;e++){var n=this._buttons[e];n.current.pressed=t.buttons[e].pressed,n.current.pressed!==n.previous.pressed&&this.buttonStateChangedHandler(e,n.current.pressed),n.previous.pressed=n.current.pressed}this.joystickMoveHandler(t.axes)}}},{key:"isConnected",value:function(){return!!navigator.getGamepads()[this._index]}},{key:"_bindAll",value:function(){this._gamepadConnectedHandler=this._gamepadConnectedHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("gamepadconnected",this._gamepadConnectedHandler)}},{key:"_gamepadConnectedHandler",value:function(t){var e=t.gamepad;if(e&&e.index===this._index){console.log("🎮 GAMEPAD ".concat(this._index," CONNECTED"));for(var n=0;n<e.buttons.length;n++)this._buttons.push({previous:{pressed:e.buttons[n].pressed},current:{pressed:e.buttons[n].pressed}})}}},{key:"buttonStateChangedHandler",value:function(t,e){e&&this.dispatchEvent("gamepad:keydown",t),e||this.dispatchEvent("gamepad:keyup",t)}},{key:"joystickMoveHandler",value:function(t){this.dispatchEvent("gamepad:joystick:move",{index:0,position:{x:t[0],y:t[1]}}),this.dispatchEvent("gamepad:joystick:move",{index:1,position:{x:t[2],y:t[3]}})}}]),r}(f),Ct=function(t){a(s,t);var r=p(s);function s(){var t;return n(this,s),(t=r.call(this))._ipcRenderer=null,t._firebaseToken=null,t._leaderboard=null,t._gamepadEmulators=[],t._ledManager=t._createLedManager(),t._joystickManager=t._createJoystickManager(),t._buttonManager=t._createButtonManager(),t._playerManager=t._createPlayerManager(),t._virtualKeyboard=t._createVirtualKeyboard(),t._exitOverlay=t._createExitOverlay(),t._addGlobalStyle(),t._bindAll(),t._exposeMethods(),t._setupEventListeners(),t}return o(s,[{key:"ipcRenderer",get:function(){return this._ipcRenderer}},{key:"joystickManager",get:function(){return this._joystickManager}},{key:"joystick1",get:function(){return this._joystickManager.joystick1}},{key:"joystick2",get:function(){return this._joystickManager.joystick2}},{key:"buttonManager",get:function(){return this._buttonManager}},{key:"playerManager",get:function(){return this._playerManager}},{key:"players",get:function(){return this._playerManager.players}},{key:"leaderboard",get:function(){return this._leaderboard}},{key:"virtualKeyboard",get:function(){return this._virtualKeyboard}},{key:"ledManager",get:function(){return this._ledManager}},{key:"registerKeys",value:function(t,e,n){return this._buttonManager.registerKeys(t,e,n)}},{key:"registerGamepadEmulatorKeys",value:function(t,e,n,r){return this._buttonManager.registerGamepadEmulatorKeys(t,e,n,r)}},{key:"enableMouseInteraction",value:function(t){this._ipcRenderer&&this._ipcRenderer.send("mouse:enable",t)}},{key:"disableMouseInteraction",value:function(){this._ipcRenderer&&this._ipcRenderer.send("mouse:disable",null)}},{key:"createPlayer",value:function(t){return this._playerManager.createPlayer(t)}},{key:"createLeaderboard",value:function(t){return this._createLeaderboard(t)}},{key:"createGamepadEmulator",value:function(t){var e=new Et(t);return this._gamepadEmulators.push(e),e}},{key:"_exposeMethods",value:function(){window.__axis__={},window.__axis__.set_ipc_renderer=this._setIpcRenderer}},{key:"_setIpcRenderer",value:function(t){this._ipcRenderer||(this._ipcRenderer=t,this._buttonManager.ipcRenderer=this._ipcRenderer,this._joystickManager.ipcRenderer=this._ipcRenderer,this._ledManager.ipcRenderer=this._ipcRenderer,this._leaderboard&&(this._leaderboard.ipcRenderer=this._ipcRenderer),this._setupIpcRendererEventListeners())}},{key:"_createLedManager",value:function(){return new nt}},{key:"_createJoystickManager",value:function(){return new ct}},{key:"_createButtonManager",value:function(){return new ht({ledManager:this.ledManager})}},{key:"_createPlayerManager",value:function(){return new ft({joystickManager:this._joystickManager,buttonManager:this._buttonManager})}},{key:"_createLeaderboard",value:function(t){return this._leaderboard||(this._leaderboard=new vt(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({ipcRenderer:this._ipcRenderer},t))),this._leaderboard}},{key:"_createVirtualKeyboard",value:function(){return new _t({joystick1:this._joystickManager.joystick1,joystick2:this._joystickManager.joystick2,buttonManager:this._buttonManager})}},{key:"_createExitOverlay",value:function(){return new xt({buttonManager:this._buttonManager})}},{key:"_addGlobalStyle",value:function(){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML="@import url('https://fonts.googleapis.com/css2?family=Darker+Grotesque:wght@500;600;700;800&display=swap');",document.body.appendChild(t)}},{key:"_bindAll",value:function(){this._setIpcRenderer=this._setIpcRenderer.bind(this),this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._joystickMoveHandler=this._joystickMoveHandler.bind(this),this._joystickQuickMoveHandler=this._joystickQuickMoveHandler.bind(this),this._exitAttemptHandler=this._exitAttemptHandler.bind(this),this._exitCanceledHandler=this._exitCanceledHandler.bind(this),this._exitCompletedHandler=this._exitCompletedHandler.bind(this),this._machineSleepHandler=this._machineSleepHandler.bind(this),this._machineAwakeHandler=this._machineAwakeHandler.bind(this),this._machineBuildupHandler=this._machineBuildupHandler.bind(this),this._machineRevealHandler=this._machineRevealHandler.bind(this)}},{key:"_setupEventListeners",value:function(){for(var t=0;t<this._buttonManager.buttons.length;t++)this._buttonManager.buttons[t].addEventListener("keydown",this._keydownHandler),this._buttonManager.buttons[t].addEventListener("keyup",this._keyupHandler);this._joystickManager.joystick1.addEventListener("joystick:move",this._joystickMoveHandler),this._joystickManager.joystick2.addEventListener("joystick:move",this._joystickMoveHandler),this._joystickManager.joystick1.addEventListener("joystick:quickmove",this._joystickQuickMoveHandler),this._joystickManager.joystick2.addEventListener("joystick:quickmove",this._joystickQuickMoveHandler),this._exitOverlay.addEventListener("exit:attempted",this._exitAttemptHandler),this._exitOverlay.addEventListener("exit:canceled",this._exitCanceledHandler),this._exitOverlay.addEventListener("exit:completed",this._exitCompletedHandler)}},{key:"_setupIpcRendererEventListeners",value:function(){this._ipcRenderer.on("sleep",this._machineSleepHandler),this._ipcRenderer.on("awake",this._machineAwakeHandler),this._ipcRenderer.on("buildup",this._machineBuildupHandler),this._ipcRenderer.on("reveal",this._machineRevealHandler)}},{key:"_keydownHandler",value:function(t){this.dispatchEvent("keydown",t)}},{key:"_keyupHandler",value:function(t){this.dispatchEvent("keyup",t)}},{key:"_joystickMoveHandler",value:function(t){this.dispatchEvent("joystick:move",t)}},{key:"_joystickQuickMoveHandler",value:function(t){this.dispatchEvent("joystick:quickmove",t)}},{key:"_exitAttemptHandler",value:function(){this.dispatchEvent("exit:attempted")}},{key:"_exitCanceledHandler",value:function(){this.dispatchEvent("exit:canceled")}},{key:"_exitCompletedHandler",value:function(){var t;this.dispatchEvent("exit:completed"),null===(t=this._ipcRenderer)||void 0===t||t.send("exit")}},{key:"_machineSleepHandler",value:function(){this.dispatchEvent("sleep")}},{key:"_machineAwakeHandler",value:function(){this.dispatchEvent("awake")}},{key:"_machineBuildupHandler",value:function(){this.dispatchEvent("buildup")}},{key:"_machineRevealHandler",value:function(){this.dispatchEvent("reveal")}}]),s}(f),Mt=new Ct;t.Axis=Mt,t.default=Mt,t.getGamepadList=function(){return new Promise((function(t){window.addEventListener("gamepadconnected",(function(){t(navigator.getGamepads())}))}))},t.normalizeJoystickSignal=at,Object.defineProperty(t,"__esModule",{value:!0})}));
