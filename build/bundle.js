!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bundle={})}(this,(function(t){"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}var d=function(){function t(){n(this,t)}return i(t,[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),n[t].includes(e)||n[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n)for(var r=n.slice(0),i=0,o=r.length;i<o;i++)r[i].call(this,e)}}}]),t}(),h={deadzone:.1,threshold:0,inputInactiveDelay:.2,inputIntervalMax:.2,inputIntervalMin:.1},f={buttons:[{key:"a",id:1},{key:"b",id:1},{key:"c",id:1},{key:"d",id:1},{key:"e",id:1},{key:"a",id:2},{key:"b",id:2},{key:"c",id:2},{key:"d",id:2},{key:"e",id:2}],joystick:h,leds:[{name:"button-a-1",strip:1,index:0},{name:"button-b-1",strip:1,index:1},{name:"button-c-1",strip:1,index:2},{name:"button-d-1",strip:1,index:3},{name:"button-e-1",strip:1,index:4},{name:"button-f-1",strip:1,index:5},{name:"button-g-1",strip:1,index:6},{name:"button-h-1",strip:1,index:7},{name:"button-a-2",strip:2,index:0},{name:"button-b-2",strip:2,index:1},{name:"button-c-2",strip:2,index:2},{name:"button-d-2",strip:2,index:3},{name:"button-e-2",strip:2,index:4},{name:"button-home-0",strip:1,index:5}]};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y={exports:{}},v={exports:{}},g=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))},b=Array.prototype.concat,m=Array.prototype.slice,k=v.exports=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];g(i)?e=b.call(e,m.call(i)):e.push(i)}return e};k.wrap=function(t){return function(){return t(k(arguments))}};var _={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},x=v.exports,w=Object.hasOwnProperty,E=Object.create(null);for(var M in _)w.call(_,M)&&(E[_[M]]=M);var O=y.exports={to:{},get:{}};function S(t,e,n){return Math.min(Math.max(e,t),n)}function j(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}O.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=O.get.hsl(t),n="hsl";break;case"hwb":e=O.get.hwb(t),n="hwb";break;default:e=O.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},O.get.rgb=function(t){if(!t)return null;var e,n,r,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var o=2*n;i[n]=parseInt(e.slice(o,o+2),16)}r&&(i[3]=parseInt(r,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)i[n]=parseInt(e[n]+e[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)i[n]=parseInt(e[n+1],0);e[4]&&(e[5]?i[3]=.01*parseFloat(e[4]):i[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:w.call(_,e[1])?((i=_[e[1]])[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?i[3]=.01*parseFloat(e[4]):i[3]=parseFloat(e[4]))}for(n=0;n<3;n++)i[n]=S(i[n],0,255);return i[3]=S(i[3],0,1),i},O.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,S(parseFloat(e[2]),0,100),S(parseFloat(e[3]),0,100),S(isNaN(n)?1:n,0,1)]}return null},O.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,S(parseFloat(e[2]),0,100),S(parseFloat(e[3]),0,100),S(isNaN(n)?1:n,0,1)]}return null},O.to.hex=function(){var t=x(arguments);return"#"+j(t[0])+j(t[1])+j(t[2])+(t[3]<1?j(Math.round(255*t[3])):"")},O.to.rgb=function(){var t=x(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},O.to.rgb.percent=function(){var t=x(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},O.to.hsl=function(){var t=x(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},O.to.hwb=function(){var t=x(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},O.to.keyword=function(t){return E[t.slice(0,3)]};const I={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},A={};for(const t of Object.keys(I))A[I[t]]=t;const H={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var C=H;for(const t of Object.keys(H)){if(!("channels"in H[t]))throw new Error("missing channels property: "+t);if(!("labels"in H[t]))throw new Error("missing channel labels property: "+t);if(H[t].labels.length!==H[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=H[t];delete H[t].channels,delete H[t].labels,Object.defineProperty(H[t],"channels",{value:e}),Object.defineProperty(H[t],"labels",{value:n})}H.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=o-i;let s,u;o===i?s=0:e===o?s=(n-r)/a:n===o?s=2+(r-e)/a:r===o&&(s=4+(e-n)/a),s=Math.min(60*s,360),s<0&&(s+=360);const c=(i+o)/2;return u=o===i?0:c<=.5?a/(o+i):a/(2-o-i),[s,100*u,100*c]},H.rgb.hsv=function(t){let e,n,r,i,o;const a=t[0]/255,s=t[1]/255,u=t[2]/255,c=Math.max(a,s,u),l=c-Math.min(a,s,u),d=function(t){return(c-t)/6/l+.5};return 0===l?(i=0,o=0):(o=l/c,e=d(a),n=d(s),r=d(u),a===c?i=r-n:s===c?i=1/3+e-r:u===c&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},H.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const i=H.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,100*o,100*r]},H.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r);return[100*((1-e-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},H.rgb.keyword=function(t){const e=A[t];if(e)return e;let n,r=1/0;for(const e of Object.keys(I)){const a=(o=I[e],((i=t)[0]-o[0])**2+(i[1]-o[1])**2+(i[2]-o[2])**2);a<r&&(r=a,n=e)}var i,o;return n},H.keyword.rgb=function(t){return I[t]},H.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*e+.3576*n+.1805*r),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},H.rgb.lab=function(t){const e=H.rgb.xyz(t);let n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*r-16,500*(n-r),200*(r-i)]},H.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let i,o,a;if(0===n)return a=255*r,[a,a,a];i=r<.5?r*(1+n):r+n-r*n;const s=2*r-i,u=[0,0,0];for(let t=0;t<3;t++)o=e+1/3*-(t-1),o<0&&o++,o>1&&o--,a=6*o<1?s+6*(i-s)*o:2*o<1?i:3*o<2?s+(i-s)*(2/3-o)*6:s,u[t]=255*a;return u},H.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,i=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o;return[e,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},H.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},H.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01);let o,a;a=(2-n)*r;const s=(2-n)*i;return o=n*i,o/=s<=1?s:2-s,o=o||0,a/=2,[e,100*o,100*a]},H.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const a=Math.floor(6*e),s=1-r;o=6*e-a,0!=(1&a)&&(o=1-o);const u=n+o*(s-n);let c,l,d;switch(a){default:case 6:case 0:c=s,l=u,d=n;break;case 1:c=u,l=s,d=n;break;case 2:c=n,l=s,d=u;break;case 3:c=n,l=u,d=s;break;case 4:c=u,l=n,d=s;break;case 5:c=s,l=n,d=u}return[255*c,255*l,255*d]},H.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},H.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let i,o,a;return i=3.2406*e+-1.5372*n+-.4986*r,o=-.9689*e+1.8758*n+.0415*r,a=.0557*e+-.204*n+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[255*i,255*o,255*a]},H.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(e-n),200*(n-r)]},H.lab.xyz=function(t){let e,n,r;n=(t[0]+16)/116,e=t[1]/500+n,r=n-t[2]/200;const i=n**3,o=e**3,a=r**3;return n=i>.008856?i:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},H.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let i;i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360);return[e,Math.sqrt(n*n+r*r),i]},H.lch.lab=function(t){const e=t[0],n=t[1],r=t[2]/360*2*Math.PI;return[e,n*Math.cos(r),n*Math.sin(r)]},H.rgb.ansi16=function(t,e=null){const[n,r,i]=t;let o=null===e?H.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),0===o)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===o&&(a+=60),a},H.hsv.ansi16=function(t){return H.rgb.ansi16(H.hsv.rgb(t),t[2])},H.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];if(e===n&&n===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},H.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},H.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},H.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},H.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map((t=>t+t)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},H.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),o=Math.min(Math.min(e,n),r),a=i-o;let s,u;return s=a<1?o/(1-a):0,u=a<=0?0:i===e?(n-r)/a%6:i===n?2+(r-e)/a:4+(e-n)/a,u/=6,u%=1,[360*u,100*a,100*s]},H.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},H.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},H.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],o=e%1*6,a=o%1,s=1-a;let u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return u=(1-n)*r,[255*(n*i[0]+u),255*(n*i[1]+u),255*(n*i[2]+u)]},H.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},H.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},H.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},H.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,r=n-e;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},H.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},H.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},H.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},H.gray.hsl=function(t){return[0,0,t[0]]},H.gray.hsv=H.gray.hsl,H.gray.hwb=function(t){return[0,100,t[0]]},H.gray.cmyk=function(t){return[0,0,0,t[0]]},H.gray.lab=function(t){return[t[0],0,0]},H.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},H.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const P=C;function L(t){const e=function(){const t={},e=Object.keys(P);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),r=Object.keys(P[t]);for(let i=r.length,o=0;o<i;o++){const i=r[o],a=e[i];-1===a.distance&&(a.distance=e[t].distance+1,a.parent=t,n.unshift(i))}}return e}function R(t,e){return function(n){return e(t(n))}}function B(t,e){const n=[e[t].parent,t];let r=P[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)n.unshift(e[i].parent),r=R(P[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}const T=C,D=function(t){const e=L(t),n={},r=Object.keys(e);for(let t=r.length,i=0;i<t;i++){const t=r[i];null!==e[t].parent&&(n[t]=B(t,e))}return n},N={};Object.keys(T).forEach((t=>{N[t]={},Object.defineProperty(N[t],"channels",{value:T[t].channels}),Object.defineProperty(N[t],"labels",{value:T[t].labels});const e=D(t);Object.keys(e).forEach((n=>{const r=e[n];N[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const r=t(e);if("object"==typeof r)for(let t=r.length,e=0;e<t;e++)r[e]=Math.round(r[e]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(r),N[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)}))}));var K=N;const F=y.exports,U=K,q=["keyword","gray","hex"],z={};for(const t of Object.keys(U))z[[...U[t].labels].sort().join("")]=t;const G={};function $(t,e){if(!(this instanceof $))return new $(t,e);if(e&&e in q&&(e=null),e&&!(e in U))throw new Error("Unknown model: "+e);let n,r;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof $)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=F.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,r=U[this.model].channels,this.color=e.value.slice(0,r),this.valpha="number"==typeof e.value[r]?e.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=U[this.model].channels;const n=Array.prototype.slice.call(t,0,r);this.color=Q(n,r),this.valpha="number"==typeof t[r]?t[r]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const r=e.sort().join("");if(!(r in z))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=z[r];const{labels:i}=U[this.model],o=[];for(n=0;n<i.length;n++)o.push(t[i[n]]);this.color=Q(o)}if(G[this.model])for(r=U[this.model].channels,n=0;n<r;n++){const t=G[this.model][n];t&&(this.color[n]=t(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}$.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in F.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const n=1===e.valpha?e.color:[...e.color,this.valpha];return F.to[e.model](n)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:[...e.color,this.valpha];return F.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=U[this.model],{labels:n}=U[this.model];for(let r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new $([...this.color.map(V(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new $([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:J("rgb",0,Y(255)),green:J("rgb",1,Y(255)),blue:J("rgb",2,Y(255)),hue:J(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:J("hsl",1,Y(100)),lightness:J("hsl",2,Y(100)),saturationv:J("hsv",1,Y(100)),value:J("hsv",2,Y(100)),chroma:J("hcg",1,Y(100)),gray:J("hcg",2,Y(100)),white:J("hwb",1,Y(100)),wblack:J("hwb",2,Y(100)),cyan:J("cmyk",0,Y(100)),magenta:J("cmyk",1,Y(100)),yellow:J("cmyk",2,Y(100)),black:J("cmyk",3,Y(100)),x:J("xyz",0,Y(95.047)),y:J("xyz",1,Y(100)),z:J("xyz",2,Y(108.833)),l:J("lab",0,Y(100)),a:J("lab",1),b:J("lab",2),keyword(t){return void 0!==t?new $(t):U[this.model].keyword(this.color)},hex(t){return void 0!==t?new $(t):F.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new $(t);const e=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),F.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[n,r]of t.entries()){const t=r/255;e[n]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return $.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),r=this.rgb(),i=void 0===e?.5:e,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return $.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const t of Object.keys(U)){if(q.includes(t))continue;const{channels:e}=U[t];$.prototype[t]=function(...e){return this.model===t?new $(this):e.length>0?new $(e,t):new $([...(n=U[this.model][t].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],t);var n},$[t]=function(...n){let r=n[0];return"number"==typeof r&&(r=Q(n,e)),new $(r,t)}}function V(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function J(t,e,n){t=Array.isArray(t)?t:[t];for(const r of t)(G[r]||(G[r]=[]))[e]=n;return t=t[0],function(r){let i;return void 0!==r?(n&&(r=n(r)),i=this[t](),i.color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function Y(t){return function(e){return Math.max(0,Math.min(t,e))}}function Q(t,e){for(let n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}var W=$,X=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._name=e.name,this._strip=e.strip,this._index=e.index,this._ipcRenderer=null}return i(t,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t}},{key:"name",get:function(){return this._name}},{key:"strip",get:function(){return this._strip}},{key:"index",get:function(){return this._index}},{key:"setColor",value:function(t){if(this._ipcRenderer){var e=new W(t).object(),n="".concat(this._strip,";").concat(this._index,";").concat(e.r,",").concat(e.g,",").concat(e.b,"\n");this._ipcRenderer.send("led:set",{data:n})}}}]),t}(),Z=function(){function t(){n(this,t),this._ipcRenderer=null,this._leds=this._createLeds()}return i(t,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t;for(var e=0;e<this._leds.length;e++)this._leds[e].ipcRenderer=t}},{key:"leds",get:function(){return this._leds}},{key:"getLedByName",value:function(t){return this._leds.filter((function(e){return e.name===t}))[0]}},{key:"_createLeds",value:function(){for(var t=[],e=0;e<f.leds.length;e++){var n=new X({name:f.leds[e].name,strip:f.leds[e].strip,index:f.leds[e].index});t.push(n)}return t}}]),t}();function tt(t,e,n){return clearTimeout(n),n=setTimeout(t,e)}function et(t,e,n){var r=new Date;return void 0===n||r-n>=e?(t(),r):n}function nt(t,e,n,r,i){return(t-e)*(i-r)/(n-e)+r}function rt(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function it(t,e){var n=nt(t.x,18,840,-1,1),r=-1*nt(t.y,36,867,-1,1);return rt({x:n,y:r},{x:0,y:0})<e&&(n=0,r=0),{x:n,y:r}}function ot(t,e){var n=t.x,r=-1*t.y;return rt({x:n,y:r},{x:0,y:0})<e&&(n=0,r=0),{x:n,y:r}}var at=function(t){a(r,t);var e=l(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._id=i.id,t._deadzone=h.deadzone,t._threshold=h.threshold,t._inputInactiveDelay=h.inputInactiveDelay,t._inputIntervalMin=h.inputIntervalMin,t._inputIntervalMax=h.inputIntervalMax,t._ipcRenderer=null,t._gamepadEmulatorJoystick=null,t._gamepadEmulatorJoystickIndex=null,t._position={x:0,y:0},t._inputLeftIndex=0,t._inputRightIndex=0,t._inputUpIndex=0,t._inputDownIndex=0,t._bindAll(),t}return i(r,[{key:"id",get:function(){return this._id}},{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t}},{key:"position",get:function(){return this._position}},{key:"deadzone",get:function(){return this._deadzone},set:function(t){this._deadzone=t}},{key:"threshold",get:function(){return this._threshold},set:function(t){this._threshold=t}},{key:"inputIntervalMin",get:function(){return this._inputIntervalMin},set:function(t){this._inputIntervalMin=t}},{key:"inputIntervalMax",get:function(){return this._inputIntervalMax},set:function(t){this._inputIntervalMax=t}},{key:"moveHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._position=e.isGamepad?ot(t,this._deadzone):it(t,this._deadzone),this.dispatchEvent("joystick:move",{id:this._id,position:this._position}),this._position.x<=-1+this._threshold&&this._moveLeftHandler(),this._position.x>=1-this._threshold&&this._moveRightHandler(),this._position.y>=1-this._threshold&&this._moveUpHandler(),this._position.y<=-1+this._threshold&&this._moveDownHandler(),this._ipcRenderer&&1===this._id&&this._ipcRenderer.send("mouse:move",this._position)}},{key:"setGamepadEmulatorJoystick",value:function(t,e){this._gamepadEmulatorJoystick||(this._gamepadEmulatorJoystick=t,this._gamepadEmulatorJoystickIndex=e,this._gamepadEmulatorJoystick.addEventListener("gamepad:joystick:move",this._gamepadJoystickMoveHandler))}},{key:"_bindAll",value:function(){this._moveLeftHandler=this._moveLeftHandler.bind(this),this._moveLeftThrottledHandler=this._moveLeftThrottledHandler.bind(this),this._moveLeftEndHandler=this._moveLeftEndHandler.bind(this),this._moveRightHandler=this._moveRightHandler.bind(this),this._moveRightThrottledHandler=this._moveRightThrottledHandler.bind(this),this._moveRightEndHandler=this._moveRightEndHandler.bind(this),this._moveUpHandler=this._moveUpHandler.bind(this),this._moveUpThrottledHandler=this._moveUpThrottledHandler.bind(this),this._moveUpEndHandler=this._moveUpEndHandler.bind(this),this._moveDownHandler=this._moveDownHandler.bind(this),this._moveDownThrottledHandler=this._moveDownThrottledHandler.bind(this),this._moveDownEndHandler=this._moveDownEndHandler.bind(this),this._gamepadJoystickMoveHandler=this._gamepadJoystickMoveHandler.bind(this)}},{key:"_moveLeftHandler",value:function(){var t=this._inputLeftIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveLeft=et(this._moveLeftThrottledHandler,1e3*t,this._throttleMoveLeft),this._debounceMoveLeft=tt(this._moveLeftEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveLeft)}},{key:"_moveLeftThrottledHandler",value:function(){this._inputLeftIndex++,this.dispatchEvent("joystick:quickmove",{direction:"left",position:this._position})}},{key:"_moveLeftEndHandler",value:function(){this._inputLeftIndex=0}},{key:"_moveRightHandler",value:function(){var t=this._inputRightIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveRight=et(this._moveRightThrottledHandler,1e3*t,this._throttleMoveRight),this._debounceMoveRight=tt(this._moveRightEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveRight)}},{key:"_moveRightThrottledHandler",value:function(){this._inputRightIndex++,this.dispatchEvent("joystick:quickmove",{direction:"right",position:this._position})}},{key:"_moveRightEndHandler",value:function(){this._inputRightIndex=0}},{key:"_moveUpHandler",value:function(){var t=this._inputUpIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveUp=et(this._moveUpThrottledHandler,1e3*t,this._throttleMoveUp),this._debounceMoveUp=tt(this._moveUpEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveUp)}},{key:"_moveUpThrottledHandler",value:function(){this._inputUpIndex++,this.dispatchEvent("joystick:quickmove",{direction:"up",position:this._position})}},{key:"_moveUpEndHandler",value:function(){this._inputUpIndex=0}},{key:"_moveDownHandler",value:function(){var t=this._inputDownIndex>1?this._inputIntervalMin:this._inputIntervalMax;this._throttleMoveDown=et(this._moveDownThrottledHandler,1e3*t,this._throttleMoveDown),this._debounceMoveDown=tt(this._moveDownEndHandler,1e3*this._inputInactiveDelay,this._debounceMoveDown)}},{key:"_moveDownThrottledHandler",value:function(){this._inputDownIndex++,this.dispatchEvent("joystick:quickmove",{direction:"down",position:this._position})}},{key:"_moveDownEndHandler",value:function(){this._inputDownIndex=0}},{key:"_gamepadJoystickMoveHandler",value:function(t){t.index===this._gamepadEmulatorJoystickIndex&&this.moveHandler(t.position,{isGamepad:!0})}}]),r}(d),st=function(t){a(r,t);var e=l(r);function r(){var t;return n(this,r),(t=e.call(this))._joystick1=t._createJoystick1(),t._joystick2=t._createJoystick2(),t._ipcRenderer=null,t._bindAll(),t._setupIpcRendererEventListeners(),t}return i(r,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t,this._joystick1.ipcRenderer=t,this._joystick2.ipcRenderer=t,this._setupIpcRendererEventListeners()}},{key:"joystick1",get:function(){return this._joystick1}},{key:"joystick2",get:function(){return this._joystick2}},{key:"_createJoystick1",value:function(){return new at({id:1})}},{key:"_createJoystick2",value:function(){return new at({id:2})}},{key:"_bindAll",value:function(){this._joystickMoveHandler=this._joystickMoveHandler.bind(this)}},{key:"_setupIpcRendererEventListeners",value:function(){this._ipcRenderer&&this._ipcRenderer.on("joystick:move",this._joystickMoveHandler)}},{key:"_joystickMoveHandler",value:function(t,e){1===e.id&&this._joystick1.moveHandler(e.position),2===e.id&&this._joystick2.moveHandler(e.position)}}]),r}(d),ut=function(t){a(r,t);var e=l(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._id=i.id,t._key=i.key,t._ledManager=i.ledManager,t._led=t._ledManager.getLedByName("button-".concat(t._key,"-").concat(t._id)),t._keyboardKeys=[],t._gamepadEmulator=null,t._gamepadEmulatorKeys=[],t._bindAll(),t}return i(r,[{key:"id",get:function(){return this._id}},{key:"key",get:function(){return this._key}},{key:"keyboardKeys",get:function(){return this._keyboardKeys},set:function(t){this._keyboardKeys=t}},{key:"led",get:function(){return this._led}},{key:"gamepadEmulator",get:function(){return this._gamepadEmulator},set:function(t){this._gamepadEmulator||(this._gamepadEmulator=t,this._gamepadEmulator.addEventListener("gamepad:keydown",this._gamepadKeydownHandler),this._gamepadEmulator.addEventListener("gamepad:keyup",this._gamepadKeyupHandler))}},{key:"gamepadEmulatorKeys",get:function(){return this._gamepadEmulatorKeys},set:function(t){this._gamepadEmulatorKeys=t}},{key:"keydownHandler",value:function(){this.dispatchEvent("keydown",{key:this._key,id:this._id,keyboardKeys:this._keyboardKeys,gamepadEmulatorKeys:this._gamepadEmulatorKeys,instance:this})}},{key:"keyupHandler",value:function(){this.dispatchEvent("keyup",{key:this._key,id:this._id,keyboardKeys:this._keyboardKeys,instance:this})}},{key:"_bindAll",value:function(){this._gamepadKeydownHandler=this._gamepadKeydownHandler.bind(this),this._gamepadKeyupHandler=this._gamepadKeyupHandler.bind(this)}},{key:"_gamepadKeydownHandler",value:function(t){this._gamepadEmulatorKeys.includes(t)&&this.keydownHandler()}},{key:"_gamepadKeyupHandler",value:function(t){this._gamepadEmulatorKeys.includes(t)&&this.keyupHandler()}}]),r}(d);function ct(t){return Array.isArray(t)?t:[t]}var lt=function(t){a(r,t);var e=l(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._ledManager=i.ledManager,t._buttonHome=t._createButtonHome(),t._buttons=t._createButtons(),t._ipcRenderer=null,t._bindAll(),t._setupEventListeners(),t}return i(r,[{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t,this._setupIpcRendererEventListeners()}},{key:"buttonHome",get:function(){return this._buttonHome}},{key:"destroy",value:function(){this._removeEventListeners(),this._removeIpcRendererEventListeners()}},{key:"registerKeys",value:function(t,e,n){var r=this.getButton(e,n);return r&&(r.keyboardKeys=ct(t)),r}},{key:"registerGamepadEmulatorKeys",value:function(t,e,n,r){var i=this.getButton(n,r);return i&&(i.gamepadEmulator=t,i.gamepadEmulatorKeys=ct(e)),i}},{key:"getButton",value:function(t,e){return this._buttons.filter((function(n){return n.key===t&&n.id===e}))[0]}},{key:"getButtonsById",value:function(t){return this._buttons.filter((function(e){return e.id===t}))}},{key:"getButtonsByKeyboardKey",value:function(t){return this._buttons.filter((function(e){return e.keyboardKeys.includes(t)}))}},{key:"_createButtonHome",value:function(){return new ut({id:0,key:"home",ledManager:this._ledManager})}},{key:"_createButtons",value:function(){for(var t=[],e=0;e<f.buttons.length;e++){var n=new ut({id:f.buttons[e].id,key:f.buttons[e].key,ledManager:this._ledManager});t.push(n)}return t}},{key:"_bindAll",value:function(){this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._machineKeydownHandler=this._machineKeydownHandler.bind(this),this._machineKeyupHandler=this._machineKeyupHandler.bind(this),this._machineHomeKeydownHandler=this._machineHomeKeydownHandler.bind(this),this._machineHomeKeyupHandler=this._machineHomeKeyupHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("keydown",this._keydownHandler),window.addEventListener("keyup",this._keyupHandler)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("keydown",this._keydownHandler),window.removeEventListener("keyup",this._keyupHandler)}},{key:"_setupIpcRendererEventListeners",value:function(){this._ipcRenderer&&(this._ipcRenderer.on("keydown",this._machineKeydownHandler),this._ipcRenderer.on("keyup",this._machineKeyupHandler),this._ipcRenderer.on("home:keydown",this._machineHomeKeydownHandler),this._ipcRenderer.on("home:keyup",this._machineHomeKeyupHandler))}},{key:"_removeIpcRendererEventListeners",value:function(){this._ipcRenderer&&(this._ipcRenderer.removeListener("keydown",this._machineKeydownHandler),this._ipcRenderer.removeListener("keyup",this._machineKeyupHandler),this._ipcRenderer.on("home:keydown",this._machineHomeKeydownHandler),this._ipcRenderer.on("home:keyup",this._machineHomeKeyupHandler))}},{key:"_keydownHandler",value:function(t){for(var e=this.getButtonsByKeyboardKey(t.key),n=0;n<e.length;n++){var r=e[n];r.keydownHandler(t),this.dispatchEvent("keydown",{key:r.key,id:r.id,instance:r,originalEvent:t})}}},{key:"_keyupHandler",value:function(t){for(var e=this.getButtonsByKeyboardKey(t.key),n=0;n<e.length;n++){var r=e[n];e[n].keyupHandler(t),this.dispatchEvent("keyup",{key:r.key,id:r.id,instance:r,originalEvent:t})}}},{key:"_machineKeydownHandler",value:function(t,e){var n=this.getButton(e.key,e.id);n.keydownHandler(e),this.dispatchEvent("keydown",{key:n.key,id:n.id,instance:n,originalEvent:e})}},{key:"_machineKeyupHandler",value:function(t,e){var n=this.getButton(e.key,e.id);n.keyupHandler(e),this.dispatchEvent("keyup",{key:n.key,id:n.id,instance:n,originalEvent:e}),this._ipcRenderer&&1===n.id&&"a"===n.key&&this._ipcRenderer.send("mouse:click",{})}},{key:"_machineHomeKeydownHandler",value:function(){this._buttonHome.keydownHandler(),this.dispatchEvent("home:keydown")}},{key:"_machineHomeKeyupHandler",value:function(){this._buttonHome.keyupHandler(),this.dispatchEvent("home:keyup")}}]),r}(d),dt=function(t){a(r,t);var e=l(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._id=i.id,t._joysticks=i.joysticks?ct(i.joysticks):[],t._buttons=i.buttons||[],t._bindAll(),t._setupEventListeners(),t}return i(r,[{key:"id",get:function(){return this._id}},{key:"joysticks",get:function(){return this._joysticks},set:function(t){this._joysticks=ct(t)}},{key:"buttons",get:function(){return this._buttons},set:function(t){this._removeEventListeners(),this._buttons=t,this._setupEventListeners()}},{key:"destroy",value:function(){this._removeEventListeners()}},{key:"_bindAll",value:function(){this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._joystickMoveHandler=this._joystickMoveHandler.bind(this),this._joystickQuickmoveHandler=this._joystickQuickmoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){for(var t=0;t<this._joysticks.length;t++)this._joysticks[t].addEventListener("joystick:move",this._joystickMoveHandler),this._joysticks[t].addEventListener("joystick:quickmove",this._joystickQuickmoveHandler);for(var e=0;e<this._buttons.length;e++)this._buttons[e].addEventListener("keydown",this._keydownHandler),this._buttons[e].addEventListener("keyup",this._keyupHandler)}},{key:"_removeEventListeners",value:function(){for(var t=0;t<this._joysticks.length;t++)this._joysticks[t].removeEventListener("joystick:move",this._joystickMoveHandler),this._joysticks[t].removeEventListener("joystick:quickmove",this._joystickQuickmoveHandler);for(var e=0;e<this._buttons.length;e++)this._buttons[e].removeEventListener("keydown",this._keydownHandler),this._buttons[e].removeEventListener("keyup",this._keyupHandler)}},{key:"_keydownHandler",value:function(t){this.dispatchEvent("keydown",t)}},{key:"_keyupHandler",value:function(t){this.dispatchEvent("keyup",t)}},{key:"_joystickMoveHandler",value:function(t){this.dispatchEvent("joystick:move",t)}},{key:"_joystickQuickmoveHandler",value:function(t){this.dispatchEvent("joystick:quickmove",t)}}]),r}(d),ht=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._joystickManager=e.joystickManager,this._buttonManager=e.buttonManager,this._players=[]}return i(t,[{key:"players",get:function(){return this._players}},{key:"destroy",value:function(){for(var t=0;t<this._players.length;t++)this._players[t].destroy()}},{key:"createPlayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new dt({id:t.id,joysticks:t.joysticks,buttons:t.buttons});return this._players.push(e),e}},{key:"destroyPlayer",value:function(t){var e=this._players.indexOf(t);t.destroy(),this._players.splice(e,1)}},{key:"getPlayerById",value:function(t){return this._players.filter((function(e){return e.id===t}))[0]}}]),t}();var ft=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._id=e.id,this._ipcRenderer=e.ipcRenderer,this._hasCheckedForIpcRenderer=!1,this._isAxisMachine=!0}return i(t,[{key:"id",get:function(){return this._id}},{key:"ipcRenderer",get:function(){return this._ipcRenderer},set:function(t){this._ipcRenderer=t}},{key:"postScore",value:function(t){var e=this;return this._hasCheckedForIpcRenderer?this._postScore(t):new Promise((function(n,r){e._checkForIpcRenderer().then((function(){e._postScore(t).then(n,r),e._hasCheckedForIpcRenderer=!0}))}))}},{key:"getScores",value:function(){var t=this;return this._hasCheckedForIpcRenderer?this._getScores():new Promise((function(e,n){t._checkForIpcRenderer().then((function(){t._getScores().then(e,n),t._hasCheckedForIpcRenderer=!0}))}))}},{key:"_postScore",value:function(t){var e=this,n=this._isValidScore(t);return t.createdAt=new Date,new Promise((function(r,i){if(n)if(e._ipcRenderer)e._postScoreToDatabase(t).then(r,i);else{var o=e._getLocalStorageScores(e._id)||[];o.push(t),e._setLocalStorageScores(e._id,o),r()}else i(Error("Leaderboard: Score is not valid"))}))}},{key:"_getScores",value:function(){var t=this;return new Promise((function(e,n){t._ipcRenderer?t._getScoresFromDatabase().then(e,n):e(t._getLocalStorageScores(t._id)||[])}))}},{key:"_getScoresFromDatabase",value:function(){var t=this;return new Promise((function(e){t._ipcRenderer.send("leaderboard:get",{id:t._id}),t._ipcRenderer.once("leaderboard:get:completed",(function(t,n){e(n)}))}))}},{key:"_postScoreToDatabase",value:function(t){var e=this;return new Promise((function(n,r){e._ipcRenderer.send("leaderboard:post",{id:e._id,score:t}),e._ipcRenderer.once("leaderboard:post:completed",(function(t,e){n(e)})),e._ipcRenderer.once("leaderboard:post:error",(function(t,e){r(e)}))}))}},{key:"_isValidScore",value:function(t){var e=!isNaN(t.value),n=void 0!==t.username&&null!==t.username;return e||console.error("Leaderboard: make sure you have a valid value key"),n||console.error("Leaderboard: make sure you have a valid username key"),e&&n}},{key:"_getLocalStorageScores",value:function(t){var e=localStorage.getItem(t);if(e)return JSON.parse(e)}},{key:"_setLocalStorageScores",value:function(t,e){return localStorage.setItem(t,JSON.stringify(e))}},{key:"_checkForIpcRenderer",value:function(){return new Promise((function(t){var e,n,r;e=function(){t()},n=1,r=0,requestAnimationFrame((function t(){++r>=n?e():requestAnimationFrame(t)}))}))}}]),t}(),pt=[],yt=[];function vt(t,e){if(t&&"undefined"!=typeof document){var n,r=!0===e.prepend?"prepend":"append",i=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var a=pt.indexOf(o);-1===a&&(a=pt.push(o)-1,yt[a]={}),n=yt[a]&&yt[a][r]?yt[a][r]:yt[a][r]=s()}else n=s();65279===t.charCodeAt(0)&&(t=t.substring(1)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(document.createTextNode(t))}function s(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var n=Object.keys(e.attributes),i=0;i<n.length;i++)t.setAttribute(n[i],e.attributes[n[i]]);var a="prepend"===r?"afterbegin":"beforeend";return o.insertAdjacentElement(a,t),t}}vt('.hg-candidate-box {\n  display: inline-flex;\n  border-radius: 5px;\n  position: absolute;\n  background: #ececec;\n  border-bottom: 2px solid #b5b5b5;\n  user-select: none;\n  max-width: 272px;\n  transform: translateY(-100%);\n  margin-top: -10px;\n}\n\nul.hg-candidate-box-list {\n  display: flex;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  flex: 1;\n}\n\nli.hg-candidate-box-list-item {\n  height: 40px;\n  width: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\nli.hg-candidate-box-list-item:hover {\n  background: rgba(0, 0, 0, 0.03);\n  cursor: pointer;\n}\n\nli.hg-candidate-box-list-item:active {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n.hg-candidate-box-prev::before {\n  content: "◄";\n}\n\n.hg-candidate-box-next::before {\n  content: "►";\n}\n\n.hg-candidate-box-next,\n.hg-candidate-box-prev {\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  background: #d0d0d0;\n  color: #969696;\n  cursor: pointer;\n}\n\n.hg-candidate-box-next {\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n}\n\n.hg-candidate-box-prev {\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n}\n\n.hg-candidate-box-btn-active {\n  color: #444;\n}',{});vt('/**\n * simple-keyboard\n * Theme: hg-theme-default\n */\n.simple-keyboard {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n\n  margin: auto;\n\n  max-width: 1100px;\n\n  transform: translateY(100%);\n  transition: transform 0.5s ease-in-out;\n}\n\n.hg-theme-default {\n  width: 100%;\n  user-select: none;\n  box-sizing: border-box;\n  overflow: hidden;\n  touch-action: manipulation;\n  font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue",\n    Helvetica, Arial, "Lucida Grande", sans-serif;\n  background-color: #ececec;\n  padding: 5px;\n  border-radius: 5px;\n}\n\n.hg-theme-default .hg-button span {\n  pointer-events: none;\n}\n\n/* When using option "useButtonTag" */\n.hg-theme-default button.hg-button {\n  border-width: 0;\n  outline: 0;\n  font-size: inherit;\n}\n\n.hg-theme-default .hg-button {\n  display: inline-block;\n  flex-grow: 1;\n  cursor: pointer;\n}\n\n.hg-theme-default .hg-button:active {\n  background: #efefef;\n}\n\n.hg-theme-default .hg-button.active {\n  background: #efefef;\n}\n\n.hg-theme-default .hg-button.hg-keyMarker {\n  box-shadow: 0 0 0 2px #88b8ff !important;\n}\n\n.hg-theme-default .hg-row {\n  display: flex;\n}\n\n.hg-theme-default .hg-row:not(:last-child) {\n  margin-bottom: 5px;\n}\n\n.hg-theme-default .hg-row .hg-button:not(:last-child) {\n  margin-right: 5px;\n}\n\n.hg-theme-default .hg-row .hg-button-container {\n  margin-right: 5px;\n}\n\n.hg-theme-default .hg-row > div:last-child {\n  margin-right: 0;\n}\n\n.hg-theme-default .hg-row .hg-button-container {\n  display: flex;\n}\n\n.hg-theme-default .hg-button {\n  box-shadow: 0px 0px 3px -1px rgba(0, 0, 0, 0.3);\n  height: 40px;\n  border-radius: 5px;\n  box-sizing: border-box;\n  padding: 5px;\n  background: white;\n  border-bottom: 1px solid #b5b5b5;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.hg-theme-default .hg-button.hg-standardBtn {\n  width: 20px;\n}\n\n.hg-theme-default.hg-layout-numeric .hg-button {\n  width: 33.3%;\n  height: 60px;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.hg-theme-default .hg-button.hg-button-numpadadd {\n  height: 85px;\n}\n\n.hg-theme-default .hg-button.hg-button-numpadenter {\n  height: 85px;\n}\n\n.hg-theme-default .hg-button.hg-button-numpad0 {\n  width: 105px;\n}\n\n.hg-theme-default .hg-button.hg-button-com {\n  max-width: 85px;\n}\n\n.hg-theme-default .hg-button.hg-standardBtn.hg-button-at {\n  max-width: 45px;\n}\n\n.hg-theme-default .hg-button.hg-selectedButton {\n  background: rgba(5, 25, 70, 0.53);\n  color: white;\n}\n\n.hg-theme-default .hg-button.hg-standardBtn[data-skbtn=".com"] {\n  max-width: 82px;\n}\n\n.hg-theme-default .hg-button.hg-standardBtn[data-skbtn="@"] {\n  width: calc(2 / 12 * 100%);\n}\n\n.hg-theme-default .hg-button.hg-standardBtn[data-skbtn="{bksp}"] {\n  max-width: 60px;\n}\n\n.hg-theme-default .hg-button.hg-functionBtn[data-skbtn="{space}"] {\n  min-width: 70%;\n}\n\n.hg-theme-default .hg-button.hg-functionBtn[data-skbtn="{shift}"] {\n  /* max-width: 60px; */\n}\n\n.hg-theme-default .hg-button.hg-functionBtn[data-skbtn="{enter}"] {\n    width: calc(2 / 12 * 100%);\n}\n',{});var gt={exports:{}};
/*!
   * 
   *   simple-keyboard v3.4.100
   *   https://github.com/hodgef/simple-keyboard
   *
   *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.
   *
   *   This source code is licensed under the MIT license found in the
   *   LICENSE file in the root directory of this source tree.
   *
   */!function(t,e){t.exports=function(){var t={9662:function(t,e,n){var r=n(7854),i=n(614),o=n(6330),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},9483:function(t,e,n){var r=n(7854),i=n(4411),o=n(6330),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},6077:function(t,e,n){var r=n(7854),i=n(614),o=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},1530:function(t,e,n){var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9670:function(t,e,n){var r=n(7854),i=n(111),o=r.String,a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},8533:function(t,e,n){var r=n(2092).forEach,i=n(9341)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},8457:function(t,e,n){var r=n(7854),i=n(9974),o=n(6916),a=n(7908),s=n(3411),u=n(7659),c=n(4411),l=n(6244),d=n(6135),h=n(8554),f=n(1246),p=r.Array;t.exports=function(t){var e=a(t),n=c(this),r=arguments.length,y=r>1?arguments[1]:void 0,v=void 0!==y;v&&(y=i(y,r>2?arguments[2]:void 0));var g,b,m,k,_,x,w=f(e),E=0;if(!w||this==p&&u(w))for(g=l(e),b=n?new this(g):p(g);g>E;E++)x=v?y(e[E],E):e[E],d(b,E,x);else for(_=(k=h(e,w)).next,b=n?new this:[];!(m=o(_,k)).done;E++)x=v?s(k,y,[m.value,E],!0):m.value,d(b,E,x);return b.length=E,b}},1318:function(t,e,n){var r=n(5656),i=n(1400),o=n(6244),a=function(t){return function(e,n,a){var s,u=r(e),c=o(u),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,e,n){var r=n(9974),i=n(1702),o=n(8361),a=n(7908),s=n(6244),u=n(5417),c=i([].push),l=function(t){var e=1==t,n=2==t,i=3==t,l=4==t,d=6==t,h=7==t,f=5==t||d;return function(p,y,v,g){for(var b,m,k=a(p),_=o(k),x=r(y,v),w=s(_),E=0,M=g||u,O=e?M(p,w):n||h?M(p,0):void 0;w>E;E++)if((f||E in _)&&(m=x(b=_[E],E,k),t))if(e)O[E]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:c(O,b)}else switch(t){case 4:return!1;case 7:c(O,b)}return d?-1:i||l?l:O}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},1194:function(t,e,n){var r=n(7293),i=n(5112),o=n(7392),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},3671:function(t,e,n){var r=n(7854),i=n(9662),o=n(7908),a=n(8361),s=n(6244),u=r.TypeError,c=function(t){return function(e,n,r,c){i(n);var l=o(e),d=a(l),h=s(l),f=t?h-1:0,p=t?-1:1;if(r<2)for(;;){if(f in d){c=d[f],f+=p;break}if(f+=p,t?f<0:h<=f)throw u("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=p)f in d&&(c=n(c,d[f],f,l));return c}};t.exports={left:c(!1),right:c(!0)}},1589:function(t,e,n){var r=n(7854),i=n(1400),o=n(6244),a=n(6135),s=r.Array,u=Math.max;t.exports=function(t,e,n){for(var r=o(t),c=i(e,r),l=i(void 0===n?r:n,r),d=s(u(l-c,0)),h=0;c<l;c++,h++)a(d,h,t[c]);return d.length=h,d}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},4362:function(t,e,n){var r=n(1589),i=Math.floor,o=function(t,e){var n=t.length,u=i(n/2);return n<8?a(t,e):s(t,o(r(t,0,u),e),o(r(t,u),e),e)},a=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},s=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t};t.exports=o},7475:function(t,e,n){var r=n(7854),i=n(3157),o=n(4411),a=n(111),s=n(5112)("species"),u=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===u||i(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?u:e}},5417:function(t,e,n){var r=n(7475);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},3411:function(t,e,n){var r=n(9670),i=n(9212);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},7072:function(t,e,n){var r=n(5112)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},4326:function(t,e,n){var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:function(t,e,n){var r=n(7854),i=n(1694),o=n(614),a=n(4326),s=n(5112)("toStringTag"),u=r.Object,c="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=u(t),s))?n:c?a(e):"Object"==(r=a(e))&&o(e.callee)?"Arguments":r}},9920:function(t,e,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=i(e),u=a.f,c=o.f,l=0;l<s.length;l++){var d=s[l];r(t,d)||n&&r(n,d)||u(t,d,c(e,d))}}},4964:function(t,e,n){var r=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,n){var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),s=n(7497),u=function(){return this};t.exports=function(t,e,n,c){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!c,n)}),a(t,l,!1,!0),s[l]=u,t}},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){var r=n(4948),i=n(3070),o=n(9114);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},8052:function(t,e,n){var r=n(7854),i=n(614),o=n(8880),a=n(6339),s=n(3505);t.exports=function(t,e,n,u){var c=!!u&&!!u.unsafe,l=!!u&&!!u.enumerable,d=!!u&&!!u.noTargetGet,h=u&&void 0!==u.name?u.name:e;return i(n)&&a(n,h,u),t===r?(l?t[e]=n:s(e,n),t):(c?!d&&t[e]&&(l=!0):delete t[e],l?t[e]=n:o(t,e,n),t)}},654:function(t,e,n){var r=n(2109),i=n(6916),o=n(1913),a=n(6530),s=n(614),u=n(4994),c=n(9518),l=n(7674),d=n(8003),h=n(8880),f=n(8052),p=n(5112),y=n(7497),v=n(3383),g=a.PROPER,b=a.CONFIGURABLE,m=v.IteratorPrototype,k=v.BUGGY_SAFARI_ITERATORS,_=p("iterator"),x="keys",w="values",E="entries",M=function(){return this};t.exports=function(t,e,n,a,p,v,O){u(n,e,a);var S,j,I,A=function(t){if(t===p&&R)return R;if(!k&&t in P)return P[t];switch(t){case x:case w:case E:return function(){return new n(this,t)}}return function(){return new n(this)}},H=e+" Iterator",C=!1,P=t.prototype,L=P[_]||P["@@iterator"]||p&&P[p],R=!k&&L||A(p),B="Array"==e&&P.entries||L;if(B&&(S=c(B.call(new t)))!==Object.prototype&&S.next&&(o||c(S)===m||(l?l(S,m):s(S[_])||f(S,_,M)),d(S,H,!0,!0),o&&(y[H]=M)),g&&p==w&&L&&L.name!==w&&(!o&&b?h(P,"name",w):(C=!0,R=function(){return i(L,this)})),p)if(j={values:A(w),keys:v?R:A(x),entries:A(E)},O)for(I in j)(k||C||!(I in P))&&f(P,I,j[I]);else r({target:e,proto:!0,forced:k||C},j);return o&&!O||P[_]===R||f(P,_,R,{name:p}),y[e]=R,j}},7235:function(t,e,n){var r=n(857),i=n(2597),o=n(6061),a=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var r=n(317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8886:function(t,e,n){var r=n(8113).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},256:function(t,e,n){var r=n(8113);t.exports=/MSIE|Trident/.test(r)},5268:function(t,e,n){var r=n(4326),i=n(7854);t.exports="process"==r(i.process)},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,i,o=n(7854),a=n(8113),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},8008:function(t,e,n){var r=n(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(8052),s=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,l,d,h,f,p=t.target,y=t.global,v=t.stat;if(n=y?r:v?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in e){if(h=e[l],d=t.noTargetGet?(f=i(n,l))&&f.value:n[l],!c(y?l:p+(v?".":"#")+l,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),a(n,l,h,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){n(4916);var r=n(1702),i=n(8052),o=n(2261),a=n(7293),s=n(5112),u=n(8880),c=s("species"),l=RegExp.prototype;t.exports=function(t,e,n,d){var h=s(t),f=!a((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=f&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!f||!p||n){var y=r(/./[h]),v=e(h,""[t],(function(t,e,n,i,a){var s=r(t),u=e.exec;return u===o||u===l.exec?f&&!a?{done:!0,value:y(e,n,i)}:{done:!0,value:s(n,e,i)}:{done:!1}}));i(String.prototype,t,v[0]),i(l,h,v[1])}d&&u(l[h],"sham",!0)}},2104:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(t,e,n){var r=n(1702),i=n(9662),o=n(4374),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},1246:function(t,e,n){var r=n(648),i=n(8173),o=n(7497),a=n(5112)("iterator");t.exports=function(t){if(null!=t)return i(t,a)||i(t,"@@iterator")||o[r(t)]}},8554:function(t,e,n){var r=n(7854),i=n(6916),o=n(9662),a=n(9670),s=n(6330),u=n(1246),c=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(o(n))return a(i(n,t));throw c(s(t)+" is not iterable")}},8173:function(t,e,n){var r=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},647:function(t,e,n){var r=n(1702),i=n(7908),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,d,h){var f=n+t.length,p=r.length,y=l;return void 0!==d&&(d=i(d),y=c),s(h,y,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,f);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>p){var h=o(l/10);return 0===h?i:h<=p?void 0===r[h-1]?a(s,1):r[h-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7854),i=n(1702),o=n(7293),a=n(4326),s=r.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},9587:function(t,e,n){var r=n(614),i=n(111),o=n(7674);t.exports=function(t,e,n){var a,s;return o&&r(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(t,s),t}},2788:function(t,e,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},9909:function(t,e,n){var r,i,o,a=n(8536),s=n(7854),u=n(1702),c=n(111),l=n(8880),d=n(2597),h=n(5465),f=n(6200),p=n(3501),y="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||h.state){var b=h.state||(h.state=new g),m=u(b.get),k=u(b.has),_=u(b.set);r=function(t,e){if(k(b,t))throw new v(y);return e.facade=t,_(b,t,e),e},i=function(t){return m(b,t)||{}},o=function(t){return k(b,t)}}else{var x=f("state");p[x]=!0,r=function(t,e){if(d(t,x))throw new v(y);return e.facade=t,l(t,x,e),e},i=function(t){return d(t,x)?t[x]:{}},o=function(t){return d(t,x)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var r=n(5112),i=n(7497),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},614:function(t){t.exports=function(t){return"function"==typeof t}},4411:function(t,e,n){var r=n(1702),i=n(7293),o=n(614),a=n(648),s=n(5005),u=n(2788),c=function(){},l=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),p=!h.exec(c),y=function(t){if(!o(t))return!1;try{return d(c,l,t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,u(t))}catch(t){return!0}};v.sham=!0,t.exports=!d||i((function(){var t;return y(y.call)||!y(Object)||!y((function(){t=!0}))||t}))?v:y},4705:function(t,e,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==l||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},5988:function(t,e,n){var r=n(111),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},111:function(t,e,n){var r=n(614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},7850:function(t,e,n){var r=n(111),i=n(4326),o=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},2190:function(t,e,n){var r=n(7854),i=n(5005),o=n(614),a=n(7976),s=n(3307),u=r.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},9212:function(t,e,n){var r=n(6916),i=n(9670),o=n(8173);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},3383:function(t,e,n){var r,i,o,a=n(7293),s=n(614),u=n(30),c=n(9518),l=n(8052),d=n(5112),h=n(1913),f=d("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):p=!0),null==r||a((function(){var t={};return r[f].call(t)!==t}))?r={}:h&&(r=u(r)),s(r[f])||l(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7497:function(t){t.exports={}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(7293),i=n(614),o=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,u=n(2788),c=n(9909),l=c.enforce,d=c.get,h=Object.defineProperty,f=a&&!r((function(){return 8!==h((function(){}),"length",{value:8}).length})),p=String(String).split("String"),y=t.exports=function(t,e,n){if("Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||s&&t.name!==e)&&h(t,"name",{value:e,configurable:!0}),f&&n&&o(n,"arity")&&t.length!==n.arity&&h(t,"length",{value:n.arity}),n&&o(n,"constructor")&&n.constructor){if(a)try{h(t,"prototype",{writable:!1})}catch(t){}}else t.prototype=void 0;var r=l(t);return o(r,"source")||(r.source=p.join("string"==typeof e?e:"")),t};Function.prototype.toString=y((function(){return i(this)&&d(this).source||u(this)}),"toString")},735:function(t,e,n){var r=n(133);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},133:function(t,e,n){var r=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(t,e,n){var r=n(7854),i=n(614),o=n(2788),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},3929:function(t,e,n){var r=n(7854),i=n(7850),o=r.TypeError;t.exports=function(t){if(i(t))throw o("The method doesn't accept regular expressions");return t}},1574:function(t,e,n){var r=n(9781),i=n(1702),o=n(6916),a=n(7293),s=n(1956),u=n(5181),c=n(5296),l=n(7908),d=n(8361),h=Object.assign,f=Object.defineProperty,p=i([].concat);t.exports=!h||a((function(){if(r&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||s(h({},e)).join("")!=i}))?function(t,e){for(var n=l(t),i=arguments.length,a=1,h=u.f,f=c.f;i>a;)for(var y,v=d(arguments[a++]),g=h?p(s(v),h(v)):s(v),b=g.length,m=0;b>m;)y=g[m++],r&&!o(f,v,y)||(n[y]=v[y]);return n}:h},30:function(t,e,n){var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),u=n(490),c=n(317),l=n(6200)("IE_PROTO"),d=function(){},h=function(t){return"<script>"+t+"<\/script>"},f=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;p="undefined"!=typeof document?document.domain&&r?f(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):f(r);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=i(t),n=new d,d.prototype=null,n[l]=t):n=p(),void 0===e?n:o.f(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3353),o=n(3070),a=n(9670),s=n(5656),u=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=u(e),c=i.length,l=0;c>l;)o.f(t,n=i[l++],r[n]);return t}},3070:function(t,e,n){var r=n(7854),i=n(9781),o=n(4664),a=n(3353),s=n(9670),u=n(4948),c=r.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",p="writable";e.f=i?a?function(t,e,n){if(s(t),e=u(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&p in n&&!n.writable){var r=d(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:f in n?n.configurable:r.configurable,enumerable:h in n?n.enumerable:r.enumerable,writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=u(e),s(n),o)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),u=n(4948),c=n(2597),l=n(4664),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=s(t),e=u(e),l)try{return d(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},1156:function(t,e,n){var r=n(4326),i=n(5656),o=n(8006).f,a=n(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==r(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(i(t))}},8006:function(t,e,n){var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(7854),i=n(2597),o=n(614),a=n(7908),s=n(6200),u=n(8544),c=s("IE_PROTO"),l=r.Object,d=l.prototype;t.exports=u?l.getPrototypeOf:function(t){var e=a(t);if(i(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof l?d:null}},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;e.length>c;)i(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},9026:function(t,e,n){var r=n(1913),i=n(7854),o=n(7293),a=n(8008);t.exports=r||!o((function(){if(!(a&&a<535)){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete i[t]}}))},7674:function(t,e,n){var r=n(1702),i=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},288:function(t,e,n){var r=n(1694),i=n(648);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:function(t,e,n){var r=n(7854),i=n(6916),o=n(614),a=n(111),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!a(r=i(n,t)))return r;if(o(n=t.valueOf)&&!a(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!a(r=i(n,t)))return r;throw s("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},857:function(t,e,n){var r=n(7854);t.exports=r},2626:function(t,e,n){var r=n(3070).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},7651:function(t,e,n){var r=n(7854),i=n(6916),o=n(9670),a=n(614),s=n(4326),u=n(2261),c=r.TypeError;t.exports=function(t,e){var n=t.exec;if(a(n)){var r=i(n,t,e);return null!==r&&o(r),r}if("RegExp"===s(t))return i(u,t,e);throw c("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){var r,i,o=n(6916),a=n(1702),s=n(1340),u=n(7066),c=n(2999),l=n(2309),d=n(30),h=n(9909).get,f=n(9441),p=n(7168),y=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=a("".charAt),m=a("".indexOf),k=a("".replace),_=a("".slice),x=(i=/b*/g,o(v,r=/a/,"a"),o(v,i,"a"),0!==r.lastIndex||0!==i.lastIndex),w=c.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(x||E||w||f||p)&&(g=function(t){var e,n,r,i,a,c,l,f=this,p=h(f),M=s(t),O=p.raw;if(O)return O.lastIndex=f.lastIndex,e=o(g,O,M),f.lastIndex=O.lastIndex,e;var S=p.groups,j=w&&f.sticky,I=o(u,f),A=f.source,H=0,C=M;if(j&&(I=k(I,"y",""),-1===m(I,"g")&&(I+="g"),C=_(M,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==b(M,f.lastIndex-1))&&(A="(?: "+A+")",C=" "+C,H++),n=new RegExp("^(?:"+A+")",I)),E&&(n=new RegExp("^"+A+"$(?!\\s)",I)),x&&(r=f.lastIndex),i=o(v,j?n:f,C),j?i?(i.input=_(i.input,H),i[0]=_(i[0],H),i.index=f.lastIndex,f.lastIndex+=i[0].length):f.lastIndex=0:x&&i&&(f.lastIndex=f.global?i.index+i[0].length:r),E&&i&&i.length>1&&o(y,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&S)for(i.groups=c=d(null),a=0;a<S.length;a++)c[(l=S[a])[0]]=i[l[1]];return i}),t.exports=g},7066:function(t,e,n){var r=n(9670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},4706:function(t,e,n){var r=n(6916),i=n(2597),o=n(7976),a=n(7066),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||i(t,"flags")||!o(s,t)?e:r(a,t)}},2999:function(t,e,n){var r=n(7293),i=n(7854).RegExp,o=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},9441:function(t,e,n){var r=n(7293),i=n(7854).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,e,n){var r=n(7293),i=n(7854).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,e,n){var r=n(7854).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6340:function(t,e,n){var r=n(5005),i=n(3070),o=n(5112),a=n(9781),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var r=n(3070).f,i=n(2597),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.5",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(t,e,n){var r=n(9670),i=n(9483),o=n(5112)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},8710:function(t,e,n){var r=n(1702),i=n(9303),o=n(1340),a=n(4488),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(t){return function(e,n){var r,l,d=o(a(e)),h=i(n),f=d.length;return h<0||h>=f?t?"":void 0:(r=u(d,h))<55296||r>56319||h+1===f||(l=u(d,h+1))<56320||l>57343?t?s(d,h):r:t?c(d,h,h+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},6091:function(t,e,n){var r=n(6530).PROPER,i=n(7293),o=n(1361);t.exports=function(t){return i((function(){return!!o[t]()||"​᠎"!=="​᠎"[t]()||r&&o[t].name!==t}))}},3111:function(t,e,n){var r=n(1702),i=n(4488),o=n(1340),a=n(1361),s=r("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),d=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,c,"")),2&t&&(n=s(n,l,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},6532:function(t,e,n){var r=n(6916),i=n(5005),o=n(5112),a=n(8052);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return r(n,this)}),{arity:1})}},863:function(t,e,n){var r=n(1702);t.exports=r(1..valueOf)},1400:function(t,e,n){var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!=r||0===r?0:(r>0?n:e)(r)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(7854),i=n(4488),o=r.Object;t.exports=function(t){return o(i(t))}},7593:function(t,e,n){var r=n(7854),i=n(6916),o=n(111),a=n(2190),s=n(8173),u=n(2140),c=n(5112),l=r.TypeError,d=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,r=s(t,d);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},1340:function(t,e,n){var r=n(7854),i=n(648),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:function(t,e,n){var r=n(7854).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},9711:function(t,e,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},6061:function(t,e,n){var r=n(5112);e.f=r},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(133),u=n(3307),c=i("wks"),l=r.Symbol,d=l&&l.for,h=u?l:l&&l.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(l,t)?c[t]=l[t]:c[t]=u&&d?d(e):h(e)}return c[t]}},1361:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2222:function(t,e,n){var r=n(2109),i=n(7854),o=n(7293),a=n(3157),s=n(111),u=n(7908),c=n(6244),l=n(6135),d=n(5417),h=n(1194),f=n(5112),p=n(7392),y=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",b=i.TypeError,m=p>=51||!o((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),k=h("concat"),_=function(t){if(!s(t))return!1;var e=t[y];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,arity:1,forced:!m||!k},{concat:function(t){var e,n,r,i,o,a=u(this),s=d(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(_(o=-1===e?a:arguments[e])){if(h+(i=c(o))>v)throw b(g);for(n=0;n<i;n++,h++)n in o&&l(s,h,o[n])}else{if(h>=v)throw b(g);l(s,h++,o)}return s.length=h,s}})},7327:function(t,e,n){var r=n(2109),i=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:function(t,e,n){var r=n(2109),i=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(t){Array.from(t)}))},{from:i})},6699:function(t,e,n){var r=n(2109),i=n(1318).includes,o=n(7293),a=n(1223);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},2772:function(t,e,n){var r=n(2109),i=n(1702),o=n(1318).indexOf,a=n(9341),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0,c=a("indexOf");r({target:"Array",proto:!0,forced:u||!c},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:o(this,t,e)}})},6992:function(t,e,n){var r=n(5656),i=n(1223),o=n(7497),a=n(9909),s=n(3070).f,u=n(654),c=n(1913),l=n(9781),d="Array Iterator",h=a.set,f=a.getterFor(d);t.exports=u(Array,"Array",(function(t,e){h(this,{type:d,target:r(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(t){}},9600:function(t,e,n){var r=n(2109),i=n(1702),o=n(8361),a=n(5656),s=n(9341),u=i([].join),c=o!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(t){return u(a(this),void 0===t?",":t)}})},1249:function(t,e,n){var r=n(2109),i=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},5827:function(t,e,n){var r=n(2109),i=n(3671).left,o=n(9341),a=n(7392),s=n(5268);r({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},7042:function(t,e,n){var r=n(2109),i=n(7854),o=n(3157),a=n(4411),s=n(111),u=n(1400),c=n(6244),l=n(5656),d=n(6135),h=n(5112),f=n(1194),p=n(206),y=f("slice"),v=h("species"),g=i.Array,b=Math.max;r({target:"Array",proto:!0,forced:!y},{slice:function(t,e){var n,r,i,h=l(this),f=c(h),y=u(t,f),m=u(void 0===e?f:e,f);if(o(h)&&(n=h.constructor,(a(n)&&(n===g||o(n.prototype))||s(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return p(h,y,m);for(r=new(void 0===n?g:n)(b(m-y,0)),i=0;y<m;y++,i++)y in h&&d(r,i,h[y]);return r.length=i,r}})},2707:function(t,e,n){var r=n(2109),i=n(1702),o=n(9662),a=n(7908),s=n(6244),u=n(1340),c=n(7293),l=n(4362),d=n(9341),h=n(8886),f=n(256),p=n(7392),y=n(8008),v=[],g=i(v.sort),b=i(v.push),m=c((function(){v.sort(void 0)})),k=c((function(){v.sort(null)})),_=d("sort"),x=!c((function(){if(p)return p<70;if(!(h&&h>3)){if(f)return!0;if(y)return y<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:e+r,v:n})}for(v.sort((function(t,e){return e.v-t.v})),r=0;r<v.length;r++)e=v[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:m||!k||!_||!x},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(x)return void 0===t?g(e):g(e,t);var n,r,i=[],c=s(e);for(r=0;r<c;r++)r in e&&b(i,e[r]);for(l(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}}(t)),n=i.length,r=0;r<n;)e[r]=i[r++];for(;r<c;)delete e[r++];return e}})},561:function(t,e,n){var r=n(2109),i=n(7854),o=n(1400),a=n(9303),s=n(6244),u=n(7908),c=n(5417),l=n(6135),d=n(1194)("splice"),h=i.TypeError,f=Math.max,p=Math.min,y=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,r,i,d,g,b,m=u(this),k=s(m),_=o(t,k),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=k-_):(n=x-2,r=p(f(a(e),0),k-_)),k+n-r>y)throw h(v);for(i=c(m,r),d=0;d<r;d++)(g=_+d)in m&&l(i,d,m[g]);if(i.length=r,n<r){for(d=_;d<k-r;d++)b=d+n,(g=d+r)in m?m[b]=m[g]:delete m[b];for(d=k;d>k-r+n;d--)delete m[d-1]}else if(n>r)for(d=k-r;d>_;d--)b=d+n-1,(g=d+r-1)in m?m[b]=m[g]:delete m[b];for(d=0;d<n;d++)m[d+_]=arguments[d+2];return m.length=k-r+n,i}})},8309:function(t,e,n){var r=n(9781),i=n(6530).EXISTS,o=n(1702),a=n(3070).f,s=Function.prototype,u=o(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(c.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(t){return""}}})},8862:function(t,e,n){var r=n(2109),i=n(5005),o=n(2104),a=n(6916),s=n(1702),u=n(7293),c=n(3157),l=n(614),d=n(111),h=n(2190),f=n(206),p=n(133),y=i("JSON","stringify"),v=s(/./.exec),g=s("".charAt),b=s("".charCodeAt),m=s("".replace),k=s(1..toString),_=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,E=!p||u((function(){var t=i("Symbol")();return"[null]"!=y([t])||"{}"!=y({a:t})||"{}"!=y(Object(t))})),M=u((function(){return'"\\udf06\\ud834"'!==y("\udf06\ud834")||'"\\udead"'!==y("\udead")})),O=function(t,e){var n=f(arguments),r=e;if((d(e)||void 0!==t)&&!h(t))return c(e)||(e=function(t,e){if(l(r)&&(e=a(r,this,t,e)),!h(e))return e}),n[1]=e,o(y,null,n)},S=function(t,e,n){var r=g(n,e-1),i=g(n,e+1);return v(x,t)&&!v(w,i)||v(w,t)&&!v(x,r)?"\\u"+k(b(t,0),16):t};y&&r({target:"JSON",stat:!0,arity:3,forced:E||M},{stringify:function(t,e,n){var r=f(arguments),i=o(E?O:y,null,r);return M&&"string"==typeof i?m(i,_,S):i}})},9653:function(t,e,n){var r=n(9781),i=n(7854),o=n(1702),a=n(4705),s=n(8052),u=n(2597),c=n(9587),l=n(7976),d=n(2190),h=n(7593),f=n(7293),p=n(8006).f,y=n(1236).f,v=n(3070).f,g=n(863),b=n(3111).trim,m="Number",k=i.Number,_=k.prototype,x=i.TypeError,w=o("".slice),E=o("".charCodeAt),M=function(t){var e=h(t,"number");return"bigint"==typeof e?e:O(e)},O=function(t){var e,n,r,i,o,a,s,u,c=h(t,"number");if(d(c))throw x("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=b(c),43===(e=E(c,0))||45===e){if(88===(n=E(c,2))||120===n)return NaN}else if(48===e){switch(E(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=w(c,2)).length,s=0;s<a;s++)if((u=E(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(a(m,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var S,j=function(t){var e=arguments.length<1?0:k(M(t)),n=this;return l(_,n)&&f((function(){g(n)}))?c(Object(e),n,j):e},I=r?p(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;I.length>A;A++)u(k,S=I[A])&&!u(j,S)&&v(j,S,y(k,S));j.prototype=_,_.constructor=j,s(i,m,j,{constructor:!0})}},3161:function(t,e,n){n(2109)({target:"Number",stat:!0},{isInteger:n(5988)})},9601:function(t,e,n){var r=n(2109),i=n(1574);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},9595:function(t,e,n){var r=n(2109),i=n(9781),o=n(9026),a=n(9662),s=n(7908),u=n(3070);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){u.f(s(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},5003:function(t,e,n){var r=n(2109),i=n(7293),o=n(5656),a=n(1236).f,s=n(9781),u=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},9337:function(t,e,n){var r=n(2109),i=n(9781),o=n(3887),a=n(5656),s=n(1236),u=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=s.f,c=o(r),l={},d=0;c.length>d;)void 0!==(n=i(r,e=c[d++]))&&u(l,e,n);return l}})},6210:function(t,e,n){var r=n(2109),i=n(7293),o=n(1156).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},9660:function(t,e,n){var r=n(2109),i=n(133),o=n(7293),a=n(5181),s=n(7908);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},7941:function(t,e,n){var r=n(2109),i=n(7908),o=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},1539:function(t,e,n){var r=n(1694),i=n(8052),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},4603:function(t,e,n){var r=n(9781),i=n(7854),o=n(1702),a=n(4705),s=n(9587),u=n(8880),c=n(8006).f,l=n(7976),d=n(7850),h=n(1340),f=n(4706),p=n(2999),y=n(2626),v=n(8052),g=n(7293),b=n(2597),m=n(9909).enforce,k=n(6340),_=n(5112),x=n(9441),w=n(7168),E=_("match"),M=i.RegExp,O=M.prototype,S=i.SyntaxError,j=o(O.exec),I=o("".charAt),A=o("".replace),H=o("".indexOf),C=o("".slice),P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,R=/a/g,B=new M(L)!==L,T=p.MISSED_STICKY,D=p.UNSUPPORTED_Y;if(a("RegExp",r&&(!B||T||x||w||g((function(){return R[E]=!1,M(L)!=L||M(R)==R||"/a/i"!=M(L,"i")}))))){for(var N=function(t,e){var n,r,i,o,a,c,p=l(O,this),y=d(t),v=void 0===e,g=[],k=t;if(!p&&y&&v&&t.constructor===N)return t;if((y||l(O,t))&&(t=t.source,v&&(e=f(k))),t=void 0===t?"":h(t),e=void 0===e?"":h(e),k=t,x&&"dotAll"in L&&(r=!!e&&H(e,"s")>-1)&&(e=A(e,/s/g,"")),n=e,T&&"sticky"in L&&(i=!!e&&H(e,"y")>-1)&&D&&(e=A(e,/y/g,"")),w&&(t=(o=function(t){for(var e,n=t.length,r=0,i="",o=[],a={},s=!1,u=!1,c=0,l="";r<=n;r++){if("\\"===(e=I(t,r)))e+=I(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:j(P,C(t,r+1))&&(r+=2,u=!0),i+=e,c++;continue;case">"===e&&u:if(""===l||b(a,l))throw new S("Invalid capture group name");a[l]=!0,o[o.length]=[l,c],u=!1,l="";continue}u?l+=e:i+=e}return[i,o]}(t))[0],g=o[1]),a=s(M(t,e),p?this:O,N),(r||i||g.length)&&(c=m(a),r&&(c.dotAll=!0,c.raw=N(function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=I(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+I(t,++r);return i}(t),n)),i&&(c.sticky=!0),g.length&&(c.groups=g)),t!==k)try{u(a,"source",""===k?"(?:)":k)}catch(t){}return a},K=c(M),F=0;K.length>F;)y(N,M,K[F++]);O.constructor=N,N.prototype=O,v(i,"RegExp",N,{constructor:!0})}k("RegExp")},4916:function(t,e,n){var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:function(t,e,n){var r=n(6530).PROPER,i=n(8052),o=n(9670),a=n(1340),s=n(7293),u=n(4706),c="toString",l=RegExp.prototype.toString,d=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),h=r&&l.name!=c;(d||h)&&i(RegExp.prototype,c,(function(){var t=o(this);return"/"+a(t.source)+"/"+a(u(t))}),{unsafe:!0})},2023:function(t,e,n){var r=n(2109),i=n(1702),o=n(3929),a=n(4488),s=n(1340),u=n(4964),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},8783:function(t,e,n){var r=n(8710).charAt,i=n(1340),o=n(9909),a=n(654),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:i(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},6373:function(t,e,n){var r=n(2109),i=n(7854),o=n(6916),a=n(1702),s=n(4994),u=n(4488),c=n(7466),l=n(1340),d=n(9670),h=n(4326),f=n(7850),p=n(4706),y=n(8173),v=n(8052),g=n(7293),b=n(5112),m=n(6707),k=n(1530),_=n(7651),x=n(9909),w=n(1913),E=b("matchAll"),M="RegExp String",O="RegExp String Iterator",S=x.set,j=x.getterFor(O),I=RegExp.prototype,A=i.TypeError,H=a("".indexOf),C=a("".matchAll),P=!!C&&!g((function(){C("a",/./)})),L=s((function(t,e,n,r){S(this,{type:O,regexp:t,string:e,global:n,unicode:r,done:!1})}),M,(function(){var t=j(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=_(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""===l(r[0])&&(e.lastIndex=k(n,c(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),R=function(t){var e,n,r,i=d(this),o=l(t),a=m(i,RegExp),s=l(p(i));return e=new a(a===RegExp?i.source:i,s),n=!!~H(s,"g"),r=!!~H(s,"u"),e.lastIndex=c(i.lastIndex),new L(e,o,n,r)};r({target:"String",proto:!0,forced:P},{matchAll:function(t){var e,n,r,i,a=u(this);if(null!=t){if(f(t)&&(e=l(u(p(t))),!~H(e,"g")))throw A("`.matchAll` does not allow non-global regexes");if(P)return C(a,t);if(void 0===(r=y(t,E))&&w&&"RegExp"==h(t)&&(r=R),r)return o(r,t,a)}else if(P)return C(a,t);return n=l(a),i=new RegExp(t,"g"),w?o(R,i,n):i[E](n)}}),w||E in I||v(I,E,R)},4723:function(t,e,n){var r=n(6916),i=n(7007),o=n(9670),a=n(7466),s=n(1340),u=n(4488),c=n(8173),l=n(1530),d=n(7651);i("match",(function(t,e,n){return[function(e){var n=u(this),i=null==e?void 0:c(e,t);return i?r(i,e,n):new RegExp(e)[t](s(n))},function(t){var r=o(this),i=s(t),u=n(e,r,i);if(u.done)return u.value;if(!r.global)return d(r,i);var c=r.unicode;r.lastIndex=0;for(var h,f=[],p=0;null!==(h=d(r,i));){var y=s(h[0]);f[p]=y,""===y&&(r.lastIndex=l(i,a(r.lastIndex),c)),p++}return 0===p?null:f}]}))},5306:function(t,e,n){var r=n(2104),i=n(6916),o=n(1702),a=n(7007),s=n(7293),u=n(9670),c=n(614),l=n(9303),d=n(7466),h=n(1340),f=n(4488),p=n(1530),y=n(8173),v=n(647),g=n(7651),b=n(5112)("replace"),m=Math.max,k=Math.min,_=o([].concat),x=o([].push),w=o("".indexOf),E=o("".slice),M="$0"==="a".replace(/./,"$0"),O=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(t,e,n){var o=O?"$":"$0";return[function(t,n){var r=f(this),o=null==t?void 0:y(t,b);return o?i(o,t,r,n):i(e,h(r),t,n)},function(t,i){var a=u(this),s=h(t);if("string"==typeof i&&-1===w(i,o)&&-1===w(i,"$<")){var f=n(e,a,s,i);if(f.done)return f.value}var y=c(i);y||(i=h(i));var b=a.global;if(b){var M=a.unicode;a.lastIndex=0}for(var O=[];;){var S=g(a,s);if(null===S)break;if(x(O,S),!b)break;""===h(S[0])&&(a.lastIndex=p(s,d(a.lastIndex),M))}for(var j,I="",A=0,H=0;H<O.length;H++){for(var C=h((S=O[H])[0]),P=m(k(l(S.index),s.length),0),L=[],R=1;R<S.length;R++)x(L,void 0===(j=S[R])?j:String(j));var B=S.groups;if(y){var T=_([C],L,P,s);void 0!==B&&x(T,B);var D=h(r(i,void 0,T))}else D=v(C,s,P,L,B,i);P>=A&&(I+=E(s,A,P)+D,A=P+C.length)}return I+E(s,A)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!M||O)},3123:function(t,e,n){var r=n(2104),i=n(6916),o=n(1702),a=n(7007),s=n(7850),u=n(9670),c=n(4488),l=n(6707),d=n(1530),h=n(7466),f=n(1340),p=n(8173),y=n(1589),v=n(7651),g=n(2261),b=n(2999),m=n(7293),k=b.UNSUPPORTED_Y,_=4294967295,x=Math.min,w=[].push,E=o(/./.exec),M=o(w),O=o("".slice);a("split",(function(t,e,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var o=f(c(this)),a=void 0===n?_:n>>>0;if(0===a)return[];if(void 0===t)return[o];if(!s(t))return i(e,o,t,a);for(var u,l,d,h=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,b=new RegExp(t.source,p+"g");(u=i(g,b,o))&&!((l=b.lastIndex)>v&&(M(h,O(o,v,u.index)),u.length>1&&u.index<o.length&&r(w,h,y(u,1)),d=u[0].length,v=l,h.length>=a));)b.lastIndex===u.index&&b.lastIndex++;return v===o.length?!d&&E(b,"")||M(h,""):M(h,O(o,v)),h.length>a?y(h,0,a):h}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:i(e,this,t,n)}:e,[function(e,n){var r=c(this),a=null==e?void 0:p(e,t);return a?i(a,e,r,n):i(o,f(r),e,n)},function(t,r){var i=u(this),a=f(t),s=n(o,i,a,r,o!==e);if(s.done)return s.value;var c=l(i,RegExp),p=i.unicode,y=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(k?"g":"y"),g=new c(k?"^(?:"+i.source+")":i,y),b=void 0===r?_:r>>>0;if(0===b)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var m=0,w=0,E=[];w<a.length;){g.lastIndex=k?0:w;var S,j=v(g,k?O(a,w):a);if(null===j||(S=x(h(g.lastIndex+(k?w:0)),a.length))===m)w=d(a,w,p);else{if(M(E,O(a,m,w)),E.length===b)return E;for(var I=1;I<=j.length-1;I++)if(M(E,j[I]),E.length===b)return E;w=m=S}}return M(E,O(a,m)),E}]}),!!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),k)},3210:function(t,e,n){var r=n(2109),i=n(3111).trim;r({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return i(this)}})},4032:function(t,e,n){var r=n(2109),i=n(7854),o=n(6916),a=n(1702),s=n(1913),u=n(9781),c=n(133),l=n(7293),d=n(2597),h=n(7976),f=n(9670),p=n(5656),y=n(4948),v=n(1340),g=n(9114),b=n(30),m=n(1956),k=n(8006),_=n(1156),x=n(5181),w=n(1236),E=n(3070),M=n(6048),O=n(5296),S=n(8052),j=n(2309),I=n(6200),A=n(3501),H=n(9711),C=n(5112),P=n(6061),L=n(7235),R=n(6532),B=n(8003),T=n(9909),D=n(2092).forEach,N=I("hidden"),K="Symbol",F=T.set,U=T.getterFor(K),q=Object.prototype,z=i.Symbol,G=z&&z.prototype,$=i.TypeError,V=i.QObject,J=w.f,Y=E.f,Q=_.f,W=O.f,X=a([].push),Z=j("symbols"),tt=j("op-symbols"),et=j("wks"),nt=!V||!V.prototype||!V.prototype.findChild,rt=u&&l((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=J(q,e);r&&delete q[e],Y(t,e,n),r&&t!==q&&Y(q,e,r)}:Y,it=function(t,e){var n=Z[t]=b(G);return F(n,{type:K,tag:t,description:e}),u||(n.description=e),n},ot=function(t,e,n){t===q&&ot(tt,e,n),f(t);var r=y(e);return f(n),d(Z,r)?(n.enumerable?(d(t,N)&&t[N][r]&&(t[N][r]=!1),n=b(n,{enumerable:g(0,!1)})):(d(t,N)||Y(t,N,g(1,{})),t[N][r]=!0),rt(t,r,n)):Y(t,r,n)},at=function(t,e){f(t);var n=p(e),r=m(n).concat(lt(n));return D(r,(function(e){u&&!o(st,n,e)||ot(t,e,n[e])})),t},st=function(t){var e=y(t),n=o(W,this,e);return!(this===q&&d(Z,e)&&!d(tt,e))&&(!(n||!d(this,e)||!d(Z,e)||d(this,N)&&this[N][e])||n)},ut=function(t,e){var n=p(t),r=y(e);if(n!==q||!d(Z,r)||d(tt,r)){var i=J(n,r);return!i||!d(Z,r)||d(n,N)&&n[N][r]||(i.enumerable=!0),i}},ct=function(t){var e=Q(p(t)),n=[];return D(e,(function(t){d(Z,t)||d(A,t)||X(n,t)})),n},lt=function(t){var e=t===q,n=Q(e?tt:p(t)),r=[];return D(n,(function(t){!d(Z,t)||e&&!d(q,t)||X(r,Z[t])})),r};c||(S(G=(z=function(){if(h(G,this))throw $("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,e=H(t),n=function(t){this===q&&o(n,tt,t),d(this,N)&&d(this[N],e)&&(this[N][e]=!1),rt(this,e,g(1,t))};return u&&nt&&rt(q,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return U(this).tag})),S(z,"withoutSetter",(function(t){return it(H(t),t)})),O.f=st,E.f=ot,M.f=at,w.f=ut,k.f=_.f=ct,x.f=lt,P.f=function(t){return it(C(t),t)},u&&(Y(G,"description",{configurable:!0,get:function(){return U(this).description}}),s||S(q,"propertyIsEnumerable",st,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),D(m(et),(function(t){L(t)})),r({target:K,stat:!0,forced:!c},{useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?b(t):at(b(t),e)},defineProperty:ot,defineProperties:at,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ct}),R(),B(z,K),A[N]=!0},1817:function(t,e,n){var r=n(2109),i=n(9781),o=n(7854),a=n(1702),s=n(2597),u=n(614),c=n(7976),l=n(1340),d=n(3070).f,h=n(9920),f=o.Symbol,p=f&&f.prototype;if(i&&u(f)&&(!("description"in p)||void 0!==f().description)){var y={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(p,this)?new f(t):void 0===t?f():f(t);return""===t&&(y[e]=!0),e};h(v,f),v.prototype=p,p.constructor=v;var g="Symbol(test)"==String(f("test")),b=a(p.toString),m=a(p.valueOf),k=/^Symbol\((.*)\)[^)]+$/,_=a("".replace),x=a("".slice);d(p,"description",{configurable:!0,get:function(){var t=m(this),e=b(t);if(s(y,t))return"";var n=g?x(e,7,-1):_(e,k,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},763:function(t,e,n){var r=n(2109),i=n(5005),o=n(2597),a=n(1340),s=n(2309),u=n(735),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=a(t);if(o(c,e))return c[e];var n=i("Symbol")(e);return c[e]=n,l[n]=e,n}})},2165:function(t,e,n){n(7235)("iterator")},2526:function(t,e,n){n(4032),n(763),n(6620),n(8862),n(9660)},6620:function(t,e,n){var r=n(2109),i=n(2597),o=n(2190),a=n(6330),s=n(2309),u=n(735),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!o(t))throw TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},3728:function(t,e,n){n(6373)},4747:function(t,e,n){var r=n(7854),i=n(8324),o=n(8509),a=n(8533),s=n(8880),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(o)},3948:function(t,e,n){var r=n(7854),i=n(8324),o=n(8509),a=n(6992),s=n(8880),u=n(5112),c=u("iterator"),l=u("toStringTag"),d=a.values,h=function(t,e){if(t){if(t[c]!==d)try{s(t,c,d)}catch(e){t[c]=d}if(t[l]||s(t,l,e),i[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var f in i)h(r[f]&&r[f].prototype,f);h(o,"DOMTokenList")}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return function(){function t(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(r),n.d(r,{default:function(){return x}}),n(3210),n(4916),n(5306),n(2772),n(8309),n(3123),n(1539),n(9714),n(561),n(9600),n(9595),n(7042),"undefined"==typeof Element||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"undefined"!=typeof self&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var e="classList",n=t.Element.prototype,r=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new a("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","The token must not contain space characters.");return o.call(t,e)},u=function(t){for(var e=i.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,o=n.length;r<o;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=u.prototype=[],l=function(){return new u(this)};if(a.prototype=Error.prototype,c.item=function(t){return this[t]||null},c.contains=function(t){return~s(this,t+"")},c.add=function(){var t,e=arguments,n=0,r=e.length,i=!1;do{t=e[n]+"",~s(this,t)||(this.push(t),i=!0)}while(++n<r);i&&this._updateClassName()},c.remove=function(){var t,e,n=arguments,r=0,i=n.length,o=!1;do{for(t=n[r]+"",e=s(this,t);~e;)this.splice(e,1),o=!0,e=s(this,t)}while(++r<i);o&&this._updateClassName()},c.toggle=function(t,e){var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},c.replace=function(t,e){var n=s(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},c.toString=function(){return this.join(" ")},r.defineProperty){var d={get:l,enumerable:!0,configurable:!0};try{r.defineProperty(n,e,d)}catch(t){void 0!==t.number&&-2146823252!==t.number||(d.enumerable=!1,r.defineProperty(n,e,d))}}else r.prototype.__defineGetter__&&n.__defineGetter__(e,l)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),r=n.indexOf(t+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),n(7327),n(2222),n(7941),n(4603),n(3728),n(2707),n(6699),n(2023),n(4747),n(9601),n(1249),n(1038),n(8783),n(2526),n(5003),n(9337),n(1817),n(2165),n(6992),n(3948),n(3161),n(9653),n(4723),n(5827),n(6210);var u=function(){function n(t){var e=t.getOptions,r=t.getCaretPosition,i=t.getCaretPositionEnd,o=t.dispatch;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,"getOptions",void 0),s(this,"getCaretPosition",void 0),s(this,"getCaretPositionEnd",void 0),s(this,"dispatch",void 0),s(this,"maxLengthReached",void 0),s(this,"isStandardButton",(function(t){return t&&!("{"===t[0]&&"}"===t[t.length-1])})),this.getOptions=e,this.getCaretPosition=r,this.getCaretPositionEnd=i,this.dispatch=o,n.bindMethods(n,this)}var r,i,u;return r=n,u=[{key:"bindMethods",value:function(t,n){var r,i=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=e(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}(Object.getOwnPropertyNames(t.prototype));try{for(i.s();!(r=i.n()).done;){var o=r.value;"constructor"===o||"bindMethods"===o||(n[o]=n[o].bind(n))}}catch(t){i.e(t)}finally{i.f()}}}],(i=[{key:"getButtonType",value:function(t){return t.includes("{")&&t.includes("}")&&"{//}"!==t?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(t){var e=this.getButtonType(t),n=t.replace("{","").replace("}",""),r="";return"standardBtn"!==e&&(r=" hg-button-".concat(n)),"hg-".concat(e).concat(r)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(t,e,n){return(e=n?Object.assign({},this.getDefaultDiplay(),e):e||this.getDefaultDiplay())[t]||t}},{key:"getUpdatedInput",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.getOptions(),a=[n,r,i],s=e;return("{bksp}"===t||"{backspace}"===t)&&s.length>0?s=this.removeAt.apply(this,[s].concat(a)):("{delete}"===t||"{forwarddelete}"===t)&&s.length>0?s=this.removeForwardsAt.apply(this,[s].concat(a)):"{space}"===t?s=this.addStringAt.apply(this,[s," "].concat(a)):"{tab}"!==t||"boolean"==typeof o.tabCharOnTab&&!1===o.tabCharOnTab?"{enter}"!==t&&"{numpadenter}"!==t||!o.newLineOnEnter?t.includes("numpad")&&Number.isInteger(Number(t[t.length-2]))?s=this.addStringAt.apply(this,[s,t[t.length-2]].concat(a)):"{numpaddivide}"===t?s=this.addStringAt.apply(this,[s,"/"].concat(a)):"{numpadmultiply}"===t?s=this.addStringAt.apply(this,[s,"*"].concat(a)):"{numpadsubtract}"===t?s=this.addStringAt.apply(this,[s,"-"].concat(a)):"{numpadadd}"===t?s=this.addStringAt.apply(this,[s,"+"].concat(a)):"{numpaddecimal}"===t?s=this.addStringAt.apply(this,[s,"."].concat(a)):"{"===t||"}"===t?s=this.addStringAt.apply(this,[s,t].concat(a)):t.includes("{")||t.includes("}")||(s=this.addStringAt.apply(this,[s,t].concat(a))):s=this.addStringAt.apply(this,[s,"\n"].concat(a)):s=this.addStringAt.apply(this,[s,"\t"].concat(a)),s}},{key:"updateCaretPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.updateCaretPosAction(t,e);this.dispatch((function(t){t.setCaretPosition(n)}))}},{key:"updateCaretPosAction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getOptions(),r=this.getCaretPosition();return null!=r&&(e?r>0&&(r-=t):r+=t),n.debug&&console.log("Caret at:",r),r}},{key:"addStringAt",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return r||0===r?(n=[t.slice(0,r),e,t.slice(i)].join(""),this.isMaxLengthReached()||o&&this.updateCaretPos(e.length)):n=t+e,n}},{key:"removeAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===n&&0===r)return t;if(n===r){var o=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;n&&n>=0?t.substring(n-2,n).match(o)?(e=t.substr(0,n-2)+t.substr(n),i&&this.updateCaretPos(2,!0)):(e=t.substr(0,n-1)+t.substr(n),i&&this.updateCaretPos(1,!0)):t.slice(-2).match(o)?(e=t.slice(0,-2),i&&this.updateCaretPos(2,!0)):(e=t.slice(0,-1),i&&this.updateCaretPos(1,!0))}else e=t.slice(0,n)+t.slice(r),i&&this.dispatch((function(t){t.setCaretPosition(n)}));return e}},{key:"removeForwardsAt",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null==t||!t.length||null===n)return t;if(n===r){var o=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;e=t.substring(n,n+2).match(o)?t.substr(0,n)+t.substr(n+2):t.substr(0,n)+t.substr(n+1)}else e=t.slice(0,n)+t.slice(r),i&&this.dispatch((function(t){t.setCaretPosition(n)}));return e}},{key:"handleMaxLength",value:function(t,e){var n=this.getOptions(),r=n.maxLength,i=t[n.inputName||"default"],a=e.length-1>=r;if(e.length<=i.length)return!1;if(Number.isInteger(r))return n.debug&&console.log("maxLength (num) reached:",a),a?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if("object"===o(r)){var s=e.length-1>=r[n.inputName||"default"];return n.debug&&console.log("maxLength (obj) reached:",s),s?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return Boolean(this.maxLengthReached)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(t){return t?t.toLowerCase().trim().split(/[.\-_\s]/g).reduce((function(t,e){return e.length?t+e[0].toUpperCase()+e.slice(1):t})):""}},{key:"chunkArray",value:function(e,n){return t(Array(Math.ceil(e.length/n))).map((function(t,r){return e.slice(n*r,n+n*r)}))}}])&&a(r.prototype,i),u&&a(r,u),Object.defineProperty(r,"prototype",{writable:!1}),n}();s(u,"noop",(function(){}));var c=u;function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(){function t(e){var n=e.dispatch,r=e.getOptions;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"getOptions",void 0),d(this,"dispatch",void 0),this.dispatch=n,this.getOptions=r,c.bindMethods(t,this)}var e,n;return e=t,(n=[{key:"handleHighlightKeyDown",value:function(t){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(r){var i,o,a=r.getButtonElement(n),s=r.getButtonElement("{".concat(n,"}"));if(a)i=a,o=n;else{if(!s)return;i=s,o="{".concat(n,"}")}i&&(i.style.backgroundColor=e.physicalKeyboardHighlightBgColor||"#dadce4",i.style.color=e.physicalKeyboardHighlightTextColor||"black",e.physicalKeyboardHighlightPress&&(e.physicalKeyboardHighlightPressUsePointerEvents?i.onpointerdown():e.physicalKeyboardHighlightPressUseClick?i.click():r.handleButtonClicked(o,t)))}))}},{key:"handleHighlightKeyUp",value:function(t){var e=this.getOptions(),n=this.getSimpleKeyboardLayoutKey(t);this.dispatch((function(t){var r=t.getButtonElement(n)||t.getButtonElement("{".concat(n,"}"));r&&r.removeAttribute&&(r.removeAttribute("style"),e.physicalKeyboardHighlightPressUsePointerEvents&&r.onpointerup())}))}},{key:"getSimpleKeyboardLayoutKey",value:function(t){var e,n="",r=t.code||t.key||this.keyCodeToKey(null==t?void 0:t.keyCode);return(n=null!=r&&r.includes("Numpad")||null!=r&&r.includes("Shift")||null!=r&&r.includes("Space")||null!=r&&r.includes("Backspace")||null!=r&&r.includes("Control")||null!=r&&r.includes("Alt")||null!=r&&r.includes("Meta")?t.code||"":t.key||this.keyCodeToKey(null==t?void 0:t.keyCode)||"").length>1?null===(e=n)||void 0===e?void 0:e.toLowerCase():n}},{key:"keyCodeToKey",value:function(t){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[t]}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(){function t(e){var n=e.utilities;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"utilities",void 0),p(this,"candidateBoxElement",void 0),p(this,"pageIndex",0),p(this,"pageSize",void 0),this.utilities=n,c.bindMethods(t,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5}var e,n;return e=t,(n=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(t){var e=this,n=t.candidateValue,r=t.targetElement,i=t.onSelect;if(n&&n.length){var o=this.utilities.chunkArray(n.split(" "),this.pageSize);this.renderPage({candidateListPages:o,targetElement:r,pageIndex:this.pageIndex,nbPages:o.length,onItemSelected:function(t,n){i(t,n),e.destroy()}})}}},{key:"renderPage",value:function(t){var e,n=this,r=t.candidateListPages,i=t.targetElement,o=t.pageIndex,a=t.nbPages,s=t.onItemSelected;null===(e=this.candidateBoxElement)||void 0===e||e.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var u=document.createElement("ul");u.className="hg-candidate-box-list",r[o].forEach((function(t){var e=document.createElement("li"),n=function(){var t=new MouseEvent("click");return Object.defineProperty(t,"target",{value:e}),t};e.className="hg-candidate-box-list-item",e.textContent=t,e.onclick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n();return s(t,e)},u.appendChild(e)}));var c=o>0,l=document.createElement("div");l.classList.add("hg-candidate-box-prev"),c&&l.classList.add("hg-candidate-box-btn-active"),l.onclick=function(){c&&n.renderPage({candidateListPages:r,targetElement:i,pageIndex:o-1,nbPages:a,onItemSelected:s})},this.candidateBoxElement.appendChild(l),this.candidateBoxElement.appendChild(u);var d=o<a-1,h=document.createElement("div");h.classList.add("hg-candidate-box-next"),d&&h.classList.add("hg-candidate-box-btn-active"),h.onclick=function(){d&&n.renderPage({candidateListPages:r,targetElement:i,pageIndex:o+1,nbPages:a,onItemSelected:s})},this.candidateBoxElement.appendChild(h),i.prepend(this.candidateBoxElement)}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(){function t(e,n){var r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,"input",void 0),_(this,"options",void 0),_(this,"utilities",void 0),_(this,"caretPosition",void 0),_(this,"caretPositionEnd",void 0),_(this,"keyboardDOM",void 0),_(this,"keyboardPluginClasses",void 0),_(this,"keyboardDOMClass",void 0),_(this,"buttonElements",void 0),_(this,"currentInstanceName",void 0),_(this,"allKeyboardInstances",void 0),_(this,"keyboardInstanceNames",void 0),_(this,"isFirstKeyboardInstance",void 0),_(this,"physicalKeyboard",void 0),_(this,"modules",void 0),_(this,"activeButtonClass",void 0),_(this,"holdInteractionTimeout",void 0),_(this,"holdTimeout",void 0),_(this,"isMouseHold",void 0),_(this,"initialized",void 0),_(this,"candidateBox",void 0),_(this,"keyboardRowsDOM",void 0),_(this,"defaultName","default"),_(this,"activeInputElement",null),_(this,"handleParams",(function(t,e){var n,r,i;if("string"==typeof t)n=t.split(".").join(""),r=document.querySelector(".".concat(n)),i=e;else if(t instanceof HTMLDivElement){if(!t.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");n=t.className.split(" ")[0],r=t,i=e}else n="simple-keyboard",r=document.querySelector(".".concat(n)),i=t;return{keyboardDOMClass:n,keyboardDOM:r,options:i}})),_(this,"getOptions",(function(){return r.options})),_(this,"getCaretPosition",(function(){return r.caretPosition})),_(this,"getCaretPositionEnd",(function(){return r.caretPositionEnd})),_(this,"registerModule",(function(t,e){r.modules[t]||(r.modules[t]={}),e(r.modules[t])})),_(this,"getKeyboardClassString",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=[r.keyboardDOMClass].concat(e).filter((function(t){return!!t}));return i.join(" ")})),"undefined"!=typeof window){var i=this.handleParams(e,n),o=i.keyboardDOMClass,a=i.keyboardDOM,s=i.options,u=void 0===s?{}:s;this.utilities=new c({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=a,this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},u),this.keyboardPluginClasses="",c.bindMethods(t,this);var l=this.options.inputName,d=void 0===l?this.defaultName:l;if(this.input={},this.input[d]="",this.keyboardDOMClass=o,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new h({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new y({utilities:this.utilities}):null,!this.keyboardDOM)throw console.warn('".'.concat(o,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}}var e,n;return e=t,(n=[{key:"setCaretPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.caretPosition=t,this.caretPositionEnd=e}},{key:"getInputCandidates",value:function(t){var e=this,n=this.options,r=n.layoutCandidates,i=n.layoutCandidatesCaseSensitiveMatch;if(!r||"object"!==b(r))return{};var o=Object.keys(r).filter((function(n){var r=t.substring(0,e.getCaretPositionEnd()||0)||t,o=new RegExp("".concat(n,"$"),i?"g":"gi");return!!v(r.matchAll(o)).length}));if(o.length>1){var a=o.sort((function(t,e){return e.length-t.length}))[0];return{candidateKey:a,candidateValue:r[a]}}if(o.length){var s=o[0];return{candidateKey:s,candidateValue:r[s]}}return{}}},{key:"showCandidatesBox",value:function(t,e,n){var r=this;this.candidateBox&&this.candidateBox.show({candidateValue:e,targetElement:n,onSelect:function(e,n){var i=r.options.layoutCandidatesCaseSensitiveMatch,o=e.normalize("NFD"),a=r.getInput(r.options.inputName,!0),s=r.getCaretPositionEnd()||0,u=a.substring(0,s||0)||a,c=new RegExp("".concat(t,"$"),i?"g":"gi"),l=u.replace(c,o),d=a.replace(u,l),h=l.length-u.length,f=(s||a.length)+h;f<0&&(f=0),r.setInput(d,r.options.inputName,!0),r.setCaretPosition(f),"function"==typeof r.options.onChange&&r.options.onChange(r.getInput(r.options.inputName,!0),n),"function"==typeof r.options.onChangeAll&&r.options.onChangeAll(r.getAllInputs(),n)}})}},{key:"handleButtonClicked",value:function(t,e){var n=this.options,r=n.inputName,i=void 0===r?this.defaultName:r,o=n.debug;if("{//}"!==t){this.input[i]||(this.input[i]="");var a=this.utilities.getUpdatedInput(t,this.input[i],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(t)&&this.activeInputElement&&this.input[i]&&this.input[i]===a&&0===this.caretPosition&&this.caretPositionEnd===a.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(t,e);if("function"==typeof this.options.onKeyPress&&this.options.onKeyPress(t,e),this.input[i]!==a&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(a))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,a))return;var s=this.utilities.getUpdatedInput(t,this.input[i],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(s,this.options.inputName,!0),o&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")")),this.options.syncInstanceInputs&&this.syncInstanceInputs(),"function"==typeof this.options.onChange&&this.options.onChange(this.getInput(this.options.inputName,!0),e),"function"==typeof this.options.onChangeAll&&this.options.onChangeAll(this.getAllInputs(),e),null!=e&&e.target&&this.options.enableLayoutCandidates){var u,c=this.getInputCandidates(a),l=c.candidateKey,d=c.candidateValue;l&&d?this.showCandidatesBox(l,d,this.keyboardDOM):null===(u=this.candidateBox)||void 0===u||u.destroy()}}o&&console.log("Key pressed:",t)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(t){this.options.syncInstanceInputs?this.dispatch((function(e){e.isMouseHold=t})):this.isMouseHold=t}},{key:"handleButtonMouseDown",value:function(t,e){var n=this;e&&(this.options.preventMouseDownDefault&&e.preventDefault(),this.options.stopMouseDownPropagation&&e.stopPropagation(),e.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout((function(){(n.getMouseHold()&&(!t.includes("{")&&!t.includes("}")||"{delete}"===t||"{backspace}"===t||"{bksp}"===t||"{space}"===t||"{tab}"===t)||"{arrowright}"===t||"{arrowleft}"===t||"{arrowup}"===t||"{arrowdown}"===t)&&(n.options.debug&&console.log("Button held:",t),n.handleButtonHold(t)),clearTimeout(n.holdTimeout)}),500))}},{key:"handleButtonMouseUp",value:function(t,e){var n=this;e&&(this.options.preventMouseUpDefault&&e.preventDefault&&e.preventDefault(),this.options.stopMouseUpPropagation&&e.stopPropagation&&e.stopPropagation(),!(e.target===this.keyboardDOM||e.target&&this.keyboardDOM.contains(e.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(e.target===this.candidateBox.candidateBoxElement||e.target&&this.candidateBox.candidateBoxElement.contains(e.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons((function(t){t.classList.remove(n.activeButtonClass)})),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),t&&"function"==typeof this.options.onKeyReleased&&this.options.onKeyReleased(t)}},{key:"handleKeyboardContainerMouseDown",value:function(t){this.options.preventMouseDownDefault&&t.preventDefault()}},{key:"handleButtonHold",value:function(t){var e=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout((function(){e.getMouseHold()?(e.handleButtonClicked(t),e.handleButtonHold(t)):clearTimeout(e.holdInteractionTimeout)}),100)}},{key:"syncInstanceInputs",value:function(){var t=this;this.dispatch((function(e){e.replaceInput(t.input),e.setCaretPosition(t.caretPosition,t.caretPositionEnd)}))}},{key:"clearInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName;this.input[t]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.inputName||this.defaultName,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.syncInstanceInputs&&!e&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[t].replace("‫","").replace("‬","")+"‬":this.input[t]}},{key:"getAllInputs",value:function(){var t=this,e={};return Object.keys(this.input).forEach((function(n){e[n]=t.getInput(n,!0)})),e}},{key:"setInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.inputName||this.defaultName,n=arguments.length>2?arguments[2]:void 0;this.input[e]=t,!n&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(t){this.input=t}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.changedOptions(t);this.options=Object.assign(this.options,t),e.length&&(this.options.debug&&console.log("changedOptions",e),this.onSetOptions(e),this.render())}},{key:"changedOptions",value:function(t){var e=this;return Object.keys(t).filter((function(n){return JSON.stringify(t[n])!==JSON.stringify(e.options[n])}))}},{key:"onSetOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(t.includes("layoutCandidatesPageSize")||t.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new y({utilities:this.utilities}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.buttonElements={}}},{key:"dispatch",value:function(t){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach((function(e){t(window.SimpleKeyboardInstances[e],e)}))}},{key:"addButtonTheme",value:function(t,e){var n=this;e&&t&&(t.split(" ").forEach((function(r){e.split(" ").forEach((function(e){n.options.buttonTheme||(n.options.buttonTheme=[]);var i=!1;n.options.buttonTheme.map((function(t){if(null!=t&&t.class.split(" ").includes(e)){i=!0;var n=t.buttons.split(" ");n.includes(r)||(i=!0,n.push(r),t.buttons=n.join(" "))}return t})),i||n.options.buttonTheme.push({class:e,buttons:t})}))})),this.render())}},{key:"removeButtonTheme",value:function(t,e){var n=this;if(!t&&!e)return this.options.buttonTheme=[],void this.render();t&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(t.split(" ").forEach((function(t){var r,i;null===(r=n.options)||void 0===r||null===(i=r.buttonTheme)||void 0===i||i.map((function(r,i){if(r&&e&&e.includes(r.class)||!e){var o,a,s=null===(o=r)||void 0===o?void 0:o.buttons.split(" ").filter((function(e){return e!==t}));r&&null!=s&&s.length?r.buttons=s.join(" "):(null===(a=n.options.buttonTheme)||void 0===a||a.splice(i,1),r=null)}return r}))})),this.render())}},{key:"getButtonElement",value:function(t){var e,n=this.buttonElements[t];return n&&(e=n.length>1?n:n[0]),e}},{key:"inputPatternIsValid",value:function(t){var e,n=this.options.inputPattern;if((e=n instanceof RegExp?n:n[this.options.inputName||this.defaultName])&&t){var r=e.test(t);return this.options.debug&&console.log('inputPattern ("'.concat(e,'"): ').concat(r?"passed":"did not pass!")),r}return!0}},{key:"setEventListeners",value:function(){!this.isFirstKeyboardInstance&&this.allKeyboardInstances||(this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")")),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),document.addEventListener("select",this.handleSelect),document.addEventListener("selectionchange",this.handleSelectionChange))}},{key:"handleKeyUp",value:function(t){this.caretEventHandler(t),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(t)}},{key:"handleKeyDown",value:function(t){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(t)}},{key:"handleMouseUp",value:function(t){this.caretEventHandler(t)}},{key:"handleTouchEnd",value:function(t){this.caretEventHandler(t)}},{key:"handleSelect",value:function(t){this.caretEventHandler(t)}},{key:"handleSelectionChange",value:function(t){this.caretEventHandler(t)}},{key:"caretEventHandler",value:function(t){var e,n=this;t.target.tagName&&(e=t.target.tagName.toLowerCase()),this.dispatch((function(r){var i=t.target===r.keyboardDOM||t.target&&r.keyboardDOM.contains(t.target);("textarea"===e||"input"===e&&["text","search","url","tel","password"].includes(t.target.type))&&!r.options.disableCaretPositioning?(r.setCaretPosition(t.target.selectionStart,t.target.selectionEnd),n.activeInputElement=t.target,r.options.debug&&console.log("Caret at: ",r.getCaretPosition(),r.getCaretPositionEnd(),t&&t.target.tagName.toLowerCase(),"(".concat(r.keyboardDOMClass,")"))):!r.options.disableCaretPositioning&&i||"selectionchange"===(null==t?void 0:t.type)||(r.setCaretPosition(null),n.activeInputElement=null,r.options.debug&&console.log('Caret position reset due to "'.concat(null==t?void 0:t.type,'" event'),t))}))}},{key:"recurseButtons",value:function(t){var e=this;t&&Object.keys(this.buttonElements).forEach((function(n){return e.buttonElements[n].forEach(t)}))}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName)),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons((function(t){t&&(t.onpointerdown=null,t.onpointerup=null,t.onpointercancel=null,t.ontouchstart=null,t.ontouchend=null,t.ontouchcancel=null,t.onclick=null,t.onmousedown=null,t.onmouseup=null,t.remove(),t=null)})),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(t){var e=this.options.buttonTheme,n=[];return Array.isArray(e)&&e.forEach((function(e){if(e&&e.class&&"string"==typeof e.class&&e.buttons&&"string"==typeof e.buttons){var r=e.class.split(" ");e.buttons.split(" ").includes(t)&&(n=[].concat(v(n),v(r)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',e)})),n}},{key:"setDOMButtonAttributes",value:function(t,e){var n=this.options.buttonAttributes;Array.isArray(n)&&n.forEach((function(n){n.attribute&&"string"==typeof n.attribute&&n.value&&"string"==typeof n.value&&n.buttons&&"string"==typeof n.buttons?n.buttons.split(" ").includes(t)&&e(n.attribute,n.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',n)}))}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(t){if(t.target.classList.contains("hg-button"))return t.preventDefault(),t.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),"function"==typeof this.options.onInit&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),"function"==typeof this.options.beforeFirstRender&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){"function"==typeof this.options.beforeRender&&this.options.beforeRender(this)}},{key:"onRender",value:function(){"function"==typeof this.options.onRender&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){"function"==typeof this.options.onModulesLoaded&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var t=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach((function(e){var n=new e(t);n.init&&n.init(t)})),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(t,e){return!!this.modules[t]&&this.modules[t][e]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(t,e,n,r){var i=this,o=Array.from(t.children),a=0;return o.length&&n.forEach((function(n,s){var u=r[s];if(!(u&&u>n))return!1;var c=n-a,l=u-a,d=document.createElement("div");d.className+="hg-button-container";var h="".concat(i.options.layoutName,"-r").concat(e,"c").concat(s);d.setAttribute("data-skUID",h);var f=o.splice(c,l-c+1);a=l-c,f.forEach((function(t){return d.appendChild(t)})),o.splice(c,0,d),t.innerHTML="",o.forEach((function(e){return t.appendChild(e)})),i.options.debug&&console.log("rowDOMContainer",f,c,l,a+1)})),t}},{key:"render",value:function(){var t=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var e="hg-layout-".concat(this.options.layoutName),n=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},r=this.options.useTouchEvents||!1,i=r?"hg-touch-events":"",o=this.options.useMouseEvents||!1,a=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,e,this.keyboardPluginClasses,i),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",n[this.options.layoutName||this.defaultName].forEach((function(e,n){var i=e.split(" ");t.options.excludeFromLayout&&t.options.excludeFromLayout[t.options.layoutName||t.defaultName]&&(i=i.filter((function(e){return t.options.excludeFromLayout&&!t.options.excludeFromLayout[t.options.layoutName||t.defaultName].includes(e)})));var s=document.createElement("div");s.className+="hg-row";var u=[],c=[];i.forEach((function(e,i){var l,d=!a&&"string"==typeof e&&e.length>1&&0===e.indexOf("["),h=!a&&"string"==typeof e&&e.length>1&&e.indexOf("]")===e.length-1;d&&(u.push(i),e=e.replace(/\[/g,"")),h&&(c.push(i),e=e.replace(/\]/g,""));var f=t.utilities.getButtonClass(e),p=t.utilities.getButtonDisplayName(e,t.options.display,t.options.mergeDisplay),y=t.options.useButtonTag?"button":"div",g=document.createElement(y);g.className+="hg-button ".concat(f),(l=g.classList).add.apply(l,v(t.getButtonThemeClasses(e))),t.setDOMButtonAttributes(e,(function(t,e){g.setAttribute(t,e)})),t.activeButtonClass="hg-activeButton",!t.utilities.pointerEventsSupported()||r||o?r?(g.ontouchstart=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.ontouchend=function(n){t.handleButtonMouseUp(e,n)},g.ontouchcancel=function(n){t.handleButtonMouseUp(e,n)}):(g.onclick=function(n){t.setMouseHold(!1),t.handleButtonClicked(e,n)},g.onmousedown=function(n){t.handleButtonMouseDown(e,n)},g.onmouseup=function(n){t.handleButtonMouseUp(e,n)}):(g.onpointerdown=function(n){t.handleButtonClicked(e,n),t.handleButtonMouseDown(e,n)},g.onpointerup=function(n){t.handleButtonMouseUp(e,n)},g.onpointercancel=function(n){t.handleButtonMouseUp(e,n)}),g.setAttribute("data-skBtn",e);var b="".concat(t.options.layoutName,"-r").concat(n,"b").concat(i);g.setAttribute("data-skBtnUID",b);var m=document.createElement("span");m.innerHTML=p,g.appendChild(m),t.buttonElements[e]||(t.buttonElements[e]=[]),t.buttonElements[e].push(g),s.appendChild(g)})),s=t.parseRowDOMContainers(s,n,u,c),t.keyboardRowsDOM.appendChild(s)})),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||r||o?r?(document.ontouchend=function(e){return t.handleButtonMouseUp(void 0,e)},document.ontouchcancel=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.ontouchstart=function(e){return t.handleKeyboardContainerMouseDown(e)}):r||(document.onmouseup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onmousedown=function(e){return t.handleKeyboardContainerMouseDown(e)}):(document.onpointerup=function(e){return t.handleButtonMouseUp(void 0,e)},this.keyboardDOM.onpointerdown=function(e){return t.handleKeyboardContainerMouseDown(e)}),this.onInit())}}])&&k(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()}(),r}()}(gt);var bt=p(gt.exports),mt={exports:{}};
/*!
   * 
   *   simple-keyboard-key-navigation v2.4.157
   *   https://github.com/hodgef/simple-keyboard-key-navigation
   * 
   *   Copyright (c) Francisco Hodge (https://github.com/hodgef)
   * 
   *   This source code is licensed under the MIT license found in the
   *   LICENSE file in the root directory of this source tree.
   * 
   */
!function(t,e){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var r=n(2),i=n.n(r),o=n(3),a=n.n(o)()(i.a);a.push([t.i,'.simple-keyboard .hg-button.hg-standardBtn.hg-keyMarker,\n.simple-keyboard .hg-button.hg-functionBtn.hg-keyMarker,\n.simple-keyboard .hg-candidate-box-list-item.hg-keyMarker,\n.simple-keyboard .hg-candidate-box-close.hg-keyMarker {\n  box-shadow: 0 0 0 2px #88b8ff;\n  border-radius: 5px;\n}\n\n.simple-keyboard .hg-candidate-box-close {\n  align-items: center;\n  display: flex;\n  height: 40px;\n  justify-content: center;\n  width: 40px;\n}\n\n.simple-keyboard .hg-candidate-box-close::after {\n  content: "X";\n}\n',"",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA;;;;EAIE,6BAA6B;EAC7B,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,aAAa;EACb,YAAY;EACZ,uBAAuB;EACvB,WAAW;AACb;;AAEA;EACE,YAAY;AACd",sourcesContent:['.simple-keyboard .hg-button.hg-standardBtn.hg-keyMarker,\n.simple-keyboard .hg-button.hg-functionBtn.hg-keyMarker,\n.simple-keyboard .hg-candidate-box-list-item.hg-keyMarker,\n.simple-keyboard .hg-candidate-box-close.hg-keyMarker {\n  box-shadow: 0 0 0 2px #88b8ff;\n  border-radius: 5px;\n}\n\n.simple-keyboard .hg-candidate-box-close {\n  align-items: center;\n  display: flex;\n  height: 40px;\n  justify-content: center;\n  width: 40px;\n}\n\n.simple-keyboard .hg-candidate-box-close::after {\n  content: "X";\n}\n'],sourceRoot:""}]),e.a=a},function(t,e,n){var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],u=e.base?o[0]+e.base:o[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var d=s(l),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:l,updater:v(h,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,y=0;function v(t,e){var n,r,i;if(e.singleton){var o=y++;n=p||(p=c(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=c(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=u(t,e),c=0;c<n.length;c++){var l=s(n[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=o}}}},function(t,e,n){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var e=r(t,4),n=e[1],i=e[3];if(!i)return n;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),s="/*# ".concat(a," */"),u=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(u).concat([s]).join("\n")}return[n].join("\n")}},function(t,e,n){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){n.r(e);var r=n(1),i=n.n(r),o=n(0),a={insert:"head",singleton:!1};function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}i()(o.a,a),o.a.locals;var d=l((function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"init",(function(t){t.registerModule("keyNavigation",(function(e){e.initMarkerPos=[0,0],e.lastMarkerPos=e.initMarkerPos,e.initVars=function(n){e.markerPosition={row:0,button:0},e.layoutName=n||"",e.step=t.options.keyNavigationStep||1},e.initMarker=function(){var t=e.getButtonAt.apply(e,s(e.lastMarkerPos))?e.lastMarkerPos:e.initMarkerPos;e.setMarker.apply(e,s(t))},e.getButtonAt=function(n,r){var i=e.layoutName;return t.keyboardDOM.querySelector('.hg-button[data-skbtnuid="'.concat(i,"-r").concat(n,"b").concat(r,'"]'))},e.setMarker=function(n,r){var i=e.getButtonAt(n,r);return i?(e.markedBtn&&(e.markedBtn.classList.remove("hg-keyMarker"),t.options.markerColor&&(e.markedBtn.style="")),i.classList.add("hg-keyMarker"),t.options.focusOnNavigation&&i.focus&&i.focus(),t.options.markerColor&&(i.style="box-shadow: 0 0 0 2px ".concat(t.options.markerColor)),e.markedBtn=i,e.lastMarkerPos=[n,r],e.markerPosition={row:n,button:r},!0):(t.options.debug&&console.log("SimpleKeyboardKeyNavigation: Button default-r".concat(n,"b").concat(r," doesnt exist!")),!1)},e.up=function(){document.querySelector(".hg-candidate-box")&&t.candidateBox.destroy();var n=e.markerPosition.row-e.step,r=e.markerPosition.button;if(!e.getButtonAt(n,r))for(var i=r;0<=i;i--)if(e.getButtonAt(n,i)){r=i;break}e.setMarker(n,r)},e.down=function(){document.querySelector(".hg-candidate-box")&&t.candidateBox.destroy();var n=e.markerPosition.row+e.step,r=e.markerPosition.button;if(!e.getButtonAt(n,r))for(var i=r;0<=i;i--)if(e.getButtonAt(n,i)){r=i;break}e.setMarker(n,r)},e.right=function(){if(document.querySelector(".hg-candidate-box")){var n=t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").nextElementSibling;if(n)t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").classList.remove("hg-keyMarker"),n.classList.add("hg-keyMarker");else{var r=t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-next.hg-candidate-box-btn-active");r&&(r.click(),e.createCloseButton(),t.candidateBox.candidateBoxElement.querySelector("li").classList.add("hg-keyMarker"))}}else{var i=e.markerPosition.row,o=e.markerPosition.button+e.step;e.setMarker(i,o)}},e.left=function(){if(document.querySelector(".hg-candidate-box")){var n=t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").previousElementSibling;if(n)t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").classList.remove("hg-keyMarker"),n.classList.add("hg-keyMarker");else{var r=t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-prev.hg-candidate-box-btn-active");r&&(r.click(),e.createCloseButton(),t.candidateBox.candidateBoxElement.querySelector("ul li:last-child").classList.add("hg-keyMarker"))}}else{var i=e.markerPosition.row,o=e.markerPosition.button-e.step;e.setMarker(i,o)}},e.press=function(){e.markedBtn&&((!t.candidateBox||!document.querySelector(".hg-candidate-box"))&&(t.options.keyNavigationPressUseClick?e.markedBtn.click():t.handleButtonClicked(e.markedBtn.getAttribute("data-skbtn"),{target:e.markedBtn})),document.querySelector(".hg-candidate-box")&&(t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-close")?t.candidateBox.candidateBoxElement.querySelector(".hg-candidate-box-list .hg-keyMarker").click():(e.createCloseButton(),t.candidateBox.candidateBoxElement.querySelector("li").classList.add("hg-keyMarker"))))},e.createCloseButton=function(){var e=document.createElement("li");e.onclick=function(){return t.candidateBox.destroy()},e.className="hg-candidate-box-close",t.candidateBox.candidateBoxElement.querySelector("ul").prepend(e)},e.init=function(){e.initVars(t.options.layoutName),e.initMarker()},e.fn={},e.fn.onRender=t.onRender,e.fn.onInit=t.onInit,t.onRender=function(){(t.options.layoutName!==e.layoutName||t.options.enableKeyNavigation!==e.enableKeyNavigation)&&t.options.enableKeyNavigation&&(t.options.debug&&console.log("SimpleKeyboardKeyNavigation: Refreshed"),e.init()),e.fn.onRender()},t.onInit=function(){t.options.enableKeyNavigation&&e.init(),e.fn.onInit()}}))}))}));e.default=d}])}(mt);var kt=p(mt.exports),_t=function(t){a(r,t);var e=l(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._joystick1=i.joystick1,t._joystick2=i.joystick2,t._buttonManager=i.buttonManager,t._isOpen=!1,t._bindAll(),t._container=t._createContainer(),t._keyboard=t._createKeyboard(),t._setupEventListeners(),t}return i(r,[{key:"open",value:function(){this._isOpen=!0,this._keyboard.clearInput(),this._container.style.transform="translateY(0%)"}},{key:"close",value:function(){this._isOpen=!1,this._container.style.transform="translateY(100%)"}},{key:"clear",value:function(){this._keyboard.clearInput()}},{key:"getInput",value:function(){return this._keyboard.getInput()}},{key:"_createContainer",value:function(){var t=document.createElement("div");return t.classList.add("simple-keyboard"),document.body.appendChild(t),t}},{key:"_createKeyboard",value:function(){return new bt({enableKeyNavigation:!0,useMouseEvents:!1,modules:[kt],layout:{default:["1 2 3 4 5 6 7 8 9 0 - = {bksp}","a z e r t y u i o p ?","q s d f g h j k l m '","w x c v b n , . ; / \\","@ {space} {enter}"]},display:{"{bksp}":"Effacer - B","{enter}":"Valider - D","{space}":"Espace - C"},onChange:this.inputHandler,onKeyPress:this._keypressHandler,onModulesLoaded:this._modulesLoadedHandler})}},{key:"_clickButton",value:function(t){var e=this._keyboard.buttonElements[t][0];this._keyboard.handleButtonClicked(t,{target:e}),e.classList.contains("active")||e.classList.add("active"),e.click()}},{key:"_clickActiveButton",value:function(){var t=this._keyboard.modules.keyNavigation.markedBtn,e=t.getAttribute("data-skbtn");this._keyboard.handleButtonClicked(e,{target:t}),t.classList.contains("active")||t.classList.add("active"),t.click()}},{key:"_bindAll",value:function(){this.inputHandler=this.inputHandler.bind(this),this._keypressHandler=this._keypressHandler.bind(this),this._modulesLoadedHandler=this._modulesLoadedHandler.bind(this),this._joystickQuickmoveHandler=this._joystickQuickmoveHandler.bind(this),this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._machineKeydownHandler=this._machineKeydownHandler.bind(this),this._machineKeyupHandler=this._machineKeyupHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._joystick1.addEventListener("joystick:quickmove",this._joystickQuickmoveHandler),this._buttonManager.addEventListener("keydown",this._machineKeydownHandler),this._buttonManager.addEventListener("keyup",this._machineKeyupHandler),window.addEventListener("keydown",this._keydownHandler),window.addEventListener("keyup",this._keyupHandler)}},{key:"inputHandler",value:function(t){this._isOpen&&this.dispatchEvent("input",t)}},{key:"_keypressHandler",value:function(t){this._isOpen&&(this.dispatchEvent("keypress",t),"{enter}"===t&&this._validatedHandler(t))}},{key:"_validatedHandler",value:function(t){this.dispatchEvent("validate",t)}},{key:"_modulesLoadedHandler",value:function(t){}},{key:"_joystickQuickmoveHandler",value:function(t){this._isOpen&&("up"===t.direction&&this._keyboard.modules.keyNavigation.up(),"down"===t.direction&&this._keyboard.modules.keyNavigation.down(),"left"===t.direction&&this._keyboard.modules.keyNavigation.left(),"right"===t.direction&&this._keyboard.modules.keyNavigation.right())}},{key:"_keydownHandler",value:function(t){this._isOpen&&("ArrowUp"===t.key&&this._keyboard.modules.keyNavigation.up(),"ArrowDown"===t.key&&this._keyboard.modules.keyNavigation.down(),"ArrowLeft"===t.key&&this._keyboard.modules.keyNavigation.left(),"ArrowRight"===t.key&&this._keyboard.modules.keyNavigation.right(),"Enter"===t.key&&this._clickActiveButton())}},{key:"_keyupHandler",value:function(t){if(this._isOpen)for(var e=this._container.querySelectorAll(".active"),n=0;n<e.length;n++){var r=e[n];r.classList.contains("active")&&r.classList.remove("active")}}},{key:"_machineKeydownHandler",value:function(t){this._isOpen&&("a"===t.key&&1===t.id&&this._clickActiveButton(),"b"===t.key&&1===t.id&&this._clickButton("{bksp}"),"c"===t.key&&1===t.id&&this._clickButton("{space}"),"d"===t.key&&1===t.id&&this._clickButton("{enter}"))}},{key:"_machineKeyupHandler",value:function(){if(this._isOpen)for(var t=this._container.querySelectorAll(".active"),e=0;e<t.length;e++){var n=t[e];n.classList.contains("active")&&n.classList.remove("active")}}}]),r}(d);vt(".exit-overlay {\n    display: none;\n\n    position: fixed;\n    left: 0;\n    top: 0;\n\n    width: 100%;\n    height: 100%;\n    backdrop-filter: blur(50px);\n}\n\n.exit-overlay.is-visible {\n    display: block;\n}\n\n.exit-overlay:before {\n    position: absolute;\n    left: 0;\n    top: 0;\n\n    width: 100%;\n    height: 100%;\n\n    content: '';\n\n    background-color: rgba(0, 0, 0, 0.5);\n}\n\n.exit-overlay .message {\n    position: absolute;\n    top: 40%;\n\n    width: 100%;\n\n    font-size: 50px;\n    text-align: center;\n    font-family: sans-serif;\n    color: white;\n}",{});var xt=function(t){a(r,t);var e=l(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this))._buttonManager=i.buttonManager,t._active=!1,t._container=document.body,t._element=t._createElement(),t._buttonValidation1=t._buttonManager.getButton("a",1),t._buttonValidation2=t._buttonManager.getButton("a",2),t._buttonCancelation1=t._buttonManager.getButton("b",1),t._buttonCancelation2=t._buttonManager.getButton("b",2),t._bindAll(),t._setupEventListeners(),t}return i(r,[{key:"_show",value:function(){this._element.classList.contains("is-visible")||this._element.classList.add("is-visible")}},{key:"_hide",value:function(){this._element.classList.contains("is-visible")&&this._element.classList.remove("is-visible")}},{key:"_createElement",value:function(){var t=document.createElement("div");t.classList.add("exit-overlay");var e=document.createElement("p");return e.innerHTML="Êtes-vous sûr de vouloir quitter ?",e.classList.add("message"),t.appendChild(e),this._container.appendChild(t),t}},{key:"_bindAll",value:function(){this._keydownHandler=this._keydownHandler.bind(this),this._homeKeyupHandler=this._homeKeyupHandler.bind(this),this._validationKeydownHandler=this._validationKeydownHandler.bind(this),this._cancelationKeydownHandler=this._cancelationKeydownHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("keydown",this._keydownHandler),this._buttonManager.addEventListener("home:keyup",this._homeKeyupHandler),this._buttonValidation1.addEventListener("keydown",this._validationKeydownHandler),this._buttonValidation2.addEventListener("keydown",this._validationKeydownHandler),this._buttonCancelation1.addEventListener("keydown",this._cancelationKeydownHandler),this._buttonCancelation2.addEventListener("keydown",this._cancelationKeydownHandler)}},{key:"_keydownHandler",value:function(t){"Escape"===t.key&&this._homeKeyupHandler()}},{key:"_homeKeyupHandler",value:function(){this._active?(this.dispatchEvent("exit:completed"),this._hide()):(this._active=!0,this.dispatchEvent("exit:attempted"),this._show())}},{key:"_validationKeydownHandler",value:function(){this._active&&(this.dispatchEvent("exit:completed"),this._hide())}},{key:"_cancelationKeydownHandler",value:function(){this._active&&(this._active=!1,this.dispatchEvent("exit:canceled"),this._hide())}}]),r}(d),wt=function(t){a(r,t);var e=l(r);function r(t){var i;return n(this,r),(i=e.call(this))._buttons=[],i._index=t,i._bindAll(),i._setupEventListeners(),i}return i(r,[{key:"update",value:function(){var t=navigator.getGamepads()[this._index];if(t){for(var e=0;e<this._buttons.length;e++){var n=this._buttons[e];n.current.pressed=t.buttons[e].pressed,n.current.pressed!==n.previous.pressed&&this.buttonStateChangedHandler(e,n.current.pressed),n.previous.pressed=n.current.pressed}this.joystickMoveHandler(t.axes)}}},{key:"isConnected",value:function(){return!!navigator.getGamepads()[this._index]}},{key:"_bindAll",value:function(){this._gamepadConnectedHandler=this._gamepadConnectedHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("gamepadconnected",this._gamepadConnectedHandler)}},{key:"_gamepadConnectedHandler",value:function(){var t=navigator.getGamepads()[this._index];if(t)for(var e=0;e<t.buttons.length;e++)this._buttons.push({previous:{pressed:t.buttons[e].pressed},current:{pressed:t.buttons[e].pressed}})}},{key:"buttonStateChangedHandler",value:function(t,e){e?this.dispatchEvent("gamepad:keydown",t):this.dispatchEvent("gamepad:keyup",t)}},{key:"joystickMoveHandler",value:function(t){this.dispatchEvent("gamepad:joystick:move",{index:0,position:{x:t[0],y:t[1]}}),this.dispatchEvent("gamepad:joystick:move",{index:1,position:{x:t[2],y:t[5]}})}}]),r}(d),Et=function(t){a(s,t);var r=l(s);function s(){var t;return n(this,s),(t=r.call(this))._ipcRenderer=null,t._firebaseToken=null,t._leaderboard=null,t._gamepadEmulators=[],t._ledManager=t._createLedManager(),t._joystickManager=t._createJoystickManager(),t._buttonManager=t._createButtonManager(),t._playerManager=t._createPlayerManager(),t._virtualKeyboard=t._createVirtualKeyboard(),t._exitOverlay=t._createExitOverlay(),t._bindAll(),t._exposeMethods(),t._setupEventListeners(),t}return i(s,[{key:"mappedKeys",get:function(){return this._mappedKeys}},{key:"ipcRenderer",get:function(){return this._ipcRenderer}},{key:"joystickManager",get:function(){return this._joystickManager}},{key:"joystick1",get:function(){return this._joystickManager.joystick1}},{key:"joystick2",get:function(){return this._joystickManager.joystick2}},{key:"buttonManager",get:function(){return this._buttonManager}},{key:"players",get:function(){return this._playerManager.players}},{key:"leaderboard",get:function(){return this._leaderboard}},{key:"virtualKeyboard",get:function(){return this._virtualKeyboard}},{key:"ledManager",get:function(){return this._ledManager}},{key:"destroy",value:function(){this._ipcRenderer=null}},{key:"registerKeys",value:function(t,e,n){return this._buttonManager.registerKeys(t,e,n)}},{key:"registerGamepadEmulatorKeys",value:function(t,e,n,r){return this._buttonManager.registerGamepadEmulatorKeys(t,e,n,r)}},{key:"enableMouseInteraction",value:function(t){this._ipcRenderer&&this._ipcRenderer.send("mouse:enable",t)}},{key:"disableMouseInteraction",value:function(){this._ipcRenderer&&this._ipcRenderer.send("mouse:disable",null)}},{key:"createPlayer",value:function(t){return this._playerManager.createPlayer(t)}},{key:"createLeaderboard",value:function(t){return this._createLeaderboard(t)}},{key:"createGamepadEmulator",value:function(t){var e=new wt(t);return this._gamepadEmulators.push(e),e}},{key:"_exposeMethods",value:function(){window.__axis__={},window.__axis__.set_ipc_renderer=this._setIpcRenderer}},{key:"_setIpcRenderer",value:function(t){this._ipcRenderer||(this._ipcRenderer=t,this._buttonManager.ipcRenderer=this._ipcRenderer,this._joystickManager.ipcRenderer=this._ipcRenderer,this._ledManager.ipcRenderer=this._ipcRenderer,this._leaderboard&&(this._leaderboard.ipcRenderer=this._ipcRenderer))}},{key:"_createLedManager",value:function(){return new Z}},{key:"_createJoystickManager",value:function(){return new st}},{key:"_createButtonManager",value:function(){return new lt({ledManager:this.ledManager})}},{key:"_createPlayerManager",value:function(){return new ht({joystickManager:this._joystickManager,buttonManager:this._buttonManager})}},{key:"_createLeaderboard",value:function(t){return this._leaderboard||(this._leaderboard=new ft(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({ipcRenderer:this._ipcRenderer},t))),this._leaderboard}},{key:"_createVirtualKeyboard",value:function(){return new _t({joystick1:this._joystickManager.joystick1,joystick2:this._joystickManager.joystick2,buttonManager:this._buttonManager})}},{key:"_createExitOverlay",value:function(){return new xt({buttonManager:this._buttonManager})}},{key:"_bindAll",value:function(){this._setIpcRenderer=this._setIpcRenderer.bind(this),this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),this._joystickMoveHandler=this._joystickMoveHandler.bind(this),this._joystickQuickMoveHandler=this._joystickQuickMoveHandler.bind(this),this._exitAttemptHandler=this._exitAttemptHandler.bind(this),this._exitCanceledHandler=this._exitCanceledHandler.bind(this),this._exitCompletedHandler=this._exitCompletedHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._buttonManager.addEventListener("keydown",this._keydownHandler),this._buttonManager.addEventListener("keyup",this._keyupHandler),this._joystickManager.joystick1.addEventListener("joystick:move",this._joystickMoveHandler),this._joystickManager.joystick2.addEventListener("joystick:move",this._joystickMoveHandler),this._exitOverlay.addEventListener("exit:attempted",this._exitAttemptHandler),this._exitOverlay.addEventListener("exit:canceled",this._exitCanceledHandler),this._exitOverlay.addEventListener("exit:completed",this._exitCompletedHandler)}},{key:"_keydownHandler",value:function(t){this.dispatchEvent("keydown",t)}},{key:"_keyupHandler",value:function(t){this.dispatchEvent("keyup",t)}},{key:"_joystickMoveHandler",value:function(t){this.dispatchEvent("joystick:move",t)}},{key:"_joystickQuickMoveHandler",value:function(t){this.dispatchEvent("joystick:quickmove",t)}},{key:"_exitAttemptHandler",value:function(){this.dispatchEvent("exit:attempted")}},{key:"_exitCanceledHandler",value:function(){this.dispatchEvent("exit:canceled")}},{key:"_exitCompletedHandler",value:function(){var t;this.dispatchEvent("exit:completed"),null===(t=this._ipcRenderer)||void 0===t||t.send("exit")}}]),s}(d),Mt=new Et;t.Axis=Mt,t.default=Mt,t.normalizeJoystickSignal=it,Object.defineProperty(t,"__esModule",{value:!0})}));
